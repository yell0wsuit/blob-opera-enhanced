// For Electron
// https://github.com/electron/electron/issues/2288

function isElectron() {
    // Renderer process
    if (typeof window !== "undefined" && typeof window.process === "object" && window.process.type === "renderer") {
        return true;
    }

    // Main process
    if (typeof process !== "undefined" && typeof process.versions === "object" && !!process.versions.electron) {
        return true;
    }

    // Detect the user agent when the `nodeIntegration` option is set to false
    if (
        typeof navigator === "object" &&
        typeof navigator.userAgent === "string" &&
        navigator.userAgent.indexOf("Electron") >= 0
    ) {
        return true;
    }

    return false;
}

!(function (e) {
    function t(t) {
        for (var n, o, a = t[0], r = t[1], s = 0, u = []; s < a.length; s++)
            (o = a[s]), Object.prototype.hasOwnProperty.call(i, o) && i[o] && u.push(i[o][0]), (i[o] = 0);
        for (n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
        for (l && l(t); u.length; ) u.shift()();
    }
    var n = {},
        i = { 1: 0 };
    function o(t) {
        if (n[t]) return n[t].exports;
        var i = (n[t] = { i: t, l: !1, exports: {} });
        return e[t].call(i.exports, i, i.exports, o), (i.l = !0), i.exports;
    }
    (o.e = function (e) {
        var t = [],
            n = i[e];
        if (0 !== n)
            if (n) t.push(n[2]);
            else {
                var a = new Promise(function (t, o) {
                    n = i[e] = [t, o];
                });
                t.push((n[2] = a));
                var r,
                    s = document.createElement("script");
                (s.charset = "utf-8"),
                    (s.timeout = 120),
                    o.nc && s.setAttribute("nonce", o.nc),
                    (s.src = (function (e) {
                        return o.p + "" + ({ 0: "Axl", 4: "audioworkletaudio" }[e] || e) + ".js";
                    })(e));
                var l = new Error();
                r = function (t) {
                    (s.onerror = s.onload = null), clearTimeout(u);
                    var n = i[e];
                    if (0 !== n) {
                        if (n) {
                            var o = t && ("load" === t.type ? "missing" : t.type),
                                a = t && t.target && t.target.src;
                            (l.message = "Loading chunk " + e + " failed.\n(" + o + ": " + a + ")"),
                                (l.name = "ChunkLoadError"),
                                (l.type = o),
                                (l.request = a),
                                n[1](l);
                        }
                        i[e] = void 0;
                    }
                };
                var u = setTimeout(function () {
                    r({ type: "timeout", target: s });
                }, 12e4);
                (s.onerror = s.onload = r), document.head.appendChild(s);
            }
        return Promise.all(t);
    }),
        (o.m = e),
        (o.c = n),
        (o.d = function (e, t, n) {
            o.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: n });
        }),
        (o.r = function (e) {
            "undefined" != typeof Symbol &&
                Symbol.toStringTag &&
                Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }),
                Object.defineProperty(e, "__esModule", { value: !0 });
        }),
        (o.t = function (e, t) {
            if ((1 & t && (e = o(e)), 8 & t)) return e;
            if (4 & t && "object" == typeof e && e && e.__esModule) return e;
            var n = Object.create(null);
            if (
                (o.r(n),
                Object.defineProperty(n, "default", { enumerable: !0, value: e }),
                2 & t && "string" != typeof e)
            )
                for (var i in e)
                    o.d(
                        n,
                        i,
                        function (t) {
                            return e[t];
                        }.bind(null, i)
                    );
            return n;
        }),
        (o.n = function (e) {
            var t =
                e && e.__esModule
                    ? function () {
                          return e.default;
                      }
                    : function () {
                          return e;
                      };
            return o.d(t, "a", t), t;
        }),
        (o.o = function (e, t) {
            return Object.prototype.hasOwnProperty.call(e, t);
        }),
        (o.p = "./files/"),
        (o.oe = function (e) {
            throw (console.error(e), e);
        });
    var a = (self.webpackJsonp = self.webpackJsonp || []),
        r = a.push.bind(a);
    (a.push = t), (a = a.slice());
    for (var s = 0; s < a.length; s++) t(a[s]);
    var l = r;
    o((o.s = 43));
})([
    function (e, t, n) {
        "use strict";
        n.d(t, "b", function () {
            return a;
        }),
            n.d(t, "o", function () {
                return r;
            }),
            n.d(t, "w", function () {
                return s;
            }),
            n.d(t, "v", function () {
                return l;
            }),
            n.d(t, "q", function () {
                return u;
            }),
            n.d(t, "a", function () {
                return c;
            }),
            n.d(t, "p", function () {
                return h;
            }),
            n.d(t, "g", function () {
                return d;
            }),
            n.d(t, "n", function () {
                return p;
            }),
            n.d(t, "k", function () {
                return f;
            }),
            n.d(t, "f", function () {
                return g;
            }),
            n.d(t, "c", function () {
                return b;
            }),
            n.d(t, "e", function () {
                return v;
            }),
            n.d(t, "d", function () {
                return y;
            }),
            n.d(t, "i", function () {
                return x;
            }),
            n.d(t, "r", function () {
                return k;
            }),
            n.d(t, "j", function () {
                return _;
            }),
            n.d(t, "t", function () {
                return w;
            }),
            n.d(t, "l", function () {
                return P;
            }),
            n.d(t, "m", function () {
                return S;
            }),
            n.d(t, "s", function () {
                return A;
            }),
            n.d(t, "h", function () {
                return T;
            }),
            n.d(t, "u", function () {
                return E;
            });
        var i = n(2),
            o = n(1);
        function a(e, t, n) {
            return Math.min(Math.max(e, t), n);
        }
        function r(e, t, n) {
            return a((n - e) / (t - e), 0, 1);
        }
        function s(e, t, n) {
            var i = a((n - e) / (t - e), 0, 1);
            return i * i * (3 - 2 * i);
        }
        function l(e, t, n) {
            return (n = a((n - e) / (t - e), 0, 1)) * n * n * (n * (6 * n - 15) + 10);
        }
        function u(e, t, n) {
            return (1 - n) * e + n * t;
        }
        function c(e, t) {
            if (e.length !== t.length) return !1;
            for (var n = 0; n < e.length; ++n) if (e[n] !== t[n]) return !1;
            return !0;
        }
        function h(e) {
            return 440 * Math.pow(2, (e - 69) / 12);
        }
        function d(e) {
            return 12 * Math.log2(e / 440) + 69;
        }
        function p(e) {
            return e === o.b.a || e === o.b.e || e === o.b.i || e === o.b.o || e === o.b.u;
        }
        var m = [0, 0, 0];
        function f(e, t, n, o, a) {
            var r = i.a.dot(n, a),
                s = i.a.dot(i.a.subtract(m, t, o), n) / r;
            return i.a.add(e, o, i.a.multiplyByScalar(m, a, s)), e;
        }
        function g(e, t) {
            for (var n = [], i = 0; i < e; ++i) n.push(t);
            return n;
        }
        function b(e, t, n) {
            for (var o = [], a = 0; a < e.length; ++a) o.push([0, 0, 0]);
            var r = function (t) {
                return [e[3 * t + 0], e[3 * t + 1], e[3 * t + 2] * n];
            };
            for (a = 0; a < t.length / 3; ++a) {
                var s = t[3 * a + 0],
                    l = t[3 * a + 1],
                    u = t[3 * a + 2],
                    c = r(s),
                    h = r(l),
                    d = r(u),
                    p = i.a.cross([], i.a.subtract([], h, c), i.a.subtract([], d, c));
                i.a.add(o[s], o[s], p), i.a.add(o[l], o[l], p), i.a.add(o[u], o[u], p);
            }
            for (a = 0; a < o.length; ++a) i.a.normalize(o[a], o[a]);
            var m = [];
            for (a = 0; a < o.length; ++a) m.push(o[a][0]), m.push(o[a][1]), m.push(o[a][2]);
            return m;
        }
        function v(e) {
            return (Math.PI * e) / 180;
        }
        function y(e, t) {
            new Uint8Array(t).set(new Uint8Array(e));
        }
        function x(e) {
            var t = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);
            return [parseInt(t[1], 16) / 255, parseInt(t[2], 16) / 255, parseInt(t[3], 16) / 255];
        }
        function k(e, t) {
            return Math.round(e / t) * t;
        }
        function _(e) {
            var t = e[0],
                n = e[1],
                i = e[2],
                o = i * n,
                a = 6 * (t %= 1),
                r = o * (1 - Math.abs((a % 2) - 1)),
                s = Math.floor(a),
                l = [o, r, 0, 0, r, o][s],
                u = [r, o, o, r, 0, 0][s],
                c = [0, 0, r, o, o, r][s],
                h = i - o;
            return [(l += h), (u += h), (c += h)];
        }
        function w(e) {
            var t = e[0],
                n = e[1],
                i = e[2],
                o = Math.max(t, n, i),
                a = o - Math.min(t, n, i),
                r = a && (o == t ? (n - i) / a : o == n ? 2 + (i - t) / a : 4 + (t - n) / a);
            return [(60 * (r < 0 ? r + 6 : r)) / 360, o && a / o, o];
        }
        function P(e) {
            return 11 === e.getMonth() || (0 === e.getMonth() && e.getDate() <= 5);
        }
        function S(e) {
            return (
                (11 === e.getMonth() && 31 === e.getDate()) ||
                (0 === e.getMonth() && 1 === e.getDate()) ||
                (0 === e.getMonth() && 2 === e.getDate())
            );
        }
        function A(e, t) {
            return e + Math.random() * (t - e);
        }
        function T(e) {
            return 11 === e.getMonth()
                ? Math.max(e.getFullYear() + 1, 2022).toFixed(0)
                : Math.max(e.getFullYear(), 2022).toFixed(0);
        }
        function E(e) {
            for (var t = e.length - 1; t > 0; t--) {
                var n = Math.floor(Math.random() * (t + 1)),
                    i = e[t];
                (e[t] = e[n]), (e[n] = i);
            }
        }
    },
    function (e, t, n) {
        "use strict";
        n.d(t, "a", function () {
            return o;
        }),
            n.d(t, "b", function () {
                return i;
            }),
            n.d(t, "c", function () {
                return a;
            }),
            n.d(t, "d", function () {
                return l;
            });
        var i,
            o = {
                spectralMin: -128.68316134071944,
                spectralMax: 19,
                aperiodicMin: -35.112804058126855,
                aperiodicMax: 13877787807814457e-33,
            };
        function a(e) {
            return e === i.a ? "a" : e === i.e ? "e" : e === i.i ? "i" : e === i.o ? "o" : e === i.u ? "u" : void 0;
        }
        !(function (e) {
            (e[(e.i = 0)] = "i"),
                (e[(e.a = 1)] = "a"),
                (e[(e.e = 2)] = "e"),
                (e[(e.o = 3)] = "o"),
                (e[(e.sil = 4)] = "sil"),
                (e[(e.r = 5)] = "r"),
                (e[(e.n = 6)] = "n"),
                (e[(e.l = 7)] = "l"),
                (e[(e.t = 8)] = "t"),
                (e[(e.s = 9)] = "s"),
                (e[(e.d = 10)] = "d"),
                (e[(e.u = 11)] = "u"),
                (e[(e.m = 12)] = "m"),
                (e[(e.p = 13)] = "p"),
                (e[(e.v = 14)] = "v"),
                (e[(e.ch = 15)] = "ch"),
                (e[(e.c = 16)] = "c"),
                (e[(e.f = 17)] = "f"),
                (e[(e.j = 18)] = "j"),
                (e[(e.b = 19)] = "b"),
                (e[(e.h = 20)] = "h"),
                (e[(e.g = 21)] = "g"),
                (e[(e.qu = 22)] = "qu"),
                (e[(e.sh = 23)] = "sh"),
                (e[(e.ny = 24)] = "ny"),
                (e[(e.y = 25)] = "y"),
                (e[(e.sk = 26)] = "sk"),
                (e[(e.z = 27)] = "z"),
                (e[(e.tz = 28)] = "tz");
        })(i || (i = {}));
        for (var r = [], s = 0; s < 29; ++s)
            r[s] =
                s === i.t ||
                s === i.s ||
                s === i.p ||
                s === i.v ||
                s === i.ch ||
                s === i.c ||
                s === i.f ||
                s === i.j ||
                s === i.h ||
                s === i.g ||
                s === i.qu ||
                s === i.sh ||
                s === i.sk ||
                s === i.z ||
                s === i.tz;
        function l(e) {
            return r[e];
        }
    },
    function (e, t, n) {
        "use strict";
        n.d(t, "a", function () {
            return a;
        });
        var i = n(6);
        function o(e, t, n) {
            return Math.min(Math.max(e, t), n);
        }
        var a = {
            set: function (e, t, n, i) {
                return (e[0] = t), (e[1] = n), (e[2] = i), e;
            },
            copy: function (e, t) {
                return (e[0] = t[0]), (e[1] = t[1]), (e[2] = t[2]), e;
            },
            clone: function (e) {
                return [e[0], e[1], e[2]];
            },
            dot: function (e, t) {
                return e[0] * t[0] + e[1] * t[1] + e[2] * t[2];
            },
            scaleAndAdd: function (e, t, n, i) {
                return (e[0] = t[0] + n[0] * i), (e[1] = t[1] + n[1] * i), (e[2] = t[2] + n[2] * i), e;
            },
            cross: function (e, t, n) {
                var i = t[0],
                    o = t[1],
                    a = t[2],
                    r = n[0],
                    s = n[1],
                    l = n[2];
                return (e[0] = o * l - a * s), (e[1] = a * r - i * l), (e[2] = i * s - o * r), e;
            },
            coneClamp: function (e, t, n, o) {
                if (a.dot(t, n) < -0.9999) return e;
                var r = Math.acos(a.dot(t, n));
                if (r > o) {
                    var s = a.normalize([], a.cross([], n, t)),
                        l = i.a.fromAxisAngle([], s, r - o);
                    return a.multiplyByQuaternion(e, n, l), e;
                }
                return e;
            },
            rotateTowards: function (e, t, n, o) {
                var r = Math.acos(a.dot(t, n));
                o > r && (o = r);
                var s = a.normalize([], a.cross([], t, n)),
                    l = i.a.fromAxisAngle([], s, o);
                return a.multiplyByQuaternion(e, t, l), e;
            },
            add: function (e, t, n) {
                return (e[0] = t[0] + n[0]), (e[1] = t[1] + n[1]), (e[2] = t[2] + n[2]), e;
            },
            multiply: function (e, t, n) {
                return (e[0] = t[0] * n[0]), (e[1] = t[1] * n[1]), (e[2] = t[2] * n[2]), e;
            },
            addList: function (e, t) {
                (e[0] = 0), (e[1] = 0), (e[2] = 0);
                for (var n = 0; n < t.length; ++n) (e[0] += t[n][0]), (e[1] += t[n][1]), (e[2] += t[n][2]);
                return e;
            },
            subtract: function (e, t, n) {
                return (e[0] = t[0] - n[0]), (e[1] = t[1] - n[1]), (e[2] = t[2] - n[2]), e;
            },
            multiplyByScalar: function (e, t, n) {
                return (e[0] = t[0] * n), (e[1] = t[1] * n), (e[2] = t[2] * n), e;
            },
            multiplyByQuaternion: function (e, t, n) {
                var i = t[0],
                    o = t[1],
                    a = t[2],
                    r = n[3],
                    s = n[0],
                    l = n[1],
                    u = n[2],
                    c = r * i + l * a - u * o,
                    h = r * o + u * i - s * a,
                    d = r * a + s * o - l * i,
                    p = -s * i - l * o - u * a;
                return (
                    (e[0] = p * -s + c * r + h * -u - d * -l),
                    (e[1] = p * -l + h * r + d * -s - c * -u),
                    (e[2] = p * -u + d * r + c * -l - h * -s),
                    e
                );
            },
            normalize: function (e, t) {
                var n = t[0],
                    i = t[1],
                    o = t[2],
                    a = 1 / Math.sqrt(n * n + i * i + o * o);
                return (e[0] = n * a), (e[1] = i * a), (e[2] = o * a), e;
            },
            distance: function (e, t) {
                var n = t[0] - e[0],
                    i = t[1] - e[1],
                    o = t[2] - e[2];
                return Math.sqrt(n * n + i * i + o * o);
            },
            distance2: function (e, t) {
                var n = t[0] - e[0],
                    i = t[1] - e[1],
                    o = t[2] - e[2];
                return n * n + i * i + o * o;
            },
            length: function (e) {
                return Math.sqrt(e[0] * e[0] + e[1] * e[1] + e[2] * e[2]);
            },
            mix: function (e, t, n, i) {
                return (
                    (e[0] = (1 - i) * t[0] + i * n[0]),
                    (e[1] = (1 - i) * t[1] + i * n[1]),
                    (e[2] = (1 - i) * t[2] + i * n[2]),
                    e
                );
            },
            linearMix: function (e, t, n, i) {
                for (var o = 0; o < 3; ++o)
                    t[o] < n[o]
                        ? (e[o] = Math.min(t[o] + i[o], n[o]))
                        : t[o] > n[o]
                        ? (e[o] = Math.max(t[o] - i[o], n[o]))
                        : (e[o] = n[o]);
            },
            clampedMix: function (e, t, n, i, o) {
                var r = a.subtract([], n, t),
                    s = a.length(r),
                    l = Math.min(s * i, o);
                l > 0 ? a.add(e, t, a.multiplyByScalar([], r, l / s)) : ((e[0] = n[0]), (e[1] = n[1]), (e[2] = n[2])),
                    a.multiplyByScalar(r, r, i);
            },
            clamp: function (e, t, n, i) {
                return (e[0] = o(t[0], n[0], i[0])), (e[1] = o(t[1], n[1], i[1])), (e[2] = o(t[2], n[2], i[2])), e;
            },
            slerp: function (e, t, n, i) {
                var r = a.dot(t, n);
                r = o(r, 0, 1);
                for (var s = Math.acos(r) * i, l = a.subtract([], n, a.multiplyByScalar([], t, r)), u = 0; u < 3; ++u)
                    e[u] = t[u] * Math.cos(s) + l[u] * Math.sin(s);
                return e;
            },
            pow: function (e, t, n) {
                return (e[0] = Math.pow(t[0], n)), (e[1] = Math.pow(t[1], n)), (e[2] = Math.pow(t[2], n)), e;
            },
            hsvToRGB: function (e, t) {
                var n = t[0],
                    i = t[1],
                    o = t[2],
                    a = 6 * (n %= 1),
                    r = (t = o * i) * (1 - Math.abs((a % 2) - 1)),
                    s = Math.floor(a),
                    l = [t, r, 0, 0, r, t][s],
                    u = [r, t, t, r, 0, 0][s],
                    c = [0, 0, r, t, t, r][s],
                    h = o - t;
                return (l += h), (u += h), (c += h), (e[0] = l), (e[1] = u), (e[2] = c), e;
            },
            rgbToHSV: function (e, t) {
                var n,
                    i,
                    o,
                    a,
                    r,
                    s = t[0],
                    l = t[1],
                    u = t[2],
                    c = Math.max(s, l, u),
                    h = c - Math.min(s, l, u),
                    d = function (e) {
                        return (c - e) / 6 / h + 0.5;
                    };
                return (
                    0 == h
                        ? (a = r = 0)
                        : ((r = h / c),
                          (n = d(s)),
                          (i = d(l)),
                          (o = d(u)),
                          s === c ? (a = o - i) : l === c ? (a = 1 / 3 + n - o) : u === c && (a = 2 / 3 + i - n),
                          a < 0 ? (a += 1) : a > 1 && (a -= 1)),
                    (e[0] = a),
                    (e[1] = r),
                    (e[2] = c),
                    e
                );
            },
        };
    },
    function (e, t, n) {
        "use strict";
        n.d(t, "a", function () {
            return a;
        });
        var i = n(0);
        function o(e) {
            return e;
        }
        var a = (function () {
            function e(e, t) {
                void 0 === t && (t = o),
                    (this.fromValue = e),
                    (this.targetValue = e),
                    (this.smoothingFunction = t),
                    (this.tweenDuration = 1),
                    (this.tweenStartTime = -99999);
            }
            return (
                (e.prototype.change = function (e, t, n) {
                    void 0 === n && (n = 0),
                        e !== this.targetValue &&
                            ((this.fromValue = this.evaluate()),
                            (this.targetValue = e),
                            (this.tweenDuration = 1e3 * t),
                            (this.tweenStartTime = Date.now() + 1e3 * n));
                }),
                (e.prototype.evaluate = function () {
                    if (0 === this.tweenDuration) return this.targetValue;
                    var e = this.smoothingFunction(
                        Object(i.o)(this.tweenStartTime, this.tweenStartTime + this.tweenDuration, Date.now())
                    );
                    return Object(i.q)(this.fromValue, this.targetValue, e);
                }),
                e
            );
        })();
    },
    function (e, t, n) {
        "use strict";
        function i(e) {
            return "./files/" + e;
        }
        n.d(t, "a", function () {
            return i;
        });
    },
    function (e, t, n) {
        "use strict";
        (function (e) {
            var i = t;
            function o(e, t, n) {
                for (var i = Object.keys(t), o = 0; o < i.length; ++o) (void 0 !== e[i[o]] && n) || (e[i[o]] = t[i[o]]);
                return e;
            }
            function a(e) {
                function t(e, n) {
                    if (!(this instanceof t)) return new t(e, n);
                    Object.defineProperty(this, "message", {
                        get: function () {
                            return e;
                        },
                    }),
                        Error.captureStackTrace
                            ? Error.captureStackTrace(this, t)
                            : Object.defineProperty(this, "stack", { value: new Error().stack || "" }),
                        n && o(this, n);
                }
                return (
                    ((t.prototype = Object.create(Error.prototype)).constructor = t),
                    Object.defineProperty(t.prototype, "name", {
                        get: function () {
                            return e;
                        },
                    }),
                    (t.prototype.toString = function () {
                        return this.name + ": " + this.message;
                    }),
                    t
                );
            }
            (i.asPromise = n(22)),
                (i.base64 = n(23)),
                (i.EventEmitter = n(24)),
                (i.float = n(25)),
                (i.inquire = n(26)),
                (i.utf8 = n(27)),
                (i.pool = n(28)),
                (i.LongBits = n(29)),
                (i.isNode = Boolean(void 0 !== e && e && e.process && e.process.versions && e.process.versions.node)),
                (i.global =
                    (i.isNode && e) ||
                    ("undefined" != typeof window && window) ||
                    ("undefined" != typeof self && self) ||
                    this),
                (i.emptyArray = Object.freeze ? Object.freeze([]) : []),
                (i.emptyObject = Object.freeze ? Object.freeze({}) : {}),
                (i.isInteger =
                    Number.isInteger ||
                    function (e) {
                        return "number" == typeof e && isFinite(e) && Math.floor(e) === e;
                    }),
                (i.isString = function (e) {
                    return "string" == typeof e || e instanceof String;
                }),
                (i.isObject = function (e) {
                    return e && "object" == typeof e;
                }),
                (i.isset = i.isSet =
                    function (e, t) {
                        var n = e[t];
                        return (
                            !(null == n || !e.hasOwnProperty(t)) &&
                            ("object" != typeof n || (Array.isArray(n) ? n.length : Object.keys(n).length) > 0)
                        );
                    }),
                (i.Buffer = (function () {
                    try {
                        var e = i.inquire("buffer").Buffer;
                        return e.prototype.utf8Write ? e : null;
                    } catch (e) {
                        return null;
                    }
                })()),
                (i._Buffer_from = null),
                (i._Buffer_allocUnsafe = null),
                (i.newBuffer = function (e) {
                    return "number" == typeof e
                        ? i.Buffer
                            ? i._Buffer_allocUnsafe(e)
                            : new i.Array(e)
                        : i.Buffer
                        ? i._Buffer_from(e)
                        : "undefined" == typeof Uint8Array
                        ? e
                        : new Uint8Array(e);
                }),
                (i.Array = "undefined" != typeof Uint8Array ? Uint8Array : Array),
                (i.Long = (i.global.dcodeIO && i.global.dcodeIO.Long) || i.global.Long || i.inquire("long")),
                (i.key2Re = /^true|false|0|1$/),
                (i.key32Re = /^-?(?:0|[1-9][0-9]*)$/),
                (i.key64Re = /^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/),
                (i.longToHash = function (e) {
                    return e ? i.LongBits.from(e).toHash() : i.LongBits.zeroHash;
                }),
                (i.longFromHash = function (e, t) {
                    var n = i.LongBits.fromHash(e);
                    return i.Long ? i.Long.fromBits(n.lo, n.hi, t) : n.toNumber(Boolean(t));
                }),
                (i.merge = o),
                (i.lcFirst = function (e) {
                    return e.charAt(0).toLowerCase() + e.substring(1);
                }),
                (i.newError = a),
                (i.ProtocolError = a("ProtocolError")),
                (i.oneOfGetter = function (e) {
                    for (var t = {}, n = 0; n < e.length; ++n) t[e[n]] = 1;
                    return function () {
                        for (var e = Object.keys(this), n = e.length - 1; n > -1; --n)
                            if (1 === t[e[n]] && void 0 !== this[e[n]] && null !== this[e[n]]) return e[n];
                    };
                }),
                (i.oneOfSetter = function (e) {
                    return function (t) {
                        for (var n = 0; n < e.length; ++n) e[n] !== t && delete this[e[n]];
                    };
                }),
                (i.toJSONOptions = { longs: String, enums: String, bytes: String, json: !0 }),
                (i._configure = function () {
                    var e = i.Buffer;
                    e
                        ? ((i._Buffer_from =
                              (e.from !== Uint8Array.from && e.from) ||
                              function (t, n) {
                                  return new e(t, n);
                              }),
                          (i._Buffer_allocUnsafe =
                              e.allocUnsafe ||
                              function (t) {
                                  return new e(t);
                              }))
                        : (i._Buffer_from = i._Buffer_allocUnsafe = null);
                });
        }).call(this, n(16));
    },
    function (e, t, n) {
        "use strict";
        n.d(t, "a", function () {
            return i;
        });
        var i = {
            identity: function () {
                return [0, 0, 0, 1];
            },
            makeIdentity: function (e) {
                return (e[0] = 0), (e[1] = 0), (e[2] = 0), (e[3] = 1), e;
            },
            length: function (e) {
                return e[0] * e[0] + e[1] * e[1] + e[2] * e[2] + e[3] * e[3];
            },
            invert: function (e, t) {
                var n = 1 / (t[0] * t[0] + t[1] * t[1] + t[2] * t[2] + t[3] * t[3]);
                return (e[0] = -t[0] * n), (e[1] = -t[1] * n), (e[2] = -t[2] * n), (e[3] = t[3] * n), e;
            },
            multiply: function (e, t, n) {
                var i = t[0],
                    o = t[1],
                    a = t[2],
                    r = t[3],
                    s = n[0],
                    l = n[1],
                    u = n[2],
                    c = n[3];
                return (
                    (e[0] = s * i - l * o - u * a - c * r),
                    (e[1] = s * o + l * i + u * r - c * a),
                    (e[2] = s * a - l * r + u * i + c * o),
                    (e[3] = s * r + l * a - u * o + c * i),
                    e
                );
            },
            normalize: function (e, t) {
                var n = 1 / Math.sqrt(t[0] * t[0] + t[1] * t[1] + t[2] * t[2] + t[3] * t[3]);
                return (e[0] = t[0] * n), (e[1] = t[1] * n), (e[2] = t[2] * n), (e[3] = t[3] * n), e;
            },
            fromAxisAngle: function (e, t, n) {
                return (
                    (e[0] = t[0] * Math.sin(n / 2)),
                    (e[1] = t[1] * Math.sin(n / 2)),
                    (e[2] = t[2] * Math.sin(n / 2)),
                    (e[3] = Math.cos(n / 2)),
                    e
                );
            },
            slerp: function (e, t, n, o) {
                var a,
                    r,
                    s,
                    l,
                    u,
                    c = t[0],
                    h = t[1],
                    d = t[2],
                    p = t[3],
                    m = n[0],
                    f = n[1],
                    g = n[2],
                    b = n[3];
                return (
                    (r = c * m + h * f + d * g + p * b) < 0 && ((r = -r), (m = -m), (f = -f), (g = -g), (b = -b)),
                    1 - r > 1e-6
                        ? ((a = Math.acos(r)),
                          (s = Math.sin(a)),
                          (l = Math.sin((1 - o) * a) / s),
                          (u = Math.sin(o * a) / s))
                        : ((l = 1 - o), (u = o)),
                    (e[0] = l * c + u * m),
                    (e[1] = l * h + u * f),
                    (e[2] = l * d + u * g),
                    (e[3] = l * p + u * b),
                    i.normalize(e, e),
                    e
                );
            },
        };
    },
    function (e, t, n) {
        "use strict";
        n.d(t, "b", function () {
            return i;
        }),
            n.d(t, "a", function () {
                return o;
            });
        var i = (function () {
                function e(e, t) {
                    (this.module = e), (this.pointer = this.module._malloc(4 * t)), (this.length = t);
                }
                return (
                    (e.prototype.getArray = function () {
                        return this.module.HEAPU32.subarray(this.pointer >> 2, (this.pointer >> 2) + this.length);
                    }),
                    e
                );
            })(),
            o = (function () {
                function e(e, t) {
                    (this.module = e), (this.pointer = this.module._malloc(4 * t)), (this.length = t);
                }
                return (
                    (e.prototype.getArray = function () {
                        return this.module.HEAPF32.subarray(this.pointer >> 2, (this.pointer >> 2) + this.length);
                    }),
                    e
                );
            })();
    },
    function (e, t, n) {
        "use strict";
        function i(e) {
            return new Promise(function (t, n) {
                var i = new XMLHttpRequest();
                i.open("GET", e, !0),
                    (i.responseType = "arraybuffer"),
                    (i.onload = function (e) {
                        var n = i.response;
                        n && t(n);
                    }),
                    i.send(null);
            });
        }
        function o(e) {
            return new Promise(function (t, n) {
                var i = document.createElement("img");
                (i.onload = function () {
                    t(i);
                }),
                    (i.src = e);
            });
        }
        function a(e) {
            return new Promise(function (t, n) {
                var i = new XMLHttpRequest();
                i.open("GET", e, !0),
                    (i.onload = function () {
                        t(JSON.parse(i.responseText));
                    }),
                    i.send(null);
            });
        }
        n.d(t, "a", function () {
            return i;
        }),
            n.d(t, "b", function () {
                return o;
            }),
            n.d(t, "c", function () {
                return a;
            });
    },
    function (e, t, n) {
        "use strict";
        n.d(t, "a", function () {
            return i;
        });
        var i = (function () {
            function e(e) {
                (this.buffer = e), (this.floatView = new Float32Array(e)), (this.intView = new Int32Array(e));
            }
            return (
                (e.prototype.setId = function (e) {
                    this.intView[0] = e;
                }),
                (e.prototype.getId = function () {
                    return this.intView[0];
                }),
                (e.prototype.setPhoneme = function (e) {
                    this.intView[1] = e;
                }),
                (e.prototype.getPhoneme = function () {
                    return this.intView[1];
                }),
                (e.prototype.setPreviousPhoneme = function (e) {
                    this.intView[2] = e;
                }),
                (e.prototype.getPreviousPhoneme = function () {
                    return this.intView[2];
                }),
                (e.prototype.setNextPhoneme = function (e) {
                    this.intView[3] = e;
                }),
                (e.prototype.getNextPhoneme = function () {
                    return this.intView[3];
                }),
                (e.prototype.setPhonemePosition = function (e) {
                    this.floatView[4] = e;
                }),
                (e.prototype.getPhonemePosition = function () {
                    return this.floatView[4];
                }),
                (e.prototype.setF0 = function (e) {
                    this.floatView[5] = e;
                }),
                (e.prototype.getF0 = function () {
                    return this.floatView[5];
                }),
                (e.prototype.setSingerIndex = function (e) {
                    this.intView[6] = e;
                }),
                (e.prototype.getSingerIndex = function () {
                    return this.intView[6];
                }),
                (e.prototype.setMidiNote = function (e) {
                    this.floatView[7] = e;
                }),
                (e.prototype.getMidiNote = function () {
                    return this.floatView[7];
                }),
                (e.prototype.setVowel = function (e) {
                    this.intView[8] = e;
                }),
                (e.prototype.getVowel = function () {
                    return this.intView[8];
                }),
                (e.prototype.setMuted = function (e) {
                    this.intView[9] = e ? 1 : 0;
                }),
                (e.prototype.getMuted = function () {
                    return 0 !== this.intView[9];
                }),
                (e.prototype.setControlled = function (e) {
                    this.intView[10] = e ? 1 : 0;
                }),
                (e.prototype.getControlled = function () {
                    return 0 !== this.intView[10];
                }),
                (e.prototype.setSkip = function (e) {
                    this.intView[11] = e;
                }),
                (e.prototype.getSkip = function () {
                    return this.intView[11];
                }),
                (e.prototype.getAperiodic = function () {
                    return this.floatView.subarray(12, 16);
                }),
                (e.getSizeBytes = function () {
                    return 64;
                }),
                (e.isExcitationFrame = function (t) {
                    return t.byteLength === e.getSizeBytes();
                }),
                e
            );
        })();
    },
    function (e, t, n) {
        "use strict";
        n.d(t, "b", function () {
            return a;
        }),
            n.d(t, "a", function () {
                return r;
            });
        var i = n(0);
        function o(e, t, n, o) {
            var a,
                r = (-3 * Math.abs(Math.log2(t / Object(i.b)(e, 1, 16e3)))) / n;
            return ((a = r + 100) > 0 ? Math.pow(10, (a - 100) / 20) : 0) * o;
        }
        function a(e) {
            for (var t = [], n = 0; n < 60; ++n) t.push(0);
            for (
                var i = (function (e, t, n) {
                        for (var i = [], o = t / 2 / (e - 1), a = 0; a < e; ++a) {
                            var r = a * o,
                                s = (2 * Math.PI * r) / t,
                                l = -n,
                                u = Math.atan2((1 - l * l) * Math.sin(s), (1 + l * l) * Math.cos(s) - 2 * l);
                            i.push((u / (2 * Math.PI)) * t);
                        }
                        return (i[e - 1] = t / 2), i;
                    })(60, 32e3, 0.45),
                    a = 0,
                    r = e;
                a < r.length;
                a++
            ) {
                var s = r[a];
                for (n = 0; n < 60; ++n) t[n] += o(i[n], s.centreFrequencyHz, s.bandwidthOctaves, s.gainDB);
            }
            return t;
        }
        var r = {
            forceScriptProcessor: !1,
            scriptProcessorBufferSize: 4096,
            frameHopSeconds: 0.005,
            excitationOffset: 0,
            targetFFTSize: 512,
            pans: [
                [-23, -6, 17, 28],
                [0, -14, 14, 28],
                [0, 0, -14, 14],
                [0, 0, 0, 0],
            ],
            reverb: {
                mix: 0.6,
                feedback: 0.88,
                lowcut: 3e-4,
                highcut: 0.741,
                crossfreq: 0.833,
                predelay_ms: 0,
                modamount: 0.008,
                modtime: 0.666,
            },
            noiseExcitation: !1,
            onlySpectralGain: !1,
            voiceTypes: [
                { scale: [67, 69, 71, 72, 74, 76, 77, 79, 81, 83, 84] },
                { scale: [60, 62, 64, 65, 67, 69, 71, 72, 74, 76] },
                { scale: [48, 50, 52, 53, 55, 57, 59, 60, 62, 64, 65, 67] },
                { scale: [43, 45, 47, 48, 50, 52, 53, 55, 57, 59, 60] },
            ],
            singers: [
                {
                    voiceType: 0,
                    pitchStops: [62, 72, 80],
                    spectralFilters: [
                        { centreFrequencyHz: 459, bandwidthOctaves: 4, gainDB: -4.4 },
                        { centreFrequencyHz: 1640, bandwidthOctaves: 2.6, gainDB: 4.4 },
                        { centreFrequencyHz: 15e3, bandwidthOctaves: 4, gainDB: -2.8 },
                    ],
                    aperiodicGain: { vowel: [-15, -9, -6, 0, -9, -15], consonant: [0, 0, 0, 0, 0, 0] },
                    periodicGain: { vowel: [0, 0, 0, 0, 0, 0], consonant: [0, 0, 0, 0, 0, 0] },
                    jitterScale: 1,
                    spectralSingerMapping: [1, 0, 0, 0, 0, 0],
                    aperiodicSingerMapping: [1, 0, 0, 0, 0, 0],
                    gain: 1.883,
                },
                {
                    pitchStops: [59, 68, 74],
                    voiceType: 1,
                    spectralFilters: [
                        { centreFrequencyHz: 87.8, bandwidthOctaves: 3, gainDB: -7.4 },
                        { centreFrequencyHz: 275.5, bandwidthOctaves: 2.15, gainDB: 6.8 },
                        { centreFrequencyHz: 3263, bandwidthOctaves: 2, gainDB: -2.2 },
                    ],
                    aperiodicGain: { vowel: [-3, 0, 0, 0, -3, -6], consonant: [0, 0, 0, 0, 0, 0] },
                    periodicGain: { vowel: [0, 0, 0, 0, 0, 0], consonant: [0, 0, 0, 0, 0, 0] },
                    jitterScale: 1,
                    spectralSingerMapping: [0.1, 0.5, 0, 0, 1, 0],
                    aperiodicSingerMapping: [0.1, 0.5, 0, 0, 1, 0],
                    gain: 1.6947,
                },
                {
                    pitchStops: [48, 58, 65],
                    voiceType: 2,
                    spectralFilters: [
                        { centreFrequencyHz: 72, bandwidthOctaves: 4, gainDB: -6.8 },
                        { centreFrequencyHz: 874.3, bandwidthOctaves: 2.18, gainDB: 4.8 },
                        { centreFrequencyHz: 2212, bandwidthOctaves: 3.68, gainDB: -3.4 },
                    ],
                    aperiodicGain: { vowel: [0, 0, 0, 0, 0, 0], consonant: [0, 0, 0, 0, 0, 0] },
                    periodicGain: { vowel: [0, 0, 0, 0, 0, 0], consonant: [0, 0, 0, 0, 0, 0] },
                    jitterScale: 1,
                    spectralSingerMapping: [0, 0, 0, 1, 0, 0],
                    aperiodicSingerMapping: [0, 0, 0, 1, 0, 0],
                    gain: 2.4479,
                },
                {
                    pitchStops: [43, 52, 60],
                    voiceType: 3,
                    spectralFilters: [
                        { centreFrequencyHz: 225.7, bandwidthOctaves: 2.95, gainDB: 5.2 },
                        { centreFrequencyHz: 1031.6, bandwidthOctaves: 2, gainDB: -4.8 },
                        { centreFrequencyHz: 2558.2, bandwidthOctaves: 3.02, gainDB: 1.8 },
                    ],
                    aperiodicGain: { vowel: [0, 0, 0, 0, 0, 0], consonant: [0, 0, 0, 0, 0, 0] },
                    periodicGain: { vowel: [0, 0, 0, 0, 0, 0], consonant: [0, 0, 0, 0, 0, 0] },
                    jitterScale: 1,
                    spectralSingerMapping: [0, 0, 0, 1, 0, 0],
                    aperiodicSingerMapping: [0, 0, 0, 1, 0, 0],
                    gain: 1.5064,
                },
            ],
        };
    },
    function (e, t, n) {
        "use strict";
        n.d(t, "a", function () {
            return i;
        });
        var i = (function () {
            function e(e) {
                (this.buffer = e), (this.floatView = new Float32Array(e)), (this.intView = new Int32Array(e));
            }
            return (
                (e.prototype.setId = function (e) {
                    this.intView[0] = e;
                }),
                (e.prototype.getId = function () {
                    return this.intView[0];
                }),
                (e.prototype.setPhoneme = function (e) {
                    this.intView[1] = e;
                }),
                (e.prototype.getPhoneme = function () {
                    return this.intView[1];
                }),
                (e.prototype.setPreviousPhoneme = function (e) {
                    this.intView[2] = e;
                }),
                (e.prototype.getPreviousPhoneme = function () {
                    return this.intView[2];
                }),
                (e.prototype.setNextPhoneme = function (e) {
                    this.intView[3] = e;
                }),
                (e.prototype.getNextPhoneme = function () {
                    return this.intView[3];
                }),
                (e.prototype.setPhonemePosition = function (e) {
                    this.floatView[4] = e;
                }),
                (e.prototype.getPhonemePosition = function () {
                    return this.floatView[4];
                }),
                (e.prototype.setF0 = function (e) {
                    this.floatView[5] = e;
                }),
                (e.prototype.getF0 = function () {
                    return this.floatView[5];
                }),
                (e.prototype.setSingerIndex = function (e) {
                    this.intView[6] = e;
                }),
                (e.prototype.getSingerIndex = function () {
                    return this.intView[6];
                }),
                (e.prototype.setMidiNote = function (e) {
                    this.floatView[7] = e;
                }),
                (e.prototype.getMidiNote = function () {
                    return this.floatView[7];
                }),
                (e.prototype.setVowel = function (e) {
                    this.intView[8] = e;
                }),
                (e.prototype.getVowel = function () {
                    return this.intView[8];
                }),
                (e.prototype.setMuted = function (e) {
                    this.intView[9] = e ? 1 : 0;
                }),
                (e.prototype.getMuted = function () {
                    return 0 !== this.intView[9];
                }),
                (e.prototype.setControlled = function (e) {
                    this.intView[10] = e ? 1 : 0;
                }),
                (e.prototype.getControlled = function () {
                    return 0 !== this.intView[10];
                }),
                (e.prototype.setSkip = function (e) {
                    this.intView[11] = e;
                }),
                (e.prototype.getSkip = function () {
                    return this.intView[11];
                }),
                (e.prototype.getSpectral = function () {
                    return this.floatView.subarray(12, 270);
                }),
                (e.prototype.setSubsteps = function (e) {
                    this.intView[270] = e;
                }),
                (e.prototype.getSubsteps = function () {
                    return this.intView[270];
                }),
                (e.prototype.setSendTime = function (e) {
                    this.floatView[271] = e;
                }),
                (e.prototype.getSendTime = function () {
                    return this.floatView[271];
                }),
                (e.getSizeBytes = function () {
                    return 1088;
                }),
                (e.isSpectralFrame = function (t) {
                    return t.byteLength === e.getSizeBytes();
                }),
                e
            );
        })();
    },
    function (e, t, n) {
        "use strict";
        function i() {
            return "?v=5";
        }
        n.d(t, "a", function () {
            return i;
        });
    },
    ,
    function (e, t, n) {
        "use strict";
        function i() {
            return WebAssembly.validate(
                new Uint8Array([
                    0, 97, 115, 109, 1, 0, 0, 0, 1, 4, 1, 96, 0, 0, 3, 2, 1, 0, 10, 9, 1, 7, 0, 65, 0, 253, 15, 26, 11,
                ])
            );
        }
        n.d(t, "a", function () {
            return i;
        });
    },
    function (e, t, n) {
        "use strict";
        e.exports = h;
        var i,
            o = n(5),
            a = o.LongBits,
            r = o.base64,
            s = o.utf8;
        function l(e, t, n) {
            (this.fn = e), (this.len = t), (this.next = void 0), (this.val = n);
        }
        function u() {}
        function c(e) {
            (this.head = e.head), (this.tail = e.tail), (this.len = e.len), (this.next = e.states);
        }
        function h() {
            (this.len = 0), (this.head = new l(u, 0, 0)), (this.tail = this.head), (this.states = null);
        }
        var d = function () {
            return o.Buffer
                ? function () {
                      return (h.create = function () {
                          return new i();
                      })();
                  }
                : function () {
                      return new h();
                  };
        };
        function p(e, t, n) {
            t[n] = 255 & e;
        }
        function m(e, t) {
            (this.len = e), (this.next = void 0), (this.val = t);
        }
        function f(e, t, n) {
            for (; e.hi; ) (t[n++] = (127 & e.lo) | 128), (e.lo = ((e.lo >>> 7) | (e.hi << 25)) >>> 0), (e.hi >>>= 7);
            for (; e.lo > 127; ) (t[n++] = (127 & e.lo) | 128), (e.lo = e.lo >>> 7);
            t[n++] = e.lo;
        }
        function g(e, t, n) {
            (t[n] = 255 & e), (t[n + 1] = (e >>> 8) & 255), (t[n + 2] = (e >>> 16) & 255), (t[n + 3] = e >>> 24);
        }
        (h.create = d()),
            (h.alloc = function (e) {
                return new o.Array(e);
            }),
            o.Array !== Array && (h.alloc = o.pool(h.alloc, o.Array.prototype.subarray)),
            (h.prototype._push = function (e, t, n) {
                return (this.tail = this.tail.next = new l(e, t, n)), (this.len += t), this;
            }),
            (m.prototype = Object.create(l.prototype)),
            (m.prototype.fn = function (e, t, n) {
                for (; e > 127; ) (t[n++] = (127 & e) | 128), (e >>>= 7);
                t[n] = e;
            }),
            (h.prototype.uint32 = function (e) {
                return (
                    (this.len += (this.tail = this.tail.next =
                        new m((e >>>= 0) < 128 ? 1 : e < 16384 ? 2 : e < 2097152 ? 3 : e < 268435456 ? 4 : 5, e)).len),
                    this
                );
            }),
            (h.prototype.int32 = function (e) {
                return e < 0 ? this._push(f, 10, a.fromNumber(e)) : this.uint32(e);
            }),
            (h.prototype.sint32 = function (e) {
                return this.uint32(((e << 1) ^ (e >> 31)) >>> 0);
            }),
            (h.prototype.uint64 = function (e) {
                var t = a.from(e);
                return this._push(f, t.length(), t);
            }),
            (h.prototype.int64 = h.prototype.uint64),
            (h.prototype.sint64 = function (e) {
                var t = a.from(e).zzEncode();
                return this._push(f, t.length(), t);
            }),
            (h.prototype.bool = function (e) {
                return this._push(p, 1, e ? 1 : 0);
            }),
            (h.prototype.fixed32 = function (e) {
                return this._push(g, 4, e >>> 0);
            }),
            (h.prototype.sfixed32 = h.prototype.fixed32),
            (h.prototype.fixed64 = function (e) {
                var t = a.from(e);
                return this._push(g, 4, t.lo)._push(g, 4, t.hi);
            }),
            (h.prototype.sfixed64 = h.prototype.fixed64),
            (h.prototype.float = function (e) {
                return this._push(o.float.writeFloatLE, 4, e);
            }),
            (h.prototype.double = function (e) {
                return this._push(o.float.writeDoubleLE, 8, e);
            });
        var b = o.Array.prototype.set
            ? function (e, t, n) {
                  t.set(e, n);
              }
            : function (e, t, n) {
                  for (var i = 0; i < e.length; ++i) t[n + i] = e[i];
              };
        (h.prototype.bytes = function (e) {
            var t = e.length >>> 0;
            if (!t) return this._push(p, 1, 0);
            if (o.isString(e)) {
                var n = h.alloc((t = r.length(e)));
                r.decode(e, n, 0), (e = n);
            }
            return this.uint32(t)._push(b, t, e);
        }),
            (h.prototype.string = function (e) {
                var t = s.length(e);
                return t ? this.uint32(t)._push(s.write, t, e) : this._push(p, 1, 0);
            }),
            (h.prototype.fork = function () {
                return (this.states = new c(this)), (this.head = this.tail = new l(u, 0, 0)), (this.len = 0), this;
            }),
            (h.prototype.reset = function () {
                return (
                    this.states
                        ? ((this.head = this.states.head),
                          (this.tail = this.states.tail),
                          (this.len = this.states.len),
                          (this.states = this.states.next))
                        : ((this.head = this.tail = new l(u, 0, 0)), (this.len = 0)),
                    this
                );
            }),
            (h.prototype.ldelim = function () {
                var e = this.head,
                    t = this.tail,
                    n = this.len;
                return this.reset().uint32(n), n && ((this.tail.next = e.next), (this.tail = t), (this.len += n)), this;
            }),
            (h.prototype.finish = function () {
                for (var e = this.head.next, t = this.constructor.alloc(this.len), n = 0; e; )
                    e.fn(e.val, t, n), (n += e.len), (e = e.next);
                return t;
            }),
            (h._configure = function (e) {
                (i = e), (h.create = d()), i._configure();
            });
    },
    function (e, t) {
        var n;
        n = (function () {
            return this;
        })();
        try {
            n = n || new Function("return this")();
        } catch (e) {
            "object" == typeof window && (n = window);
        }
        e.exports = n;
    },
    function (e, t, n) {
        "use strict";
        e.exports = l;
        var i,
            o = n(5),
            a = o.LongBits,
            r = o.utf8;
        function s(e, t) {
            return RangeError("index out of range: " + e.pos + " + " + (t || 1) + " > " + e.len);
        }
        function l(e) {
            (this.buf = e), (this.pos = 0), (this.len = e.length);
        }
        var u,
            c =
                "undefined" != typeof Uint8Array
                    ? function (e) {
                          if (e instanceof Uint8Array || Array.isArray(e)) return new l(e);
                          throw Error("illegal buffer");
                      }
                    : function (e) {
                          if (Array.isArray(e)) return new l(e);
                          throw Error("illegal buffer");
                      },
            h = function () {
                return o.Buffer
                    ? function (e) {
                          return (l.create = function (e) {
                              return o.Buffer.isBuffer(e) ? new i(e) : c(e);
                          })(e);
                      }
                    : c;
            };
        function d() {
            var e = new a(0, 0),
                t = 0;
            if (!(this.len - this.pos > 4)) {
                for (; t < 3; ++t) {
                    if (this.pos >= this.len) throw s(this);
                    if (((e.lo = (e.lo | ((127 & this.buf[this.pos]) << (7 * t))) >>> 0), this.buf[this.pos++] < 128))
                        return e;
                }
                return (e.lo = (e.lo | ((127 & this.buf[this.pos++]) << (7 * t))) >>> 0), e;
            }
            for (; t < 4; ++t)
                if (((e.lo = (e.lo | ((127 & this.buf[this.pos]) << (7 * t))) >>> 0), this.buf[this.pos++] < 128))
                    return e;
            if (
                ((e.lo = (e.lo | ((127 & this.buf[this.pos]) << 28)) >>> 0),
                (e.hi = (e.hi | ((127 & this.buf[this.pos]) >> 4)) >>> 0),
                this.buf[this.pos++] < 128)
            )
                return e;
            if (((t = 0), this.len - this.pos > 4)) {
                for (; t < 5; ++t)
                    if (
                        ((e.hi = (e.hi | ((127 & this.buf[this.pos]) << (7 * t + 3))) >>> 0),
                        this.buf[this.pos++] < 128)
                    )
                        return e;
            } else
                for (; t < 5; ++t) {
                    if (this.pos >= this.len) throw s(this);
                    if (
                        ((e.hi = (e.hi | ((127 & this.buf[this.pos]) << (7 * t + 3))) >>> 0),
                        this.buf[this.pos++] < 128)
                    )
                        return e;
                }
            throw Error("invalid varint encoding");
        }
        function p(e, t) {
            return (e[t - 4] | (e[t - 3] << 8) | (e[t - 2] << 16) | (e[t - 1] << 24)) >>> 0;
        }
        function m() {
            if (this.pos + 8 > this.len) throw s(this, 8);
            return new a(p(this.buf, (this.pos += 4)), p(this.buf, (this.pos += 4)));
        }
        (l.create = h()),
            (l.prototype._slice = o.Array.prototype.subarray || o.Array.prototype.slice),
            (l.prototype.uint32 =
                ((u = 4294967295),
                function () {
                    if (((u = (127 & this.buf[this.pos]) >>> 0), this.buf[this.pos++] < 128)) return u;
                    if (((u = (u | ((127 & this.buf[this.pos]) << 7)) >>> 0), this.buf[this.pos++] < 128)) return u;
                    if (((u = (u | ((127 & this.buf[this.pos]) << 14)) >>> 0), this.buf[this.pos++] < 128)) return u;
                    if (((u = (u | ((127 & this.buf[this.pos]) << 21)) >>> 0), this.buf[this.pos++] < 128)) return u;
                    if (((u = (u | ((15 & this.buf[this.pos]) << 28)) >>> 0), this.buf[this.pos++] < 128)) return u;
                    if ((this.pos += 5) > this.len) throw ((this.pos = this.len), s(this, 10));
                    return u;
                })),
            (l.prototype.int32 = function () {
                return 0 | this.uint32();
            }),
            (l.prototype.sint32 = function () {
                var e = this.uint32();
                return ((e >>> 1) ^ -(1 & e)) | 0;
            }),
            (l.prototype.bool = function () {
                return 0 !== this.uint32();
            }),
            (l.prototype.fixed32 = function () {
                if (this.pos + 4 > this.len) throw s(this, 4);
                return p(this.buf, (this.pos += 4));
            }),
            (l.prototype.sfixed32 = function () {
                if (this.pos + 4 > this.len) throw s(this, 4);
                return 0 | p(this.buf, (this.pos += 4));
            }),
            (l.prototype.float = function () {
                if (this.pos + 4 > this.len) throw s(this, 4);
                var e = o.float.readFloatLE(this.buf, this.pos);
                return (this.pos += 4), e;
            }),
            (l.prototype.double = function () {
                if (this.pos + 8 > this.len) throw s(this, 4);
                var e = o.float.readDoubleLE(this.buf, this.pos);
                return (this.pos += 8), e;
            }),
            (l.prototype.bytes = function () {
                var e = this.uint32(),
                    t = this.pos,
                    n = this.pos + e;
                if (n > this.len) throw s(this, e);
                return (
                    (this.pos += e),
                    Array.isArray(this.buf)
                        ? this.buf.slice(t, n)
                        : t === n
                        ? new this.buf.constructor(0)
                        : this._slice.call(this.buf, t, n)
                );
            }),
            (l.prototype.string = function () {
                var e = this.bytes();
                return r.read(e, 0, e.length);
            }),
            (l.prototype.skip = function (e) {
                if ("number" == typeof e) {
                    if (this.pos + e > this.len) throw s(this, e);
                    this.pos += e;
                } else
                    do {
                        if (this.pos >= this.len) throw s(this);
                    } while (128 & this.buf[this.pos++]);
                return this;
            }),
            (l.prototype.skipType = function (e) {
                switch (e) {
                    case 0:
                        this.skip();
                        break;
                    case 1:
                        this.skip(8);
                        break;
                    case 2:
                        this.skip(this.uint32());
                        break;
                    case 3:
                        for (; 4 != (e = 7 & this.uint32()); ) this.skipType(e);
                        break;
                    case 5:
                        this.skip(4);
                        break;
                    default:
                        throw Error("invalid wire type " + e + " at offset " + this.pos);
                }
                return this;
            }),
            (l._configure = function (e) {
                (i = e), (l.create = h()), i._configure();
                var t = o.Long ? "toLong" : "toNumber";
                o.merge(l.prototype, {
                    int64: function () {
                        return d.call(this)[t](!1);
                    },
                    uint64: function () {
                        return d.call(this)[t](!0);
                    },
                    sint64: function () {
                        return d.call(this).zzDecode()[t](!1);
                    },
                    fixed64: function () {
                        return m.call(this)[t](!0);
                    },
                    sfixed64: function () {
                        return m.call(this)[t](!1);
                    },
                });
            });
    },
    function (e, t, n) {
        "use strict";
        var i = n(20),
            o = i.Reader,
            a = i.Writer,
            r = i.util,
            s = i.roots.default || (i.roots.default = {});
        (s.JitterTemplates = (function () {
            function e(e) {
                if (((this.templates = []), e))
                    for (var t = Object.keys(e), n = 0; n < t.length; ++n) null != e[t[n]] && (this[t[n]] = e[t[n]]);
            }
            return (
                (e.prototype.templates = r.emptyArray),
                (e.create = function (t) {
                    return new e(t);
                }),
                (e.encode = function (e, t) {
                    if ((t || (t = a.create()), null != e.templates && e.templates.length))
                        for (var n = 0; n < e.templates.length; ++n)
                            s.JitterTemplates.Template.encode(e.templates[n], t.uint32(10).fork()).ldelim();
                    return t;
                }),
                (e.encodeDelimited = function (e, t) {
                    return this.encode(e, t).ldelim();
                }),
                (e.decode = function (e, t) {
                    e instanceof o || (e = o.create(e));
                    for (var n = void 0 === t ? e.len : e.pos + t, i = new s.JitterTemplates(); e.pos < n; ) {
                        var a = e.uint32();
                        switch (a >>> 3) {
                            case 1:
                                (i.templates && i.templates.length) || (i.templates = []),
                                    i.templates.push(s.JitterTemplates.Template.decode(e, e.uint32()));
                                break;
                            default:
                                e.skipType(7 & a);
                        }
                    }
                    return i;
                }),
                (e.decodeDelimited = function (e) {
                    return e instanceof o || (e = new o(e)), this.decode(e, e.uint32());
                }),
                (e.verify = function (e) {
                    if ("object" != typeof e || null === e) return "object expected";
                    if (null != e.templates && e.hasOwnProperty("templates")) {
                        if (!Array.isArray(e.templates)) return "templates: array expected";
                        for (var t = 0; t < e.templates.length; ++t) {
                            var n = s.JitterTemplates.Template.verify(e.templates[t]);
                            if (n) return "templates." + n;
                        }
                    }
                    return null;
                }),
                (e.fromObject = function (e) {
                    if (e instanceof s.JitterTemplates) return e;
                    var t = new s.JitterTemplates();
                    if (e.templates) {
                        if (!Array.isArray(e.templates)) throw TypeError(".JitterTemplates.templates: array expected");
                        t.templates = [];
                        for (var n = 0; n < e.templates.length; ++n) {
                            if ("object" != typeof e.templates[n])
                                throw TypeError(".JitterTemplates.templates: object expected");
                            t.templates[n] = s.JitterTemplates.Template.fromObject(e.templates[n]);
                        }
                    }
                    return t;
                }),
                (e.toObject = function (e, t) {
                    t || (t = {});
                    var n = {};
                    if (((t.arrays || t.defaults) && (n.templates = []), e.templates && e.templates.length)) {
                        n.templates = [];
                        for (var i = 0; i < e.templates.length; ++i)
                            n.templates[i] = s.JitterTemplates.Template.toObject(e.templates[i], t);
                    }
                    return n;
                }),
                (e.prototype.toJSON = function () {
                    return this.constructor.toObject(this, i.util.toJSONOptions);
                }),
                (e.Template = (function () {
                    function e(e) {
                        if (((this.values = []), e))
                            for (var t = Object.keys(e), n = 0; n < t.length; ++n)
                                null != e[t[n]] && (this[t[n]] = e[t[n]]);
                    }
                    return (
                        (e.prototype.values = r.emptyArray),
                        (e.create = function (t) {
                            return new e(t);
                        }),
                        (e.encode = function (e, t) {
                            if ((t || (t = a.create()), null != e.values && e.values.length)) {
                                t.uint32(10).fork();
                                for (var n = 0; n < e.values.length; ++n) t.float(e.values[n]);
                                t.ldelim();
                            }
                            return t;
                        }),
                        (e.encodeDelimited = function (e, t) {
                            return this.encode(e, t).ldelim();
                        }),
                        (e.decode = function (e, t) {
                            e instanceof o || (e = o.create(e));
                            for (
                                var n = void 0 === t ? e.len : e.pos + t, i = new s.JitterTemplates.Template();
                                e.pos < n;

                            ) {
                                var a = e.uint32();
                                switch (a >>> 3) {
                                    case 1:
                                        if (((i.values && i.values.length) || (i.values = []), 2 == (7 & a)))
                                            for (var r = e.uint32() + e.pos; e.pos < r; ) i.values.push(e.float());
                                        else i.values.push(e.float());
                                        break;
                                    default:
                                        e.skipType(7 & a);
                                }
                            }
                            return i;
                        }),
                        (e.decodeDelimited = function (e) {
                            return e instanceof o || (e = new o(e)), this.decode(e, e.uint32());
                        }),
                        (e.verify = function (e) {
                            if ("object" != typeof e || null === e) return "object expected";
                            if (null != e.values && e.hasOwnProperty("values")) {
                                if (!Array.isArray(e.values)) return "values: array expected";
                                for (var t = 0; t < e.values.length; ++t)
                                    if ("number" != typeof e.values[t]) return "values: number[] expected";
                            }
                            return null;
                        }),
                        (e.fromObject = function (e) {
                            if (e instanceof s.JitterTemplates.Template) return e;
                            var t = new s.JitterTemplates.Template();
                            if (e.values) {
                                if (!Array.isArray(e.values))
                                    throw TypeError(".JitterTemplates.Template.values: array expected");
                                t.values = [];
                                for (var n = 0; n < e.values.length; ++n) t.values[n] = Number(e.values[n]);
                            }
                            return t;
                        }),
                        (e.toObject = function (e, t) {
                            t || (t = {});
                            var n = {};
                            if (((t.arrays || t.defaults) && (n.values = []), e.values && e.values.length)) {
                                n.values = [];
                                for (var i = 0; i < e.values.length; ++i)
                                    n.values[i] = t.json && !isFinite(e.values[i]) ? String(e.values[i]) : e.values[i];
                            }
                            return n;
                        }),
                        (e.prototype.toJSON = function () {
                            return this.constructor.toObject(this, i.util.toJSONOptions);
                        }),
                        e
                    );
                })()),
                e
            );
        })()),
            (e.exports = s);
    },
    function (e, t, n) {
        "use strict";
        n.d(t, "a", function () {
            return d;
        });
        var i = n(0),
            o = n(18),
            a = (function () {
                function e(e) {
                    this.templates = [];
                    for (var t = 0, n = o.JitterTemplates.decode(e).templates; t < n.length; t++) {
                        var i = n[t];
                        this.templates.push(i.values);
                    }
                    (this.previousTemplate = this.getRandomTemplate()),
                        (this.currentTemplate = this.getRandomTemplate()),
                        (this.currentTemplateFrame = 0);
                }
                return (
                    (e.prototype.getRandomTemplate = function () {
                        return this.templates[Math.floor(Math.random() * this.templates.length)];
                    }),
                    (e.prototype.next = function () {
                        var e = 0;
                        if (this.currentTemplateFrame < 10) {
                            var t = this.previousTemplate.length - 1 - 10 + this.currentTemplateFrame,
                                n = Object(i.o)(0, 10, this.currentTemplateFrame);
                            e = Object(i.q)(
                                this.previousTemplate[t],
                                this.currentTemplate[this.currentTemplateFrame],
                                n
                            );
                        } else e = this.currentTemplate[this.currentTemplateFrame];
                        return (
                            (this.currentTemplateFrame = this.currentTemplateFrame + 1),
                            this.currentTemplateFrame >= this.currentTemplate.length - 10 &&
                                ((this.previousTemplate = this.currentTemplate),
                                (this.currentTemplate = this.getRandomTemplate()),
                                (this.currentTemplateFrame = 0)),
                            e
                        );
                    }),
                    e
                );
            })(),
            r = n(10),
            s = n(1),
            l = (function () {
                function e(e, t) {
                    this.objects = [];
                    for (var n = 0; n < t; ++n) this.objects.push(e());
                    this.index = 0;
                }
                return (
                    (e.prototype.next = function () {
                        return (this.index = (this.index + 1) % this.objects.length), this.objects[this.index];
                    }),
                    (e.prototype.head = function () {
                        return this.objects[this.index];
                    }),
                    e
                );
            })(),
            u = (function () {
                function e(e, t, n, o, s, u, c) {
                    (this.onFrameUsed = null),
                        (this.lastSubsteps = 1),
                        (this.jitter = new a(s)),
                        (this.audioParameters = c),
                        (this.synthPointer = t),
                        (this.voiceIndex = n),
                        (this.singerIndex = o),
                        (this.voicePointer = e._synthGetVoice(t, n)),
                        (this.gain = c.singers[this.singerIndex].gain),
                        (this.sampleRate = u),
                        (this.module = e),
                        (this.spectralFramePointers = new l(function () {
                            return e._createSpectralFrame(258);
                        }, 100)),
                        (this.excitationFramePointers = new l(function () {
                            return e._createExcitationFrame(6);
                        }, 100)),
                        (this.previousF0 = 440),
                        (this.nextExcitationFrames = []),
                        (this.nextSpectralFrames = []),
                        (this.lastOverrideFrequency = 440),
                        (this.overrideF0s = []),
                        (this.overrideFrequency = !1),
                        this.setSpectralFrameData(this.spectralFramePointers.next(), Object(i.f)(258, 0), !0),
                        this.setExcitationFrameData(this.excitationFramePointers.next(), Object(i.f)(4, -120), !0, !1);
                    for (var h = 0; h < c.excitationOffset; ++h)
                        this.setSpectralFrameData(this.spectralFramePointers.next(), Object(i.f)(258, 0), !0);
                    for (h = 0; h < -c.excitationOffset; ++h)
                        this.setExcitationFrameData(this.excitationFramePointers.next(), Object(i.f)(4, -120), !0, !1);
                    this.spectralGain = Object(r.b)(c.singers[this.singerIndex].spectralFilters);
                }
                return (
                    (e.prototype.pushExcitationFrame = function (e) {
                        this.nextExcitationFrames.push(e);
                    }),
                    (e.prototype.pushSpectralFrame = function (e) {
                        this.nextSpectralFrames.push(e);
                    }),
                    (e.prototype.setSpectralFrameData = function (e, t, n) {
                        this.module._spectralFrameReset(e, n ? 1 : 0);
                        if (!n)
                            for (
                                var i = this.module._spectralFrameGetSpectrogram(e),
                                    o = this.module.HEAPF32.subarray(i >> 2, 258 + (i >> 2)),
                                    a = 0;
                                a < 258;
                                ++a
                            )
                                o[a] = t[a];
                    }),
                    (e.prototype.setExcitationFrameData = function (e, t, n, o) {
                        if ((this.module._excitationFrameReset(e, n ? 1 : 0), !n)) {
                            var a = this.module._excitationFrameGetAperiodic(e),
                                r = this.module.HEAPF32.subarray(a >> 2, 6 + (a >> 2));
                            (r[0] = -60), (r[5] = -1e-12);
                            for (var l = 0; l < 4; ++l)
                                r[1 + l] =
                                    s.a.aperiodicMin + (0.5 * t[l] + 0.5) * (s.a.aperiodicMax - s.a.aperiodicMin);
                            var u = o
                                ? this.audioParameters.singers[this.singerIndex].aperiodicGain.consonant
                                : this.audioParameters.singers[this.singerIndex].aperiodicGain.vowel;
                            for (l = 0; l < 6; ++l) (r[l] += u[l]), (r[l] = Math.pow(10, r[l] / 10));
                            var c = this.module._excitationFrameGetPeriodic(e),
                                h = this.module.HEAPF32.subarray(c >> 2, 6 + (c >> 2));
                            (h[0] = -60), (h[5] = -1e-12);
                            for (l = 0; l < 4; ++l)
                                h[1 + l] =
                                    s.a.aperiodicMin + (0.5 * t[l] + 0.5) * (s.a.aperiodicMax - s.a.aperiodicMin);
                            for (l = 0; l < 6; ++l) (h[l] = Math.pow(10, h[l] / 10)), (h[l] = 1 - h[l]);
                            var d = o
                                ? this.audioParameters.singers[this.singerIndex].periodicGain.consonant
                                : this.audioParameters.singers[this.singerIndex].periodicGain.vowel;
                            for (l = 0; l < 6; ++l) {
                                var p = Object(i.b)(h[l], 1e-8, 0.999999999);
                                (p = 10 * Math.log10(p)), (p += d[l]), (h[l] = Math.pow(10, p / 10));
                            }
                        }
                    }),
                    (e.prototype.setAudioParameters = function (e) {
                        (this.audioParameters = e),
                            (this.spectralGain = Object(r.b)(e.singers[this.singerIndex].spectralFilters));
                    }),
                    (e.prototype.step = function (e) {
                        for (
                            var t = 0;
                            1 !== this.module._synthHasEnoughExcitationFrames(this.synthPointer, e, this.voiceIndex) ||
                            1 !== this.module._synthHasEnoughSpectralFrames(this.synthPointer, e, this.voiceIndex);

                        ) {
                            var n = null;
                            if (0 !== this.nextSpectralFrames.length) {
                                var i = this.nextSpectralFrames[0];
                                (this.lastSubsteps = i.getSubsteps()),
                                    (n = this.spectralFramePointers.next()),
                                    this.setSpectralFrameData(n, i.getSpectral(), i.getMuted()),
                                    this.onFrameUsed && this.onFrameUsed(i.buffer),
                                    this.nextSpectralFrames.splice(0, 1);
                            } else n = this.spectralFramePointers.head();
                            for (var o = 0; o < this.lastSubsteps; ++o)
                                this.module._voiceAddSpectralFrame(this.voicePointer, n);
                            for (var a = 0; a < this.lastSubsteps; ++a) {
                                var r = -1,
                                    l = !1;
                                for (o = this.overrideF0s.length - 1; o >= 0; --o)
                                    if (t > this.overrideF0s[o].delay) {
                                        (r = this.overrideF0s[o].f0), (this.lastOverrideFrequency = r), (l = !0);
                                        break;
                                    }
                                if (
                                    (!l &&
                                        this.overrideF0s.length > 0 &&
                                        ((r = this.overrideF0s[0].f0), (this.lastOverrideFrequency = r)),
                                    -1 === r && (r = this.lastOverrideFrequency),
                                    this.overrideFrequency || (r = -1),
                                    0 !== this.nextExcitationFrames.length)
                                ) {
                                    var u = (i = this.nextExcitationFrames[0]).getF0();
                                    r > 0 && (u = r), (this.previousF0 = u);
                                    var c =
                                            u +
                                            this.jitter.next() *
                                                u *
                                                this.audioParameters.singers[this.singerIndex].jitterScale,
                                        h = this.excitationFramePointers.next();
                                    this.setExcitationFrameData(
                                        h,
                                        i.getAperiodic(),
                                        i.getMuted(),
                                        Object(s.d)(i.getPhoneme())
                                    ),
                                        this.module._voiceAddExcitationFrame(this.voicePointer, c, h),
                                        this.onFrameUsed && this.onFrameUsed(i.buffer),
                                        this.nextExcitationFrames.splice(0, 1);
                                } else {
                                    u = this.previousF0;
                                    r > 0 && (u = r), (this.previousF0 = u);
                                    c =
                                        u +
                                        this.jitter.next() *
                                            u *
                                            this.audioParameters.singers[this.singerIndex].jitterScale;
                                    var d = this.excitationFramePointers.head();
                                    this.module._voiceAddExcitationFrame(this.voicePointer, c, d);
                                }
                                t += this.audioParameters.frameHopSeconds;
                            }
                        }
                        this.overrideF0s.length = 0;
                    }),
                    (e.prototype.addOverrideF0 = function (e, t) {
                        this.overrideF0s.push({ f0: e, delay: t });
                    }),
                    e
                );
            })(),
            c = n(7),
            h = n(3);
        var d = (function () {
            function e(e, t, n, o, a, r, s, l, d) {
                var p = this;
                (this.onFrameUsed = null),
                    (this.module = t),
                    (this.sampleRate = a),
                    (this.processingSampleRate = r),
                    (this.bufferSize = d);
                for (
                    var m = this.module._malloc(n.length), f = this.module.HEAPU8.subarray(m, m + n.length), g = 0;
                    g < n.length;
                    ++g
                )
                    f[g] = n[g];
                var b,
                    v = l.frameHopSeconds,
                    y = v,
                    x = ((b = (l.targetFFTSize * this.processingSampleRate) / 32e3), 2 * Math.ceil(b / 2));
                this.synthPointer = this.module._createSynth(this.processingSampleRate, s, v, y, x, 2, e, m, n.length);
                (this.pans = Object(i.f)(e, 0).map(function (e) {
                    return new h.a(e);
                })),
                    (this.voices = []);
                for (g = 0; g < e; ++g)
                    this.voices.push(new u(t, this.synthPointer, g, g, o, this.processingSampleRate, l));
                for (var k = 0, _ = this.voices; k < _.length; k++) {
                    _[k].onFrameUsed = function (e) {
                        p.onFrameUsed && p.onFrameUsed(e);
                    };
                }
                this.reverbContext = t._createDCReverbContext(this.processingSampleRate);
                var w = t.cwrap("heavySendMessage", null, ["number", "string", "number", "number"]);
                for (var P in l.reverb) w(this.reverbContext, P, l.reverb[P], 0);
                w(this.reverbContext, "init", 1, 0),
                    this.module._synthSetOnlyNoise(this.synthPointer, l.noiseExcitation ? 1 : 0),
                    (this.combinedBuffer = new c.a(t, 2 * this.bufferSize)),
                    (this.outputBuffer = new c.a(t, 2 * this.bufferSize)),
                    (this.lastAudioProcessTime = Date.now());
            }
            return (
                (e.prototype.setPans = function (e) {
                    for (var t = 0; t < e.length; ++t) this.pans[t].change(e[t], 0.5);
                }),
                (e.prototype.process = function (e, t) {
                    var n = (t * this.processingSampleRate) / this.sampleRate;
                    this.module._clearBuffer(this.combinedBuffer.pointer, 2 * n);
                    for (var i = 0; i < this.voices.length; ++i) {
                        this.voices[i].step(n);
                        var o = this.pans[i].evaluate();
                        o = (o / 180) * Math.PI + Math.PI / 4;
                        var a = this.voices[i].gain,
                            r = Math.cos(o) * a,
                            s = Math.sin(o) * a;
                        this.module._voiceSetGain(this.voices[i].voicePointer, 0, r),
                            this.module._voiceSetGain(this.voices[i].voicePointer, 1, s);
                    }
                    this.module._synthStep(this.synthPointer, n),
                        this.module._copyBuffer(
                            this.module._synthGetBuffer(this.synthPointer, 0),
                            this.combinedBuffer.pointer,
                            n,
                            0,
                            1
                        ),
                        this.module._copyBuffer(
                            this.module._synthGetBuffer(this.synthPointer, 1),
                            this.combinedBuffer.pointer,
                            n,
                            n,
                            1
                        ),
                        this.module._reverbContextProcess(
                            this.reverbContext,
                            this.combinedBuffer.pointer,
                            this.outputBuffer.pointer,
                            n
                        );
                    for (
                        var l = this.outputBuffer.getArray(), u = this.sampleRate / this.processingSampleRate, c = 0;
                        c < 2;
                        ++c
                    ) {
                        var h = e[c],
                            d = c * n;
                        if (1 === u) for (var p = 0; p < t; ++p) h[p] = l[d + p];
                        else if (2 === u) for (p = 0; p < n; ++p) (h[2 * p + 0] = l[d + p]), (h[2 * p + 1] = 0);
                        else
                            for (p = 0; p < n; ++p) {
                                h[p * u + 0] = l[d + p];
                                for (var m = 1; m < u; ++m) h[p * u + m] = 0;
                            }
                    }
                    this.lastAudioProcessTime = Date.now();
                }),
                (e.prototype.addSpectralFrame = function (e, t) {
                    this.voices[e].pushSpectralFrame(t);
                }),
                (e.prototype.addExcitationFrame = function (e, t) {
                    this.voices[e].pushExcitationFrame(t);
                }),
                (e.prototype.setOverrideFrequency = function (e, t) {
                    this.voices[e].overrideFrequency = t;
                }),
                (e.prototype.addOverrideF0 = function (e, t) {
                    this.voices[e].addOverrideF0(t, (Date.now() - this.lastAudioProcessTime) / 1e3);
                }),
                (e.prototype.benchmarkSpectrumGeneration = function (e) {
                    var t = performance.now();
                    this.voices[0].module._synthBenchmarkSpectrumGeneration(this.voices[0].synthPointer, e);
                    var n = performance.now();
                    console.log(n - t);
                }),
                (e.prototype.setAudioParameters = function (e) {
                    var t = this.module.cwrap("heavySendMessage", null, ["number", "string", "number", "number"]);
                    for (var n in e.reverb) t(this.reverbContext, n, e.reverb[n], 0);
                    for (var i = 0; i < this.voices.length; ++i) this.voices[i].setAudioParameters(e);
                    this.module._synthSetOnlyNoise(this.synthPointer, e.noiseExcitation ? 1 : 0);
                }),
                e
            );
        })();
    },
    function (e, t, n) {
        "use strict";
        e.exports = n(21);
    },
    function (e, t, n) {
        "use strict";
        var i = t;
        function o() {
            i.util._configure(), i.Writer._configure(i.BufferWriter), i.Reader._configure(i.BufferReader);
        }
        (i.build = "minimal"),
            (i.Writer = n(15)),
            (i.BufferWriter = n(30)),
            (i.Reader = n(17)),
            (i.BufferReader = n(31)),
            (i.util = n(5)),
            (i.rpc = n(32)),
            (i.roots = n(34)),
            (i.configure = o),
            o();
    },
    function (e, t, n) {
        "use strict";
        e.exports = function (e, t) {
            var n = new Array(arguments.length - 1),
                i = 0,
                o = 2,
                a = !0;
            for (; o < arguments.length; ) n[i++] = arguments[o++];
            return new Promise(function (o, r) {
                n[i] = function (e) {
                    if (a)
                        if (((a = !1), e)) r(e);
                        else {
                            for (var t = new Array(arguments.length - 1), n = 0; n < t.length; ) t[n++] = arguments[n];
                            o.apply(null, t);
                        }
                };
                try {
                    e.apply(t || null, n);
                } catch (e) {
                    a && ((a = !1), r(e));
                }
            });
        };
    },
    function (e, t, n) {
        "use strict";
        var i = t;
        i.length = function (e) {
            var t = e.length;
            if (!t) return 0;
            for (var n = 0; --t % 4 > 1 && "=" === e.charAt(t); ) ++n;
            return Math.ceil(3 * e.length) / 4 - n;
        };
        for (var o = new Array(64), a = new Array(123), r = 0; r < 64; )
            a[(o[r] = r < 26 ? r + 65 : r < 52 ? r + 71 : r < 62 ? r - 4 : (r - 59) | 43)] = r++;
        i.encode = function (e, t, n) {
            for (var i, a = null, r = [], s = 0, l = 0; t < n; ) {
                var u = e[t++];
                switch (l) {
                    case 0:
                        (r[s++] = o[u >> 2]), (i = (3 & u) << 4), (l = 1);
                        break;
                    case 1:
                        (r[s++] = o[i | (u >> 4)]), (i = (15 & u) << 2), (l = 2);
                        break;
                    case 2:
                        (r[s++] = o[i | (u >> 6)]), (r[s++] = o[63 & u]), (l = 0);
                }
                s > 8191 && ((a || (a = [])).push(String.fromCharCode.apply(String, r)), (s = 0));
            }
            return (
                l && ((r[s++] = o[i]), (r[s++] = 61), 1 === l && (r[s++] = 61)),
                a
                    ? (s && a.push(String.fromCharCode.apply(String, r.slice(0, s))), a.join(""))
                    : String.fromCharCode.apply(String, r.slice(0, s))
            );
        };
        (i.decode = function (e, t, n) {
            for (var i, o = n, r = 0, s = 0; s < e.length; ) {
                var l = e.charCodeAt(s++);
                if (61 === l && r > 1) break;
                if (void 0 === (l = a[l])) throw Error("invalid encoding");
                switch (r) {
                    case 0:
                        (i = l), (r = 1);
                        break;
                    case 1:
                        (t[n++] = (i << 2) | ((48 & l) >> 4)), (i = l), (r = 2);
                        break;
                    case 2:
                        (t[n++] = ((15 & i) << 4) | ((60 & l) >> 2)), (i = l), (r = 3);
                        break;
                    case 3:
                        (t[n++] = ((3 & i) << 6) | l), (r = 0);
                }
            }
            if (1 === r) throw Error("invalid encoding");
            return n - o;
        }),
            (i.test = function (e) {
                return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e);
            });
    },
    function (e, t, n) {
        "use strict";
        function i() {
            this._listeners = {};
        }
        (e.exports = i),
            (i.prototype.on = function (e, t, n) {
                return (this._listeners[e] || (this._listeners[e] = [])).push({ fn: t, ctx: n || this }), this;
            }),
            (i.prototype.off = function (e, t) {
                if (void 0 === e) this._listeners = {};
                else if (void 0 === t) this._listeners[e] = [];
                else for (var n = this._listeners[e], i = 0; i < n.length; ) n[i].fn === t ? n.splice(i, 1) : ++i;
                return this;
            }),
            (i.prototype.emit = function (e) {
                var t = this._listeners[e];
                if (t) {
                    for (var n = [], i = 1; i < arguments.length; ) n.push(arguments[i++]);
                    for (i = 0; i < t.length; ) t[i].fn.apply(t[i++].ctx, n);
                }
                return this;
            });
    },
    function (e, t, n) {
        "use strict";
        function i(e) {
            return (
                "undefined" != typeof Float32Array
                    ? (function () {
                          var t = new Float32Array([-0]),
                              n = new Uint8Array(t.buffer),
                              i = 128 === n[3];
                          function o(e, i, o) {
                              (t[0] = e), (i[o] = n[0]), (i[o + 1] = n[1]), (i[o + 2] = n[2]), (i[o + 3] = n[3]);
                          }
                          function a(e, i, o) {
                              (t[0] = e), (i[o] = n[3]), (i[o + 1] = n[2]), (i[o + 2] = n[1]), (i[o + 3] = n[0]);
                          }
                          function r(e, i) {
                              return (n[0] = e[i]), (n[1] = e[i + 1]), (n[2] = e[i + 2]), (n[3] = e[i + 3]), t[0];
                          }
                          function s(e, i) {
                              return (n[3] = e[i]), (n[2] = e[i + 1]), (n[1] = e[i + 2]), (n[0] = e[i + 3]), t[0];
                          }
                          (e.writeFloatLE = i ? o : a),
                              (e.writeFloatBE = i ? a : o),
                              (e.readFloatLE = i ? r : s),
                              (e.readFloatBE = i ? s : r);
                      })()
                    : (function () {
                          function t(e, t, n, i) {
                              var o = t < 0 ? 1 : 0;
                              if ((o && (t = -t), 0 === t)) e(1 / t > 0 ? 0 : 2147483648, n, i);
                              else if (isNaN(t)) e(2143289344, n, i);
                              else if (t > 34028234663852886e22) e(((o << 31) | 2139095040) >>> 0, n, i);
                              else if (t < 11754943508222875e-54)
                                  e(((o << 31) | Math.round(t / 1401298464324817e-60)) >>> 0, n, i);
                              else {
                                  var a = Math.floor(Math.log(t) / Math.LN2);
                                  e(
                                      ((o << 31) |
                                          ((a + 127) << 23) |
                                          (8388607 & Math.round(t * Math.pow(2, -a) * 8388608))) >>>
                                          0,
                                      n,
                                      i
                                  );
                              }
                          }
                          function n(e, t, n) {
                              var i = e(t, n),
                                  o = 2 * (i >> 31) + 1,
                                  a = (i >>> 23) & 255,
                                  r = 8388607 & i;
                              return 255 === a
                                  ? r
                                      ? NaN
                                      : o * (1 / 0)
                                  : 0 === a
                                  ? 1401298464324817e-60 * o * r
                                  : o * Math.pow(2, a - 150) * (r + 8388608);
                          }
                          (e.writeFloatLE = t.bind(null, o)),
                              (e.writeFloatBE = t.bind(null, a)),
                              (e.readFloatLE = n.bind(null, r)),
                              (e.readFloatBE = n.bind(null, s));
                      })(),
                "undefined" != typeof Float64Array
                    ? (function () {
                          var t = new Float64Array([-0]),
                              n = new Uint8Array(t.buffer),
                              i = 128 === n[7];
                          function o(e, i, o) {
                              (t[0] = e),
                                  (i[o] = n[0]),
                                  (i[o + 1] = n[1]),
                                  (i[o + 2] = n[2]),
                                  (i[o + 3] = n[3]),
                                  (i[o + 4] = n[4]),
                                  (i[o + 5] = n[5]),
                                  (i[o + 6] = n[6]),
                                  (i[o + 7] = n[7]);
                          }
                          function a(e, i, o) {
                              (t[0] = e),
                                  (i[o] = n[7]),
                                  (i[o + 1] = n[6]),
                                  (i[o + 2] = n[5]),
                                  (i[o + 3] = n[4]),
                                  (i[o + 4] = n[3]),
                                  (i[o + 5] = n[2]),
                                  (i[o + 6] = n[1]),
                                  (i[o + 7] = n[0]);
                          }
                          function r(e, i) {
                              return (
                                  (n[0] = e[i]),
                                  (n[1] = e[i + 1]),
                                  (n[2] = e[i + 2]),
                                  (n[3] = e[i + 3]),
                                  (n[4] = e[i + 4]),
                                  (n[5] = e[i + 5]),
                                  (n[6] = e[i + 6]),
                                  (n[7] = e[i + 7]),
                                  t[0]
                              );
                          }
                          function s(e, i) {
                              return (
                                  (n[7] = e[i]),
                                  (n[6] = e[i + 1]),
                                  (n[5] = e[i + 2]),
                                  (n[4] = e[i + 3]),
                                  (n[3] = e[i + 4]),
                                  (n[2] = e[i + 5]),
                                  (n[1] = e[i + 6]),
                                  (n[0] = e[i + 7]),
                                  t[0]
                              );
                          }
                          (e.writeDoubleLE = i ? o : a),
                              (e.writeDoubleBE = i ? a : o),
                              (e.readDoubleLE = i ? r : s),
                              (e.readDoubleBE = i ? s : r);
                      })()
                    : (function () {
                          function t(e, t, n, i, o, a) {
                              var r = i < 0 ? 1 : 0;
                              if ((r && (i = -i), 0 === i)) e(0, o, a + t), e(1 / i > 0 ? 0 : 2147483648, o, a + n);
                              else if (isNaN(i)) e(0, o, a + t), e(2146959360, o, a + n);
                              else if (i > 17976931348623157e292)
                                  e(0, o, a + t), e(((r << 31) | 2146435072) >>> 0, o, a + n);
                              else {
                                  var s;
                                  if (i < 22250738585072014e-324)
                                      e((s = i / 5e-324) >>> 0, o, a + t),
                                          e(((r << 31) | (s / 4294967296)) >>> 0, o, a + n);
                                  else {
                                      var l = Math.floor(Math.log(i) / Math.LN2);
                                      1024 === l && (l = 1023),
                                          e((4503599627370496 * (s = i * Math.pow(2, -l))) >>> 0, o, a + t),
                                          e(
                                              ((r << 31) | ((l + 1023) << 20) | ((1048576 * s) & 1048575)) >>> 0,
                                              o,
                                              a + n
                                          );
                                  }
                              }
                          }
                          function n(e, t, n, i, o) {
                              var a = e(i, o + t),
                                  r = e(i, o + n),
                                  s = 2 * (r >> 31) + 1,
                                  l = (r >>> 20) & 2047,
                                  u = 4294967296 * (1048575 & r) + a;
                              return 2047 === l
                                  ? u
                                      ? NaN
                                      : s * (1 / 0)
                                  : 0 === l
                                  ? 5e-324 * s * u
                                  : s * Math.pow(2, l - 1075) * (u + 4503599627370496);
                          }
                          (e.writeDoubleLE = t.bind(null, o, 0, 4)),
                              (e.writeDoubleBE = t.bind(null, a, 4, 0)),
                              (e.readDoubleLE = n.bind(null, r, 0, 4)),
                              (e.readDoubleBE = n.bind(null, s, 4, 0));
                      })(),
                e
            );
        }
        function o(e, t, n) {
            (t[n] = 255 & e), (t[n + 1] = (e >>> 8) & 255), (t[n + 2] = (e >>> 16) & 255), (t[n + 3] = e >>> 24);
        }
        function a(e, t, n) {
            (t[n] = e >>> 24), (t[n + 1] = (e >>> 16) & 255), (t[n + 2] = (e >>> 8) & 255), (t[n + 3] = 255 & e);
        }
        function r(e, t) {
            return (e[t] | (e[t + 1] << 8) | (e[t + 2] << 16) | (e[t + 3] << 24)) >>> 0;
        }
        function s(e, t) {
            return ((e[t] << 24) | (e[t + 1] << 16) | (e[t + 2] << 8) | e[t + 3]) >>> 0;
        }
        e.exports = i(i);
    },
    function (module, exports, __webpack_require__) {
        "use strict";
        function inquire(moduleName) {
            try {
                var mod = eval("quire".replace(/^/, "re"))(moduleName);
                if (mod && (mod.length || Object.keys(mod).length)) return mod;
            } catch (e) {}
            return null;
        }
        module.exports = inquire;
    },
    function (e, t, n) {
        "use strict";
        var i = t;
        (i.length = function (e) {
            for (var t = 0, n = 0, i = 0; i < e.length; ++i)
                (n = e.charCodeAt(i)) < 128
                    ? (t += 1)
                    : n < 2048
                    ? (t += 2)
                    : 55296 == (64512 & n) && 56320 == (64512 & e.charCodeAt(i + 1))
                    ? (++i, (t += 4))
                    : (t += 3);
            return t;
        }),
            (i.read = function (e, t, n) {
                if (n - t < 1) return "";
                for (var i, o = null, a = [], r = 0; t < n; )
                    (i = e[t++]) < 128
                        ? (a[r++] = i)
                        : i > 191 && i < 224
                        ? (a[r++] = ((31 & i) << 6) | (63 & e[t++]))
                        : i > 239 && i < 365
                        ? ((i =
                              (((7 & i) << 18) | ((63 & e[t++]) << 12) | ((63 & e[t++]) << 6) | (63 & e[t++])) - 65536),
                          (a[r++] = 55296 + (i >> 10)),
                          (a[r++] = 56320 + (1023 & i)))
                        : (a[r++] = ((15 & i) << 12) | ((63 & e[t++]) << 6) | (63 & e[t++])),
                        r > 8191 && ((o || (o = [])).push(String.fromCharCode.apply(String, a)), (r = 0));
                return o
                    ? (r && o.push(String.fromCharCode.apply(String, a.slice(0, r))), o.join(""))
                    : String.fromCharCode.apply(String, a.slice(0, r));
            }),
            (i.write = function (e, t, n) {
                for (var i, o, a = n, r = 0; r < e.length; ++r)
                    (i = e.charCodeAt(r)) < 128
                        ? (t[n++] = i)
                        : i < 2048
                        ? ((t[n++] = (i >> 6) | 192), (t[n++] = (63 & i) | 128))
                        : 55296 == (64512 & i) && 56320 == (64512 & (o = e.charCodeAt(r + 1)))
                        ? ((i = 65536 + ((1023 & i) << 10) + (1023 & o)),
                          ++r,
                          (t[n++] = (i >> 18) | 240),
                          (t[n++] = ((i >> 12) & 63) | 128),
                          (t[n++] = ((i >> 6) & 63) | 128),
                          (t[n++] = (63 & i) | 128))
                        : ((t[n++] = (i >> 12) | 224), (t[n++] = ((i >> 6) & 63) | 128), (t[n++] = (63 & i) | 128));
                return n - a;
            });
    },
    function (e, t, n) {
        "use strict";
        e.exports = function (e, t, n) {
            var i = n || 8192,
                o = i >>> 1,
                a = null,
                r = i;
            return function (n) {
                if (n < 1 || n > o) return e(n);
                r + n > i && ((a = e(i)), (r = 0));
                var s = t.call(a, r, (r += n));
                return 7 & r && (r = 1 + (7 | r)), s;
            };
        };
    },
    function (e, t, n) {
        "use strict";
        e.exports = o;
        var i = n(5);
        function o(e, t) {
            (this.lo = e >>> 0), (this.hi = t >>> 0);
        }
        var a = (o.zero = new o(0, 0));
        (a.toNumber = function () {
            return 0;
        }),
            (a.zzEncode = a.zzDecode =
                function () {
                    return this;
                }),
            (a.length = function () {
                return 1;
            });
        var r = (o.zeroHash = "\0\0\0\0\0\0\0\0");
        (o.fromNumber = function (e) {
            if (0 === e) return a;
            var t = e < 0;
            t && (e = -e);
            var n = e >>> 0,
                i = ((e - n) / 4294967296) >>> 0;
            return (
                t && ((i = ~i >>> 0), (n = ~n >>> 0), ++n > 4294967295 && ((n = 0), ++i > 4294967295 && (i = 0))),
                new o(n, i)
            );
        }),
            (o.from = function (e) {
                if ("number" == typeof e) return o.fromNumber(e);
                if (i.isString(e)) {
                    if (!i.Long) return o.fromNumber(parseInt(e, 10));
                    e = i.Long.fromString(e);
                }
                return e.low || e.high ? new o(e.low >>> 0, e.high >>> 0) : a;
            }),
            (o.prototype.toNumber = function (e) {
                if (!e && this.hi >>> 31) {
                    var t = (1 + ~this.lo) >>> 0,
                        n = ~this.hi >>> 0;
                    return t || (n = (n + 1) >>> 0), -(t + 4294967296 * n);
                }
                return this.lo + 4294967296 * this.hi;
            }),
            (o.prototype.toLong = function (e) {
                return i.Long
                    ? new i.Long(0 | this.lo, 0 | this.hi, Boolean(e))
                    : { low: 0 | this.lo, high: 0 | this.hi, unsigned: Boolean(e) };
            });
        var s = String.prototype.charCodeAt;
        (o.fromHash = function (e) {
            return e === r
                ? a
                : new o(
                      (s.call(e, 0) | (s.call(e, 1) << 8) | (s.call(e, 2) << 16) | (s.call(e, 3) << 24)) >>> 0,
                      (s.call(e, 4) | (s.call(e, 5) << 8) | (s.call(e, 6) << 16) | (s.call(e, 7) << 24)) >>> 0
                  );
        }),
            (o.prototype.toHash = function () {
                return String.fromCharCode(
                    255 & this.lo,
                    (this.lo >>> 8) & 255,
                    (this.lo >>> 16) & 255,
                    this.lo >>> 24,
                    255 & this.hi,
                    (this.hi >>> 8) & 255,
                    (this.hi >>> 16) & 255,
                    this.hi >>> 24
                );
            }),
            (o.prototype.zzEncode = function () {
                var e = this.hi >> 31;
                return (
                    (this.hi = (((this.hi << 1) | (this.lo >>> 31)) ^ e) >>> 0),
                    (this.lo = ((this.lo << 1) ^ e) >>> 0),
                    this
                );
            }),
            (o.prototype.zzDecode = function () {
                var e = -(1 & this.lo);
                return (
                    (this.lo = (((this.lo >>> 1) | (this.hi << 31)) ^ e) >>> 0),
                    (this.hi = ((this.hi >>> 1) ^ e) >>> 0),
                    this
                );
            }),
            (o.prototype.length = function () {
                var e = this.lo,
                    t = ((this.lo >>> 28) | (this.hi << 4)) >>> 0,
                    n = this.hi >>> 24;
                return 0 === n
                    ? 0 === t
                        ? e < 16384
                            ? e < 128
                                ? 1
                                : 2
                            : e < 2097152
                            ? 3
                            : 4
                        : t < 16384
                        ? t < 128
                            ? 5
                            : 6
                        : t < 2097152
                        ? 7
                        : 8
                    : n < 128
                    ? 9
                    : 10;
            });
    },
    function (e, t, n) {
        "use strict";
        e.exports = a;
        var i = n(15);
        (a.prototype = Object.create(i.prototype)).constructor = a;
        var o = n(5);
        function a() {
            i.call(this);
        }
        function r(e, t, n) {
            e.length < 40 ? o.utf8.write(e, t, n) : t.utf8Write ? t.utf8Write(e, n) : t.write(e, n);
        }
        (a._configure = function () {
            (a.alloc = o._Buffer_allocUnsafe),
                (a.writeBytesBuffer =
                    o.Buffer && o.Buffer.prototype instanceof Uint8Array && "set" === o.Buffer.prototype.set.name
                        ? function (e, t, n) {
                              t.set(e, n);
                          }
                        : function (e, t, n) {
                              if (e.copy) e.copy(t, n, 0, e.length);
                              else for (var i = 0; i < e.length; ) t[n++] = e[i++];
                          });
        }),
            (a.prototype.bytes = function (e) {
                o.isString(e) && (e = o._Buffer_from(e, "base64"));
                var t = e.length >>> 0;
                return this.uint32(t), t && this._push(a.writeBytesBuffer, t, e), this;
            }),
            (a.prototype.string = function (e) {
                var t = o.Buffer.byteLength(e);
                return this.uint32(t), t && this._push(r, t, e), this;
            }),
            a._configure();
    },
    function (e, t, n) {
        "use strict";
        e.exports = a;
        var i = n(17);
        (a.prototype = Object.create(i.prototype)).constructor = a;
        var o = n(5);
        function a(e) {
            i.call(this, e);
        }
        (a._configure = function () {
            o.Buffer && (a.prototype._slice = o.Buffer.prototype.slice);
        }),
            (a.prototype.string = function () {
                var e = this.uint32();
                return this.buf.utf8Slice
                    ? this.buf.utf8Slice(this.pos, (this.pos = Math.min(this.pos + e, this.len)))
                    : this.buf.toString("utf-8", this.pos, (this.pos = Math.min(this.pos + e, this.len)));
            }),
            a._configure();
    },
    function (e, t, n) {
        "use strict";
        t.Service = n(33);
    },
    function (e, t, n) {
        "use strict";
        e.exports = o;
        var i = n(5);
        function o(e, t, n) {
            if ("function" != typeof e) throw TypeError("rpcImpl must be a function");
            i.EventEmitter.call(this),
                (this.rpcImpl = e),
                (this.requestDelimited = Boolean(t)),
                (this.responseDelimited = Boolean(n));
        }
        ((o.prototype = Object.create(i.EventEmitter.prototype)).constructor = o),
            (o.prototype.rpcCall = function e(t, n, o, a, r) {
                if (!a) throw TypeError("request must be specified");
                var s = this;
                if (!r) return i.asPromise(e, s, t, n, o, a);
                if (s.rpcImpl)
                    try {
                        return s.rpcImpl(
                            t,
                            n[s.requestDelimited ? "encodeDelimited" : "encode"](a).finish(),
                            function (e, n) {
                                if (e) return s.emit("error", e, t), r(e);
                                if (null !== n) {
                                    if (!(n instanceof o))
                                        try {
                                            n = o[s.responseDelimited ? "decodeDelimited" : "decode"](n);
                                        } catch (e) {
                                            return s.emit("error", e, t), r(e);
                                        }
                                    return s.emit("data", n, t), r(null, n);
                                }
                                s.end(!0);
                            }
                        );
                    } catch (e) {
                        return (
                            s.emit("error", e, t),
                            void setTimeout(function () {
                                r(e);
                            }, 0)
                        );
                    }
                else
                    setTimeout(function () {
                        r(Error("already ended"));
                    }, 0);
            }),
            (o.prototype.end = function (e) {
                return (
                    this.rpcImpl &&
                        (e || this.rpcImpl(null, null, null), (this.rpcImpl = null), this.emit("end").off()),
                    this
                );
            });
    },
    function (e, t, n) {
        "use strict";
        e.exports = {};
    },
    ,
    function (e, t, n) {
        "use strict";
        var i = n(20),
            o = i.Reader,
            a = i.Writer,
            r = i.util,
            s = i.roots.default || (i.roots.default = {});
        (s.RecordedLibrettos = (function () {
            function e(e) {
                if (((this.librettos = []), e))
                    for (var t = Object.keys(e), n = 0; n < t.length; ++n) null != e[t[n]] && (this[t[n]] = e[t[n]]);
            }
            var t, n;
            return (
                (e.prototype.librettos = r.emptyArray),
                (e.create = function (t) {
                    return new e(t);
                }),
                (e.encode = function (e, t) {
                    if ((t || (t = a.create()), null != e.librettos && e.librettos.length))
                        for (var n = 0; n < e.librettos.length; ++n)
                            s.RecordedLibrettos.RecordedLibretto.encode(e.librettos[n], t.uint32(10).fork()).ldelim();
                    return t;
                }),
                (e.encodeDelimited = function (e, t) {
                    return this.encode(e, t).ldelim();
                }),
                (e.decode = function (e, t) {
                    e instanceof o || (e = o.create(e));
                    for (var n = void 0 === t ? e.len : e.pos + t, i = new s.RecordedLibrettos(); e.pos < n; ) {
                        var a = e.uint32();
                        switch (a >>> 3) {
                            case 1:
                                (i.librettos && i.librettos.length) || (i.librettos = []),
                                    i.librettos.push(s.RecordedLibrettos.RecordedLibretto.decode(e, e.uint32()));
                                break;
                            default:
                                e.skipType(7 & a);
                        }
                    }
                    return i;
                }),
                (e.decodeDelimited = function (e) {
                    return e instanceof o || (e = new o(e)), this.decode(e, e.uint32());
                }),
                (e.verify = function (e) {
                    if ("object" != typeof e || null === e) return "object expected";
                    if (null != e.librettos && e.hasOwnProperty("librettos")) {
                        if (!Array.isArray(e.librettos)) return "librettos: array expected";
                        for (var t = 0; t < e.librettos.length; ++t) {
                            var n = s.RecordedLibrettos.RecordedLibretto.verify(e.librettos[t]);
                            if (n) return "librettos." + n;
                        }
                    }
                    return null;
                }),
                (e.fromObject = function (e) {
                    if (e instanceof s.RecordedLibrettos) return e;
                    var t = new s.RecordedLibrettos();
                    if (e.librettos) {
                        if (!Array.isArray(e.librettos))
                            throw TypeError(".RecordedLibrettos.librettos: array expected");
                        t.librettos = [];
                        for (var n = 0; n < e.librettos.length; ++n) {
                            if ("object" != typeof e.librettos[n])
                                throw TypeError(".RecordedLibrettos.librettos: object expected");
                            t.librettos[n] = s.RecordedLibrettos.RecordedLibretto.fromObject(e.librettos[n]);
                        }
                    }
                    return t;
                }),
                (e.toObject = function (e, t) {
                    t || (t = {});
                    var n = {};
                    if (((t.arrays || t.defaults) && (n.librettos = []), e.librettos && e.librettos.length)) {
                        n.librettos = [];
                        for (var i = 0; i < e.librettos.length; ++i)
                            n.librettos[i] = s.RecordedLibrettos.RecordedLibretto.toObject(e.librettos[i], t);
                    }
                    return n;
                }),
                (e.prototype.toJSON = function () {
                    return this.constructor.toObject(this, i.util.toJSONOptions);
                }),
                (e.Phoneme =
                    ((t = {}),
                    ((n = Object.create(t))[(t[0] = "i")] = 0),
                    (n[(t[1] = "a")] = 1),
                    (n[(t[2] = "e")] = 2),
                    (n[(t[3] = "o")] = 3),
                    (n[(t[4] = "sil")] = 4),
                    (n[(t[5] = "r")] = 5),
                    (n[(t[6] = "n")] = 6),
                    (n[(t[7] = "l")] = 7),
                    (n[(t[8] = "t")] = 8),
                    (n[(t[9] = "s")] = 9),
                    (n[(t[10] = "d")] = 10),
                    (n[(t[11] = "u")] = 11),
                    (n[(t[12] = "m")] = 12),
                    (n[(t[13] = "p")] = 13),
                    (n[(t[14] = "v")] = 14),
                    (n[(t[15] = "ch")] = 15),
                    (n[(t[16] = "c")] = 16),
                    (n[(t[17] = "f")] = 17),
                    (n[(t[18] = "j")] = 18),
                    (n[(t[19] = "b")] = 19),
                    (n[(t[20] = "h")] = 20),
                    (n[(t[21] = "g")] = 21),
                    (n[(t[22] = "qu")] = 22),
                    (n[(t[23] = "sh")] = 23),
                    (n[(t[24] = "ny")] = 24),
                    (n[(t[25] = "y")] = 25),
                    (n[(t[26] = "sk")] = 26),
                    (n[(t[27] = "z")] = 27),
                    (n[(t[28] = "tz")] = 28),
                    n)),
                (e.Note = (function () {
                    function e(e) {
                        if (e)
                            for (var t = Object.keys(e), n = 0; n < t.length; ++n)
                                null != e[t[n]] && (this[t[n]] = e[t[n]]);
                    }
                    return (
                        (e.prototype.name = 0),
                        (e.prototype.startTimeSeconds = 0),
                        (e.prototype.endTimeSeconds = 0),
                        (e.create = function (t) {
                            return new e(t);
                        }),
                        (e.encode = function (e, t) {
                            return (
                                t || (t = a.create()),
                                t.uint32(8).int32(e.name),
                                t.uint32(21).float(e.startTimeSeconds),
                                t.uint32(29).float(e.endTimeSeconds),
                                t
                            );
                        }),
                        (e.encodeDelimited = function (e, t) {
                            return this.encode(e, t).ldelim();
                        }),
                        (e.decode = function (e, t) {
                            e instanceof o || (e = o.create(e));
                            for (
                                var n = void 0 === t ? e.len : e.pos + t, i = new s.RecordedLibrettos.Note();
                                e.pos < n;

                            ) {
                                var a = e.uint32();
                                switch (a >>> 3) {
                                    case 1:
                                        i.name = e.int32();
                                        break;
                                    case 2:
                                        i.startTimeSeconds = e.float();
                                        break;
                                    case 3:
                                        i.endTimeSeconds = e.float();
                                        break;
                                    default:
                                        e.skipType(7 & a);
                                }
                            }
                            if (!i.hasOwnProperty("name"))
                                throw r.ProtocolError("missing required 'name'", { instance: i });
                            if (!i.hasOwnProperty("startTimeSeconds"))
                                throw r.ProtocolError("missing required 'startTimeSeconds'", { instance: i });
                            if (!i.hasOwnProperty("endTimeSeconds"))
                                throw r.ProtocolError("missing required 'endTimeSeconds'", { instance: i });
                            return i;
                        }),
                        (e.decodeDelimited = function (e) {
                            return e instanceof o || (e = new o(e)), this.decode(e, e.uint32());
                        }),
                        (e.verify = function (e) {
                            if ("object" != typeof e || null === e) return "object expected";
                            switch (e.name) {
                                default:
                                    return "name: enum value expected";
                                case 0:
                                case 1:
                                case 2:
                                case 3:
                                case 4:
                                case 5:
                                case 6:
                                case 7:
                                case 8:
                                case 9:
                                case 10:
                                case 11:
                                case 12:
                                case 13:
                                case 14:
                                case 15:
                                case 16:
                                case 17:
                                case 18:
                                case 19:
                                case 20:
                                case 21:
                                case 22:
                                case 23:
                                case 24:
                                case 25:
                                case 26:
                                case 27:
                                case 28:
                            }
                            return "number" != typeof e.startTimeSeconds
                                ? "startTimeSeconds: number expected"
                                : "number" != typeof e.endTimeSeconds
                                ? "endTimeSeconds: number expected"
                                : null;
                        }),
                        (e.fromObject = function (e) {
                            if (e instanceof s.RecordedLibrettos.Note) return e;
                            var t = new s.RecordedLibrettos.Note();
                            switch (e.name) {
                                case "i":
                                case 0:
                                    t.name = 0;
                                    break;
                                case "a":
                                case 1:
                                    t.name = 1;
                                    break;
                                case "e":
                                case 2:
                                    t.name = 2;
                                    break;
                                case "o":
                                case 3:
                                    t.name = 3;
                                    break;
                                case "sil":
                                case 4:
                                    t.name = 4;
                                    break;
                                case "r":
                                case 5:
                                    t.name = 5;
                                    break;
                                case "n":
                                case 6:
                                    t.name = 6;
                                    break;
                                case "l":
                                case 7:
                                    t.name = 7;
                                    break;
                                case "t":
                                case 8:
                                    t.name = 8;
                                    break;
                                case "s":
                                case 9:
                                    t.name = 9;
                                    break;
                                case "d":
                                case 10:
                                    t.name = 10;
                                    break;
                                case "u":
                                case 11:
                                    t.name = 11;
                                    break;
                                case "m":
                                case 12:
                                    t.name = 12;
                                    break;
                                case "p":
                                case 13:
                                    t.name = 13;
                                    break;
                                case "v":
                                case 14:
                                    t.name = 14;
                                    break;
                                case "ch":
                                case 15:
                                    t.name = 15;
                                    break;
                                case "c":
                                case 16:
                                    t.name = 16;
                                    break;
                                case "f":
                                case 17:
                                    t.name = 17;
                                    break;
                                case "j":
                                case 18:
                                    t.name = 18;
                                    break;
                                case "b":
                                case 19:
                                    t.name = 19;
                                    break;
                                case "h":
                                case 20:
                                    t.name = 20;
                                    break;
                                case "g":
                                case 21:
                                    t.name = 21;
                                    break;
                                case "qu":
                                case 22:
                                    t.name = 22;
                                    break;
                                case "sh":
                                case 23:
                                    t.name = 23;
                                    break;
                                case "ny":
                                case 24:
                                    t.name = 24;
                                    break;
                                case "y":
                                case 25:
                                    t.name = 25;
                                    break;
                                case "sk":
                                case 26:
                                    t.name = 26;
                                    break;
                                case "z":
                                case 27:
                                    t.name = 27;
                                    break;
                                case "tz":
                                case 28:
                                    t.name = 28;
                            }
                            return (
                                null != e.startTimeSeconds && (t.startTimeSeconds = Number(e.startTimeSeconds)),
                                null != e.endTimeSeconds && (t.endTimeSeconds = Number(e.endTimeSeconds)),
                                t
                            );
                        }),
                        (e.toObject = function (e, t) {
                            t || (t = {});
                            var n = {};
                            return (
                                t.defaults &&
                                    ((n.name = t.enums === String ? "i" : 0),
                                    (n.startTimeSeconds = 0),
                                    (n.endTimeSeconds = 0)),
                                null != e.name &&
                                    e.hasOwnProperty("name") &&
                                    (n.name = t.enums === String ? s.RecordedLibrettos.Phoneme[e.name] : e.name),
                                null != e.startTimeSeconds &&
                                    e.hasOwnProperty("startTimeSeconds") &&
                                    (n.startTimeSeconds =
                                        t.json && !isFinite(e.startTimeSeconds)
                                            ? String(e.startTimeSeconds)
                                            : e.startTimeSeconds),
                                null != e.endTimeSeconds &&
                                    e.hasOwnProperty("endTimeSeconds") &&
                                    (n.endTimeSeconds =
                                        t.json && !isFinite(e.endTimeSeconds)
                                            ? String(e.endTimeSeconds)
                                            : e.endTimeSeconds),
                                n
                            );
                        }),
                        (e.prototype.toJSON = function () {
                            return this.constructor.toObject(this, i.util.toJSONOptions);
                        }),
                        e
                    );
                })()),
                (e.RecordedLibretto = (function () {
                    function e(e) {
                        if (((this.notes = []), e))
                            for (var t = Object.keys(e), n = 0; n < t.length; ++n)
                                null != e[t[n]] && (this[t[n]] = e[t[n]]);
                    }
                    return (
                        (e.prototype.notes = r.emptyArray),
                        (e.create = function (t) {
                            return new e(t);
                        }),
                        (e.encode = function (e, t) {
                            if ((t || (t = a.create()), null != e.notes && e.notes.length))
                                for (var n = 0; n < e.notes.length; ++n)
                                    s.RecordedLibrettos.Note.encode(e.notes[n], t.uint32(10).fork()).ldelim();
                            return t;
                        }),
                        (e.encodeDelimited = function (e, t) {
                            return this.encode(e, t).ldelim();
                        }),
                        (e.decode = function (e, t) {
                            e instanceof o || (e = o.create(e));
                            for (
                                var n = void 0 === t ? e.len : e.pos + t,
                                    i = new s.RecordedLibrettos.RecordedLibretto();
                                e.pos < n;

                            ) {
                                var a = e.uint32();
                                switch (a >>> 3) {
                                    case 1:
                                        (i.notes && i.notes.length) || (i.notes = []),
                                            i.notes.push(s.RecordedLibrettos.Note.decode(e, e.uint32()));
                                        break;
                                    default:
                                        e.skipType(7 & a);
                                }
                            }
                            return i;
                        }),
                        (e.decodeDelimited = function (e) {
                            return e instanceof o || (e = new o(e)), this.decode(e, e.uint32());
                        }),
                        (e.verify = function (e) {
                            if ("object" != typeof e || null === e) return "object expected";
                            if (null != e.notes && e.hasOwnProperty("notes")) {
                                if (!Array.isArray(e.notes)) return "notes: array expected";
                                for (var t = 0; t < e.notes.length; ++t) {
                                    var n = s.RecordedLibrettos.Note.verify(e.notes[t]);
                                    if (n) return "notes." + n;
                                }
                            }
                            return null;
                        }),
                        (e.fromObject = function (e) {
                            if (e instanceof s.RecordedLibrettos.RecordedLibretto) return e;
                            var t = new s.RecordedLibrettos.RecordedLibretto();
                            if (e.notes) {
                                if (!Array.isArray(e.notes))
                                    throw TypeError(".RecordedLibrettos.RecordedLibretto.notes: array expected");
                                t.notes = [];
                                for (var n = 0; n < e.notes.length; ++n) {
                                    if ("object" != typeof e.notes[n])
                                        throw TypeError(".RecordedLibrettos.RecordedLibretto.notes: object expected");
                                    t.notes[n] = s.RecordedLibrettos.Note.fromObject(e.notes[n]);
                                }
                            }
                            return t;
                        }),
                        (e.toObject = function (e, t) {
                            t || (t = {});
                            var n = {};
                            if (((t.arrays || t.defaults) && (n.notes = []), e.notes && e.notes.length)) {
                                n.notes = [];
                                for (var i = 0; i < e.notes.length; ++i)
                                    n.notes[i] = s.RecordedLibrettos.Note.toObject(e.notes[i], t);
                            }
                            return n;
                        }),
                        (e.prototype.toJSON = function () {
                            return this.constructor.toObject(this, i.util.toJSONOptions);
                        }),
                        e
                    );
                })()),
                e
            );
        })()),
            (e.exports = s);
    },
    function (e, t, n) {
        "use strict";
        var i = n(20),
            o = i.Reader,
            a = i.Writer,
            r = i.util,
            s = i.roots.default || (i.roots.default = {});
        (s.RecordingMessage = (function () {
            function e(e) {
                if (((this.parts = []), e))
                    for (var t = Object.keys(e), n = 0; n < t.length; ++n) null != e[t[n]] && (this[t[n]] = e[t[n]]);
            }
            var t, n;
            return (
                (e.prototype.theme = 0),
                (e.prototype.parts = r.emptyArray),
                (e.prototype.location = 0),
                (e.create = function (t) {
                    return new e(t);
                }),
                (e.encode = function (e, t) {
                    if ((t || (t = a.create()), t.uint32(8).int32(e.theme), null != e.parts && e.parts.length))
                        for (var n = 0; n < e.parts.length; ++n)
                            s.RecordingMessage.Part.encode(e.parts[n], t.uint32(18).fork()).ldelim();
                    return (
                        null != e.location &&
                            Object.hasOwnProperty.call(e, "location") &&
                            t.uint32(24).int32(e.location),
                        t
                    );
                }),
                (e.encodeDelimited = function (e, t) {
                    return this.encode(e, t).ldelim();
                }),
                (e.decode = function (e, t) {
                    e instanceof o || (e = o.create(e));
                    for (var n = void 0 === t ? e.len : e.pos + t, i = new s.RecordingMessage(); e.pos < n; ) {
                        var a = e.uint32();
                        switch (a >>> 3) {
                            case 1:
                                i.theme = e.int32();
                                break;
                            case 2:
                                (i.parts && i.parts.length) || (i.parts = []),
                                    i.parts.push(s.RecordingMessage.Part.decode(e, e.uint32()));
                                break;
                            case 3:
                                i.location = e.int32();
                                break;
                            default:
                                e.skipType(7 & a);
                        }
                    }
                    if (!i.hasOwnProperty("theme")) throw r.ProtocolError("missing required 'theme'", { instance: i });
                    return i;
                }),
                (e.decodeDelimited = function (e) {
                    return e instanceof o || (e = new o(e)), this.decode(e, e.uint32());
                }),
                (e.verify = function (e) {
                    if ("object" != typeof e || null === e) return "object expected";
                    switch (e.theme) {
                        default:
                            return "theme: enum value expected";
                        case 0:
                        case 1:
                        case 2:
                    }
                    if (null != e.parts && e.hasOwnProperty("parts")) {
                        if (!Array.isArray(e.parts)) return "parts: array expected";
                        for (var t = 0; t < e.parts.length; ++t) {
                            var n = s.RecordingMessage.Part.verify(e.parts[t]);
                            if (n) return "parts." + n;
                        }
                    }
                    if (null != e.location && e.hasOwnProperty("location"))
                        switch (e.location) {
                            default:
                                return "location: enum value expected";
                            case 0:
                            case 1:
                            case 2:
                            case 3:
                            case 4:
                            case 5:
                            case 6:
                            case 7:
                        }
                    return null;
                }),
                (e.fromObject = function (e) {
                    if (e instanceof s.RecordingMessage) return e;
                    var t = new s.RecordingMessage();
                    switch (e.theme) {
                        case "Normal":
                        case 0:
                            t.theme = 0;
                            break;
                        case "Christmas":
                        case 1:
                            t.theme = 1;
                            break;
                        case "NewYears":
                        case 2:
                            t.theme = 2;
                    }
                    if (e.parts) {
                        if (!Array.isArray(e.parts)) throw TypeError(".RecordingMessage.parts: array expected");
                        t.parts = [];
                        for (var n = 0; n < e.parts.length; ++n) {
                            if ("object" != typeof e.parts[n])
                                throw TypeError(".RecordingMessage.parts: object expected");
                            t.parts[n] = s.RecordingMessage.Part.fromObject(e.parts[n]);
                        }
                    }
                    switch (e.location) {
                        case "BlobperaHouse":
                        case 0:
                            t.location = 0;
                            break;
                        case "London":
                        case 1:
                            t.location = 1;
                            break;
                        case "NewYork":
                        case 2:
                            t.location = 2;
                            break;
                        case "Hackney":
                        case 3:
                            t.location = 3;
                            break;
                        case "Paris":
                        case 4:
                            t.location = 4;
                            break;
                        case "CapeTown":
                        case 5:
                            t.location = 5;
                            break;
                        case "MexicoCity":
                        case 6:
                            t.location = 6;
                            break;
                        case "Seoul":
                        case 7:
                            t.location = 7;
                    }
                    return t;
                }),
                (e.toObject = function (e, t) {
                    t || (t = {});
                    var n = {};
                    if (
                        ((t.arrays || t.defaults) && (n.parts = []),
                        t.defaults &&
                            ((n.theme = t.enums === String ? "Normal" : 0),
                            (n.location = t.enums === String ? "BlobperaHouse" : 0)),
                        null != e.theme &&
                            e.hasOwnProperty("theme") &&
                            (n.theme = t.enums === String ? s.RecordingMessage.Theme[e.theme] : e.theme),
                        e.parts && e.parts.length)
                    ) {
                        n.parts = [];
                        for (var i = 0; i < e.parts.length; ++i)
                            n.parts[i] = s.RecordingMessage.Part.toObject(e.parts[i], t);
                    }
                    return (
                        null != e.location &&
                            e.hasOwnProperty("location") &&
                            (n.location = t.enums === String ? s.RecordingMessage.Location[e.location] : e.location),
                        n
                    );
                }),
                (e.prototype.toJSON = function () {
                    return this.constructor.toObject(this, i.util.toJSONOptions);
                }),
                (e.Phoneme =
                    ((t = {}),
                    ((n = Object.create(t))[(t[0] = "i")] = 0),
                    (n[(t[1] = "a")] = 1),
                    (n[(t[2] = "e")] = 2),
                    (n[(t[3] = "o")] = 3),
                    (n[(t[4] = "sil")] = 4),
                    (n[(t[5] = "r")] = 5),
                    (n[(t[6] = "n")] = 6),
                    (n[(t[7] = "l")] = 7),
                    (n[(t[8] = "t")] = 8),
                    (n[(t[9] = "s")] = 9),
                    (n[(t[10] = "d")] = 10),
                    (n[(t[11] = "u")] = 11),
                    (n[(t[12] = "m")] = 12),
                    (n[(t[13] = "p")] = 13),
                    (n[(t[14] = "v")] = 14),
                    (n[(t[15] = "ch")] = 15),
                    (n[(t[16] = "c")] = 16),
                    (n[(t[17] = "f")] = 17),
                    (n[(t[18] = "j")] = 18),
                    (n[(t[19] = "b")] = 19),
                    (n[(t[20] = "h")] = 20),
                    (n[(t[21] = "g")] = 21),
                    (n[(t[22] = "qu")] = 22),
                    (n[(t[23] = "sh")] = 23),
                    (n[(t[24] = "ny")] = 24),
                    (n[(t[25] = "y")] = 25),
                    (n[(t[26] = "sk")] = 26),
                    (n[(t[27] = "z")] = 27),
                    (n[(t[28] = "tz")] = 28),
                    n)),
                (e.PhonemeWithDuration = (function () {
                    function e(e) {
                        if (e)
                            for (var t = Object.keys(e), n = 0; n < t.length; ++n)
                                null != e[t[n]] && (this[t[n]] = e[t[n]]);
                    }
                    return (
                        (e.prototype.name = 0),
                        (e.prototype.duration = 0),
                        (e.create = function (t) {
                            return new e(t);
                        }),
                        (e.encode = function (e, t) {
                            return t || (t = a.create()), t.uint32(8).int32(e.name), t.uint32(21).float(e.duration), t;
                        }),
                        (e.encodeDelimited = function (e, t) {
                            return this.encode(e, t).ldelim();
                        }),
                        (e.decode = function (e, t) {
                            e instanceof o || (e = o.create(e));
                            for (
                                var n = void 0 === t ? e.len : e.pos + t,
                                    i = new s.RecordingMessage.PhonemeWithDuration();
                                e.pos < n;

                            ) {
                                var a = e.uint32();
                                switch (a >>> 3) {
                                    case 1:
                                        i.name = e.int32();
                                        break;
                                    case 2:
                                        i.duration = e.float();
                                        break;
                                    default:
                                        e.skipType(7 & a);
                                }
                            }
                            if (!i.hasOwnProperty("name"))
                                throw r.ProtocolError("missing required 'name'", { instance: i });
                            if (!i.hasOwnProperty("duration"))
                                throw r.ProtocolError("missing required 'duration'", { instance: i });
                            return i;
                        }),
                        (e.decodeDelimited = function (e) {
                            return e instanceof o || (e = new o(e)), this.decode(e, e.uint32());
                        }),
                        (e.verify = function (e) {
                            if ("object" != typeof e || null === e) return "object expected";
                            switch (e.name) {
                                default:
                                    return "name: enum value expected";
                                case 0:
                                case 1:
                                case 2:
                                case 3:
                                case 4:
                                case 5:
                                case 6:
                                case 7:
                                case 8:
                                case 9:
                                case 10:
                                case 11:
                                case 12:
                                case 13:
                                case 14:
                                case 15:
                                case 16:
                                case 17:
                                case 18:
                                case 19:
                                case 20:
                                case 21:
                                case 22:
                                case 23:
                                case 24:
                                case 25:
                                case 26:
                                case 27:
                                case 28:
                            }
                            return "number" != typeof e.duration ? "duration: number expected" : null;
                        }),
                        (e.fromObject = function (e) {
                            if (e instanceof s.RecordingMessage.PhonemeWithDuration) return e;
                            var t = new s.RecordingMessage.PhonemeWithDuration();
                            switch (e.name) {
                                case "i":
                                case 0:
                                    t.name = 0;
                                    break;
                                case "a":
                                case 1:
                                    t.name = 1;
                                    break;
                                case "e":
                                case 2:
                                    t.name = 2;
                                    break;
                                case "o":
                                case 3:
                                    t.name = 3;
                                    break;
                                case "sil":
                                case 4:
                                    t.name = 4;
                                    break;
                                case "r":
                                case 5:
                                    t.name = 5;
                                    break;
                                case "n":
                                case 6:
                                    t.name = 6;
                                    break;
                                case "l":
                                case 7:
                                    t.name = 7;
                                    break;
                                case "t":
                                case 8:
                                    t.name = 8;
                                    break;
                                case "s":
                                case 9:
                                    t.name = 9;
                                    break;
                                case "d":
                                case 10:
                                    t.name = 10;
                                    break;
                                case "u":
                                case 11:
                                    t.name = 11;
                                    break;
                                case "m":
                                case 12:
                                    t.name = 12;
                                    break;
                                case "p":
                                case 13:
                                    t.name = 13;
                                    break;
                                case "v":
                                case 14:
                                    t.name = 14;
                                    break;
                                case "ch":
                                case 15:
                                    t.name = 15;
                                    break;
                                case "c":
                                case 16:
                                    t.name = 16;
                                    break;
                                case "f":
                                case 17:
                                    t.name = 17;
                                    break;
                                case "j":
                                case 18:
                                    t.name = 18;
                                    break;
                                case "b":
                                case 19:
                                    t.name = 19;
                                    break;
                                case "h":
                                case 20:
                                    t.name = 20;
                                    break;
                                case "g":
                                case 21:
                                    t.name = 21;
                                    break;
                                case "qu":
                                case 22:
                                    t.name = 22;
                                    break;
                                case "sh":
                                case 23:
                                    t.name = 23;
                                    break;
                                case "ny":
                                case 24:
                                    t.name = 24;
                                    break;
                                case "y":
                                case 25:
                                    t.name = 25;
                                    break;
                                case "sk":
                                case 26:
                                    t.name = 26;
                                    break;
                                case "z":
                                case 27:
                                    t.name = 27;
                                    break;
                                case "tz":
                                case 28:
                                    t.name = 28;
                            }
                            return null != e.duration && (t.duration = Number(e.duration)), t;
                        }),
                        (e.toObject = function (e, t) {
                            t || (t = {});
                            var n = {};
                            return (
                                t.defaults && ((n.name = t.enums === String ? "i" : 0), (n.duration = 0)),
                                null != e.name &&
                                    e.hasOwnProperty("name") &&
                                    (n.name = t.enums === String ? s.RecordingMessage.Phoneme[e.name] : e.name),
                                null != e.duration &&
                                    e.hasOwnProperty("duration") &&
                                    (n.duration = t.json && !isFinite(e.duration) ? String(e.duration) : e.duration),
                                n
                            );
                        }),
                        (e.prototype.toJSON = function () {
                            return this.constructor.toObject(this, i.util.toJSONOptions);
                        }),
                        e
                    );
                })()),
                (e.LibrettoChunk = (function () {
                    function e(e) {
                        if (((this.suffix = []), e))
                            for (var t = Object.keys(e), n = 0; n < t.length; ++n)
                                null != e[t[n]] && (this[t[n]] = e[t[n]]);
                    }
                    return (
                        (e.prototype.vowel = null),
                        (e.prototype.suffix = r.emptyArray),
                        (e.create = function (t) {
                            return new e(t);
                        }),
                        (e.encode = function (e, t) {
                            if (
                                (t || (t = a.create()),
                                s.RecordingMessage.PhonemeWithDuration.encode(e.vowel, t.uint32(10).fork()).ldelim(),
                                null != e.suffix && e.suffix.length)
                            )
                                for (var n = 0; n < e.suffix.length; ++n)
                                    s.RecordingMessage.PhonemeWithDuration.encode(
                                        e.suffix[n],
                                        t.uint32(18).fork()
                                    ).ldelim();
                            return t;
                        }),
                        (e.encodeDelimited = function (e, t) {
                            return this.encode(e, t).ldelim();
                        }),
                        (e.decode = function (e, t) {
                            e instanceof o || (e = o.create(e));
                            for (
                                var n = void 0 === t ? e.len : e.pos + t, i = new s.RecordingMessage.LibrettoChunk();
                                e.pos < n;

                            ) {
                                var a = e.uint32();
                                switch (a >>> 3) {
                                    case 1:
                                        i.vowel = s.RecordingMessage.PhonemeWithDuration.decode(e, e.uint32());
                                        break;
                                    case 2:
                                        (i.suffix && i.suffix.length) || (i.suffix = []),
                                            i.suffix.push(s.RecordingMessage.PhonemeWithDuration.decode(e, e.uint32()));
                                        break;
                                    default:
                                        e.skipType(7 & a);
                                }
                            }
                            if (!i.hasOwnProperty("vowel"))
                                throw r.ProtocolError("missing required 'vowel'", { instance: i });
                            return i;
                        }),
                        (e.decodeDelimited = function (e) {
                            return e instanceof o || (e = new o(e)), this.decode(e, e.uint32());
                        }),
                        (e.verify = function (e) {
                            if ("object" != typeof e || null === e) return "object expected";
                            if ((n = s.RecordingMessage.PhonemeWithDuration.verify(e.vowel))) return "vowel." + n;
                            if (null != e.suffix && e.hasOwnProperty("suffix")) {
                                if (!Array.isArray(e.suffix)) return "suffix: array expected";
                                for (var t = 0; t < e.suffix.length; ++t) {
                                    var n;
                                    if ((n = s.RecordingMessage.PhonemeWithDuration.verify(e.suffix[t])))
                                        return "suffix." + n;
                                }
                            }
                            return null;
                        }),
                        (e.fromObject = function (e) {
                            if (e instanceof s.RecordingMessage.LibrettoChunk) return e;
                            var t = new s.RecordingMessage.LibrettoChunk();
                            if (null != e.vowel) {
                                if ("object" != typeof e.vowel)
                                    throw TypeError(".RecordingMessage.LibrettoChunk.vowel: object expected");
                                t.vowel = s.RecordingMessage.PhonemeWithDuration.fromObject(e.vowel);
                            }
                            if (e.suffix) {
                                if (!Array.isArray(e.suffix))
                                    throw TypeError(".RecordingMessage.LibrettoChunk.suffix: array expected");
                                t.suffix = [];
                                for (var n = 0; n < e.suffix.length; ++n) {
                                    if ("object" != typeof e.suffix[n])
                                        throw TypeError(".RecordingMessage.LibrettoChunk.suffix: object expected");
                                    t.suffix[n] = s.RecordingMessage.PhonemeWithDuration.fromObject(e.suffix[n]);
                                }
                            }
                            return t;
                        }),
                        (e.toObject = function (e, t) {
                            t || (t = {});
                            var n = {};
                            if (
                                ((t.arrays || t.defaults) && (n.suffix = []),
                                t.defaults && (n.vowel = null),
                                null != e.vowel &&
                                    e.hasOwnProperty("vowel") &&
                                    (n.vowel = s.RecordingMessage.PhonemeWithDuration.toObject(e.vowel, t)),
                                e.suffix && e.suffix.length)
                            ) {
                                n.suffix = [];
                                for (var i = 0; i < e.suffix.length; ++i)
                                    n.suffix[i] = s.RecordingMessage.PhonemeWithDuration.toObject(e.suffix[i], t);
                            }
                            return n;
                        }),
                        (e.prototype.toJSON = function () {
                            return this.constructor.toObject(this, i.util.toJSONOptions);
                        }),
                        e
                    );
                })()),
                (e.Note = (function () {
                    function e(e) {
                        if (e)
                            for (var t = Object.keys(e), n = 0; n < t.length; ++n)
                                null != e[t[n]] && (this[t[n]] = e[t[n]]);
                    }
                    return (
                        (e.prototype.timeSeconds = 0),
                        (e.prototype.midiPitch = 0),
                        (e.prototype.librettoChunk = null),
                        (e.prototype.controlled = !1),
                        (e.create = function (t) {
                            return new e(t);
                        }),
                        (e.encode = function (e, t) {
                            return (
                                t || (t = a.create()),
                                t.uint32(13).float(e.timeSeconds),
                                t.uint32(21).float(e.midiPitch),
                                s.RecordingMessage.LibrettoChunk.encode(e.librettoChunk, t.uint32(26).fork()).ldelim(),
                                null != e.controlled &&
                                    Object.hasOwnProperty.call(e, "controlled") &&
                                    t.uint32(32).bool(e.controlled),
                                t
                            );
                        }),
                        (e.encodeDelimited = function (e, t) {
                            return this.encode(e, t).ldelim();
                        }),
                        (e.decode = function (e, t) {
                            e instanceof o || (e = o.create(e));
                            for (
                                var n = void 0 === t ? e.len : e.pos + t, i = new s.RecordingMessage.Note();
                                e.pos < n;

                            ) {
                                var a = e.uint32();
                                switch (a >>> 3) {
                                    case 1:
                                        i.timeSeconds = e.float();
                                        break;
                                    case 2:
                                        i.midiPitch = e.float();
                                        break;
                                    case 3:
                                        i.librettoChunk = s.RecordingMessage.LibrettoChunk.decode(e, e.uint32());
                                        break;
                                    case 4:
                                        i.controlled = e.bool();
                                        break;
                                    default:
                                        e.skipType(7 & a);
                                }
                            }
                            if (!i.hasOwnProperty("timeSeconds"))
                                throw r.ProtocolError("missing required 'timeSeconds'", { instance: i });
                            if (!i.hasOwnProperty("midiPitch"))
                                throw r.ProtocolError("missing required 'midiPitch'", { instance: i });
                            if (!i.hasOwnProperty("librettoChunk"))
                                throw r.ProtocolError("missing required 'librettoChunk'", { instance: i });
                            return i;
                        }),
                        (e.decodeDelimited = function (e) {
                            return e instanceof o || (e = new o(e)), this.decode(e, e.uint32());
                        }),
                        (e.verify = function (e) {
                            if ("object" != typeof e || null === e) return "object expected";
                            if ("number" != typeof e.timeSeconds) return "timeSeconds: number expected";
                            if ("number" != typeof e.midiPitch) return "midiPitch: number expected";
                            var t = s.RecordingMessage.LibrettoChunk.verify(e.librettoChunk);
                            return t
                                ? "librettoChunk." + t
                                : null != e.controlled &&
                                  e.hasOwnProperty("controlled") &&
                                  "boolean" != typeof e.controlled
                                ? "controlled: boolean expected"
                                : null;
                        }),
                        (e.fromObject = function (e) {
                            if (e instanceof s.RecordingMessage.Note) return e;
                            var t = new s.RecordingMessage.Note();
                            if (
                                (null != e.timeSeconds && (t.timeSeconds = Number(e.timeSeconds)),
                                null != e.midiPitch && (t.midiPitch = Number(e.midiPitch)),
                                null != e.librettoChunk)
                            ) {
                                if ("object" != typeof e.librettoChunk)
                                    throw TypeError(".RecordingMessage.Note.librettoChunk: object expected");
                                t.librettoChunk = s.RecordingMessage.LibrettoChunk.fromObject(e.librettoChunk);
                            }
                            return null != e.controlled && (t.controlled = Boolean(e.controlled)), t;
                        }),
                        (e.toObject = function (e, t) {
                            t || (t = {});
                            var n = {};
                            return (
                                t.defaults &&
                                    ((n.timeSeconds = 0),
                                    (n.midiPitch = 0),
                                    (n.librettoChunk = null),
                                    (n.controlled = !1)),
                                null != e.timeSeconds &&
                                    e.hasOwnProperty("timeSeconds") &&
                                    (n.timeSeconds =
                                        t.json && !isFinite(e.timeSeconds) ? String(e.timeSeconds) : e.timeSeconds),
                                null != e.midiPitch &&
                                    e.hasOwnProperty("midiPitch") &&
                                    (n.midiPitch =
                                        t.json && !isFinite(e.midiPitch) ? String(e.midiPitch) : e.midiPitch),
                                null != e.librettoChunk &&
                                    e.hasOwnProperty("librettoChunk") &&
                                    (n.librettoChunk = s.RecordingMessage.LibrettoChunk.toObject(e.librettoChunk, t)),
                                null != e.controlled && e.hasOwnProperty("controlled") && (n.controlled = e.controlled),
                                n
                            );
                        }),
                        (e.prototype.toJSON = function () {
                            return this.constructor.toObject(this, i.util.toJSONOptions);
                        }),
                        e
                    );
                })()),
                (e.Part = (function () {
                    function e(e) {
                        if (((this.notes = []), (this.startSuffix = []), e))
                            for (var t = Object.keys(e), n = 0; n < t.length; ++n)
                                null != e[t[n]] && (this[t[n]] = e[t[n]]);
                    }
                    return (
                        (e.prototype.notes = r.emptyArray),
                        (e.prototype.startSuffix = r.emptyArray),
                        (e.create = function (t) {
                            return new e(t);
                        }),
                        (e.encode = function (e, t) {
                            if ((t || (t = a.create()), null != e.notes && e.notes.length))
                                for (var n = 0; n < e.notes.length; ++n)
                                    s.RecordingMessage.Note.encode(e.notes[n], t.uint32(10).fork()).ldelim();
                            if (null != e.startSuffix && e.startSuffix.length)
                                for (n = 0; n < e.startSuffix.length; ++n)
                                    s.RecordingMessage.PhonemeWithDuration.encode(
                                        e.startSuffix[n],
                                        t.uint32(18).fork()
                                    ).ldelim();
                            return t;
                        }),
                        (e.encodeDelimited = function (e, t) {
                            return this.encode(e, t).ldelim();
                        }),
                        (e.decode = function (e, t) {
                            e instanceof o || (e = o.create(e));
                            for (
                                var n = void 0 === t ? e.len : e.pos + t, i = new s.RecordingMessage.Part();
                                e.pos < n;

                            ) {
                                var a = e.uint32();
                                switch (a >>> 3) {
                                    case 1:
                                        (i.notes && i.notes.length) || (i.notes = []),
                                            i.notes.push(s.RecordingMessage.Note.decode(e, e.uint32()));
                                        break;
                                    case 2:
                                        (i.startSuffix && i.startSuffix.length) || (i.startSuffix = []),
                                            i.startSuffix.push(
                                                s.RecordingMessage.PhonemeWithDuration.decode(e, e.uint32())
                                            );
                                        break;
                                    default:
                                        e.skipType(7 & a);
                                }
                            }
                            return i;
                        }),
                        (e.decodeDelimited = function (e) {
                            return e instanceof o || (e = new o(e)), this.decode(e, e.uint32());
                        }),
                        (e.verify = function (e) {
                            if ("object" != typeof e || null === e) return "object expected";
                            if (null != e.notes && e.hasOwnProperty("notes")) {
                                if (!Array.isArray(e.notes)) return "notes: array expected";
                                for (var t = 0; t < e.notes.length; ++t) {
                                    if ((n = s.RecordingMessage.Note.verify(e.notes[t]))) return "notes." + n;
                                }
                            }
                            if (null != e.startSuffix && e.hasOwnProperty("startSuffix")) {
                                if (!Array.isArray(e.startSuffix)) return "startSuffix: array expected";
                                for (t = 0; t < e.startSuffix.length; ++t) {
                                    var n;
                                    if ((n = s.RecordingMessage.PhonemeWithDuration.verify(e.startSuffix[t])))
                                        return "startSuffix." + n;
                                }
                            }
                            return null;
                        }),
                        (e.fromObject = function (e) {
                            if (e instanceof s.RecordingMessage.Part) return e;
                            var t = new s.RecordingMessage.Part();
                            if (e.notes) {
                                if (!Array.isArray(e.notes))
                                    throw TypeError(".RecordingMessage.Part.notes: array expected");
                                t.notes = [];
                                for (var n = 0; n < e.notes.length; ++n) {
                                    if ("object" != typeof e.notes[n])
                                        throw TypeError(".RecordingMessage.Part.notes: object expected");
                                    t.notes[n] = s.RecordingMessage.Note.fromObject(e.notes[n]);
                                }
                            }
                            if (e.startSuffix) {
                                if (!Array.isArray(e.startSuffix))
                                    throw TypeError(".RecordingMessage.Part.startSuffix: array expected");
                                t.startSuffix = [];
                                for (n = 0; n < e.startSuffix.length; ++n) {
                                    if ("object" != typeof e.startSuffix[n])
                                        throw TypeError(".RecordingMessage.Part.startSuffix: object expected");
                                    t.startSuffix[n] = s.RecordingMessage.PhonemeWithDuration.fromObject(
                                        e.startSuffix[n]
                                    );
                                }
                            }
                            return t;
                        }),
                        (e.toObject = function (e, t) {
                            t || (t = {});
                            var n = {};
                            if (
                                ((t.arrays || t.defaults) && ((n.notes = []), (n.startSuffix = [])),
                                e.notes && e.notes.length)
                            ) {
                                n.notes = [];
                                for (var i = 0; i < e.notes.length; ++i)
                                    n.notes[i] = s.RecordingMessage.Note.toObject(e.notes[i], t);
                            }
                            if (e.startSuffix && e.startSuffix.length) {
                                n.startSuffix = [];
                                for (i = 0; i < e.startSuffix.length; ++i)
                                    n.startSuffix[i] = s.RecordingMessage.PhonemeWithDuration.toObject(
                                        e.startSuffix[i],
                                        t
                                    );
                            }
                            return n;
                        }),
                        (e.prototype.toJSON = function () {
                            return this.constructor.toObject(this, i.util.toJSONOptions);
                        }),
                        e
                    );
                })()),
                (e.Theme = (function () {
                    var e = {},
                        t = Object.create(e);
                    return (t[(e[0] = "Normal")] = 0), (t[(e[1] = "Christmas")] = 1), (t[(e[2] = "NewYears")] = 2), t;
                })()),
                (e.Location = (function () {
                    var e = {},
                        t = Object.create(e);
                    return (
                        (t[(e[0] = "BlobperaHouse")] = 0),
                        (t[(e[1] = "London")] = 1),
                        (t[(e[2] = "NewYork")] = 2),
                        (t[(e[3] = "Hackney")] = 3),
                        (t[(e[4] = "Paris")] = 4),
                        (t[(e[5] = "CapeTown")] = 5),
                        (t[(e[6] = "MexicoCity")] = 6),
                        (t[(e[7] = "Seoul")] = 7),
                        t
                    );
                })()),
                e
            );
        })()),
            (e.exports = s);
    },
    function (e, t, n) {
        "use strict";
        var i = n(41),
            o = n.n(i)()(function (e) {
                return e[1];
            });
        o.push([
            e.i,
            'html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:"";content:none}table{border-collapse:collapse;border-spacing:0}.prompt{position:fixed;color:#000;font-weight:400;font-size:16px;line-height:20px;padding:10px;text-align:center;background:#ffffffcc;border-radius:10px;z-index:1}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){.prompt{font-size:12px;line-height:16px;padding:6px}}.voice-prompt{will-change:transform;transform:translateZ(0)}#pitch-prompt{will-change:transform;transform:translateZ(0)}.voice-prompt span{font-weight:800}#pitch-prompt-pitch{font-weight:400;transition:font-weight .1s linear}#pitch-prompt-pitch.sounding{font-weight:600}.prompt-right-arrow{margin-left:10px}.prompt-right-arrow:after{position:absolute;left:100%;border-top:5px solid transparent;border-bottom:5px solid transparent;border-left:5px solid #ffffffcc;content:" ";margin-top:-5px;top:50%}.prompt-left-arrow{margin-right:10px}.prompt-left-arrow:after{position:absolute;right:100%;border-top:5px solid transparent;border-bottom:5px solid transparent;border-right:5px solid #ffffffcc;content:" ";margin-top:-5px;top:50%}.prompt-bottom-arrow:after{position:absolute;top:100%;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #ffffffcc;content:" ";margin-left:-5px;left:50%}#vowel-prompt{transform:translate(-50%, 0)}#vowel-prompt-vowel{font-weight:400;transition:font-weight .1s linear}#vowel-prompt-vowel.sounding{font-weight:600}#stop-recording-prompt{left:90px;bottom:45px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#stop-recording-prompt{left:75px;bottom:40px}}.share-prompt{bottom:100px;left:105px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){.share-prompt{left:85px;bottom:80px}}.share-prompt:after{left:25px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){.share-prompt:after{left:15px}}#festive-prompt{bottom:85px;right:90px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#festive-prompt{bottom:75px;right:85px}}#festive-prompt:after{left:auto;right:30px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#festive-prompt:after{right:20px}}#carols-prompt{bottom:100px;right:100px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#carols-prompt{bottom:80px;right:90px}}#carols-prompt:after{left:auto;right:80px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#carols-prompt:after{right:70px}}#location-selection-prompt{bottom:100px;right:22px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#location-selection-prompt{bottom:100px;right:27px}}#location-selection-prompt:after{left:auto;right:30px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#location-selection-prompt:after{right:20px}}#location-songs-prompt{bottom:100px;right:81px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#location-songs-prompt{bottom:101px;right:56px}}#location-songs-prompt:after{left:auto;right:30px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#location-songs-prompt:after{right:49px}}#loading{width:300px;margin:30px auto 0 auto;color:#fff;text-align:center}.loading-visible{-moz-animation:fade .3s;-webkit-animation:fade .3s;animation:fade .3s;opacity:1}.loading-hidden{-moz-animation:fade-out .3s !important;-webkit-animation:fade-out .3s !important;animation:fade-out .3s !important;opacity:0}#loading-bar{width:200px;height:15px;margin:0 auto 0 auto;border-width:1px;border-style:solid;border-color:#fff;border-radius:15px;overflow:hidden;transition:width .3s,height .3s,margin .3s,border-radius .3s,border-color .3s}#loading-fill{background-color:#fff;height:100%;width:0%;transition:background-color .3s linear,width .2s linear;position:relative;overflow:hidden}.loading-button{width:120px !important;height:50px !important;margin-top:-10px !important;border-radius:25px !important;border-color:transparent !important;cursor:pointer;pointer-events:auto;-webkit-tap-highlight-color:rgba(255,255,255,0)}.loading-button #loading-fill{background:#22b82e;box-shadow:0px 0px 6px #0000008e}#loading-play{position:absolute;height:30px;width:100%;top:50%;margin-top:-15px;line-height:30px;text-align:center;color:#fff;font-size:20px;opacity:0;display:none}.loading-button #loading-play{display:block !important}.loading-button #loading-fill #loading-play{opacity:1 !important}#audio-prompt{font-weight:300;font-size:16px;margin-top:20px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#audio-prompt{font-size:14px}}#silent-hint{display:none;font-weight:300}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#silent-hint{font-size:14px}}.silent-hint-show{display:block !important}#error{text-align:center;font-size:20px}#disclaimer{position:fixed;left:20px;bottom:20px;right:20px;color:#fff;text-align:center}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#disclaimer{font-size:14px;left:10px;right:10px;bottom:10px}}#info-overlay{top:0;left:0;background:#000000cc;position:fixed;width:100%;height:100%;overflow:auto}#info-container{margin:100px auto;padding:20px;max-width:500px;color:#fff;font-weight:400;font-size:16px;line-height:20px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#info-container{margin:10px auto;font-size:12px;line-height:14px}}#info-container p{margin-top:1em}#info-container span{font-weight:bold}#info-container a{color:#fff}#info-container a:visited{color:#fff}#info-title{color:#fff;font-size:24px;margin-bottom:1em}#info-title-image{width:auto;height:auto;max-width:180px}#close-info{color:#000;position:relative;margin-top:40px}.menu-container{bottom:95px;right:20px;width:250px;position:fixed;color:#000;font-weight:400;font-size:14px;text-align:left;background:#ffffffcc;padding:5px;border-radius:10px;white-space:nowrap;z-index:100;user-select:none}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){.menu-container{left:50%;margin-left:-125px;font-size:12px}}.menu-container:after{left:auto;right:80px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){.menu-container:after{display:none}}.menu-container .menu-items .material-icons{vertical-align:middle;padding-bottom:3px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){.menu-container .menu-items .material-icons{font-size:18px}}.menu-container .menu-items li{position:relative;padding:5px;border-top:1px solid #aaa;cursor:pointer;transition:background-color .1s linear}.menu-container .menu-items li:first-child{border-top:none}@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.menu-container .menu-items li .spinner{position:absolute;width:12px;height:12px;left:3px;top:3px;border-radius:50%;border:3px solid currentColor;border-top-color:currentcolor;border-right-color:currentcolor;border-bottom-color:currentcolor;border-left-color:currentcolor;border-color:currentColor transparent currentColor transparent;display:none}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){.menu-container .menu-items li .spinner{left:0;top:0}}.menu-container .menu-items li.loading .spinner{display:block;animation:spin 1.2s linear infinite}.menu-container .menu-items li.loading .material-icons{opacity:0}.menu-container .menu-items .song-name{margin-left:5px}.menu-container .menu-items .song-description{display:block;margin-left:32px;margin-bottom:5px;color:#666}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){.menu-container .menu-items .song-description{margin-left:25px}}.menu-container .menu-items .song-description.hidden{display:none}.menu-container .menu-items .loaded,.menu-container .menu-items .playing{color:#22b82e}.menu-items .list-item-icon{display:inline-block;position:relative;top:1px}#location-songs.menu-items .list-item-icon{top:11px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#location-songs.menu-items .list-item-icon{top:9px}}.festive-button{position:fixed;width:55px;height:55px;line-height:55px;border-radius:50%;box-shadow:0px 0px 12px #00000063;background-color:#eee;cursor:pointer;transition:background-color .1s linear,box-shadow .1s linear,fill .1s linear,#fff .1s linear;color:#000;text-align:center;user-select:none}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){.festive-button{width:40px;height:40px;line-height:40px}}.festive-button.depressed{color:#fff;background-color:#666}#festive-playlist{right:160px;bottom:30px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#festive-playlist{right:145px;bottom:30px}}#festive-songs-container{bottom:95px;right:100px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#festive-songs-container{left:50%;margin-left:-125px;font-size:12px}}#festive-songs-container:after{left:auto;right:80px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#festive-songs-container:after{display:none}}#festive-switch-container{position:absolute;right:100px;bottom:45px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#festive-switch-container{right:90px;bottom:45px}}.switch{position:relative;display:inline-block;width:48px;height:20px}.switch input{opacity:0;width:0;height:0}.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#eee;-webkit-transition:.4s;transition:.4s;border-radius:34px}.slider:before{position:absolute;content:"";height:32px;width:32px;left:0px;bottom:-6px;background-color:#fff;box-shadow:0px 0px 12px #00000063;-webkit-transition:.4s;transition:125ms;border-radius:50%;background-repeat:no-repeat;background-position:center}.christmas .slider:before{background-image:url("./files/tree.svg")}.newyears .slider:before{background-image:url("./files/hat.svg")}input:checked+.slider:before{background-color:#22b82e}input:checked+.slider{background-color:#afdab3}input:focus+.slider{box-shadow:0 0 1px #afdab3}input:checked+.slider:before{-webkit-transform:translateX(19px);-ms-transform:translateX(19px);transform:translateX(19px)}.location-button{width:55px;height:55px;line-height:55px;background-color:#eee;border-radius:27.5px;box-shadow:0px 0px 12px #00000063;cursor:pointer;transition:background-color .1s linear,box-shadow .1s linear,fill .1s linear,#fff .1s linear;color:#000;text-align:center;user-select:none}.playlist-button{position:absolute;top:6px;left:5px;width:44px;height:44px;line-height:44px;background-color:#eee;border-radius:22px;box-shadow:0px 0px 12px #00000063;cursor:pointer;transition:background-color .1s linear,box-shadow .1s linear,fill .1s linear,#fff .1s linear;color:#000;text-align:center;user-select:none}.location-button.depressed,.playlist-button.depressed{color:#fff;background-color:#666}#location-selector-button{position:fixed;right:30px;bottom:30px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#location-selector-button{right:25px;bottom:30px}}#location-selector-container{bottom:95px;right:20px;width:250px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#location-selector-container{left:50%;margin-left:-125px;font-size:12px}}#location-selector-container:after{left:auto;right:33px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#location-selector-container:after{display:none}}#location-playlist-tray{position:fixed;width:112px;height:55px;line-height:55px;right:30px;bottom:30px;background-color:#333333cc;border-radius:55px;box-shadow:0px 0px 12px #00000063;cursor:pointer;transition:background-color .1s linear,box-shadow .1s linear,fill .1s linear,#fff .1s linear;color:#000;text-align:center;user-select:none;text-align:left}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#location-playlist-tray{right:25px;bottom:30px}}#location-label{position:absolute;top:6px;left:30px;color:#fff;display:none}#location-songs-container.menu-container:after{right:91px}.indicator{position:fixed;width:20px;height:20px;border-radius:20px;margin-left:-10px;margin-top:-10px;left:0;right:0;opacity:0;transition:opacity .2s linear;pointer-events:none;border:2px solid #fff}.indicator.active{opacity:1}#multiplayer-container{position:absolute;right:170px;bottom:10px;pointer-events:none;text-align:center;width:80px}#multiplayer-status{background:#00000080;padding:8px 10px;display:inline-block;vertical-align:middle;margin-bottom:5px}#multiplayer-people-label{font-weight:400;color:#fff;font-weight:300;margin-top:10px}#multiplayer-people{margin-left:-100%;margin-right:-100%;white-space:nowrap}.multiplayer-person{font-family:"Material Icons";vertical-align:middle;transition:width .3s linear,height .3s linear,margin .3s linear,opacity .2s linear;animation:slidein .3s forwards;opacity:.4;overflow:hidden}.multiplayer-person.self{-webkit-text-stroke:1px #fff}.multiplayer-person.inactive{animation:slideout .3s forwards}.multiplayer-person.connected{opacity:1}@keyframes slidein{from{font-size:0px}to{font-size:30px}}@keyframes slideout{from{font-size:30px}to{font-size:0px}}.tutorial-prompt{position:fixed;color:#fff;font-size:24px;top:20%;text-align:center;width:90%;padding:0 5% 0 5%}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){.tutorial-prompt{font-size:16px}}body{margin:0;padding:0;overflow:hidden;font-family:"Inter",system-ui,sans-serif;width:100%;height:100%;background:url("./files/background.jpg") no-repeat center center fixed,#000;-webkit-background-size:cover;-moz-background-size:cover;-o-background-size:cover;background-size:cover}#skip{position:fixed;bottom:20px;right:20px;font-size:16px;font-weight:400;cursor:pointer;color:#fff}.hideable-clickable{opacity:0;pointer-events:none;transition:opacity .2s}.hideable-clickable.visible{opacity:1;pointer-events:auto}.hideable-unclickable{opacity:0;pointer-events:none;transition:opacity .4s}.hideable-unclickable.visible{opacity:1}#intro{font-size:21px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#intro{font-size:16px}}#title{margin-top:20px}.title{color:#fff;pointer-events:none}#title-image{width:auto;height:auto;max-width:455px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#title-image{max-width:300px}}#splash{position:fixed;width:100%;top:25%;text-align:center;color:#fff}#tagline{font-weight:300;margin-top:20px;font-size:21px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#tagline{font-size:16px}}#title-small{position:fixed;font-size:32px;left:20px;top:20px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#title-small{left:10px;font-size:24px}}#title-small-image{width:auto;height:auto;max-width:180px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#title-small-image{max-width:120px}}#record-container{left:10px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#record-container{left:0px}}#record,#stop-record{position:absolute;border-width:6px;border-style:solid;border-color:#fff;bottom:24px;width:46px;height:46px;border-radius:50%;box-shadow:0px 0px 12px #00000063;cursor:pointer;left:50%;transform:translate(-50%, 0)}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#record,#stop-record{width:36px;height:36px;bottom:20px;border-width:5px}}@keyframes pulse{from{border-color:#fff}50%{border-color:#ffffffcc}to{border-color:#fff}}#record-start{position:absolute;width:40px;height:40px;border-radius:50%;background:#ff3030;margin:0 auto;position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);box-shadow:0px 0px 12px #00000063;transition:width .1s linear,height .1s linear,border-radius .1s linear}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#record-start{width:30px;height:30px}}.recording #record-start{width:20px;height:20px;border-radius:0}#stop-recording-container{left:50%;margin-left:-40px}#record-text{opacity:1}.recording #record-text{opacity:0}#finish-text{opacity:0}.recording #finish-text{opacity:1}.timecode{transition:opacity .1s linear;opacity:0;position:absolute;top:-35px;text-align:center;pointer-events:none;user-select:none;width:100%;font-size:14px;font-family:"Roboto Mono",monospace;color:#fff;padding:5px 0 5px 0;border-radius:10px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){.timecode{font-size:12px;top:-10px;width:90%;left:10%}}#recording-timecode{background:#ff3030}.recording #recording-timecode{opacity:1}#playback-timecode{opacity:1;background:#0000008a}.button-container{position:fixed;bottom:10px;width:80px;height:80px}.button{width:55px;height:55px;line-height:55px;border-radius:27.5px;text-align:center;position:absolute;bottom:24px;left:50%;transform:translate(-50%, 0);box-shadow:0px 0px 12px #00000063;background-color:#eee;cursor:pointer;transition:background-color .1s linear,box-shadow .1s linear;user-select:none}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){.button{font-size:18px;width:40px;height:40px;line-height:40px;bottom:20px}}.button-text{position:absolute;text-align:center;color:#fff;font-weight:300;bottom:0;pointer-events:none;width:100%;transition:opacity .1s linear;user-select:none;font-size:16px;white-space:nowrap}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){.button-text{font-size:14px;font-weight:400}}.button-text-small{font-size:12px;bottom:2px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){.button-text-small{font-size:10px;font-weight:400}}#save-container{left:90px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#save-container{left:60px}}#save-text{opacity:1}.saving #save-text{opacity:0}#saving-text{opacity:0}.saving #saving-text{opacity:1}#discard-container{left:160px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#discard-container{left:110px}}#startstop-container{left:10px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#startstop-container{left:0px}}#recording-copy-link-container{left:90px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#recording-copy-link-container{left:60px}}.copy-link-text{opacity:1}.copying .copy-link-text{opacity:0}.copying-link-text{opacity:0}.copying .copying-link-text{opacity:1}#back-container{left:160px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#back-container{left:110px}}#startstop{position:absolute;bottom:31px;left:50%;transform:translate(-50%, 0);width:40px;height:40px;border-radius:50%;box-shadow:0px 0px 12px #00000063;background-color:#eee;cursor:pointer;transition:background-color .1s linear,box-shadow .1s linear}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#startstop{width:30px;height:30px;bottom:28px}}.playing #startstop-stop{opacity:1}.playing #startstop-play{opacity:0}#startstop-stop{position:absolute;background:#333;width:15px;height:15px;left:50%;top:50%;transform:translate(-50%, -50%);transition:opacity .1s linear;opacity:0}#startstop-ring{width:58px;height:58px;border-radius:50%;box-shadow:0px 0px 12px #00000063;position:absolute;left:50%;bottom:22px;transform:translate(-50%, 0%)}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#startstop-ring{width:46px;height:46px;bottom:20px}}#startstop-play{position:absolute;width:0;height:0;left:50%;top:50%;transform:translate(-40%, -50%);border-radius:2px;border-top:10px solid transparent;border-bottom:10px solid transparent;border-left:15px solid #333;transition:opacity .1s linear;opacity:1}#play-text{opacity:1}.playing #play-text{opacity:0}#stop-text{opacity:0}.playing #stop-text{opacity:1}#play{background:#22b82e;color:#fff;text-align:center;position:fixed;right:20px;bottom:20px;width:150px;height:60px;border-radius:30px;font-weight:300;line-height:60px;cursor:pointer;font-size:20px;box-shadow:0px 0px 6px #0000008e}#muted-container{position:fixed;width:150px;height:150px;left:50%;top:50%;margin-left:-75px;margin-top:-75px;background:#ffffff33;pointer-events:none;border-radius:75px}#muted-text{color:#fff;font-weight:400;text-align:center;margin-top:10px}.silence-button{position:fixed;width:50px;height:50px;margin-left:-25px;border-radius:50%;background:#ffffff33;cursor:pointer}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){.silence-button{width:36px;height:36px;margin-left:-18px}}.silence-button .silence-line{transform-origin:20% 20%;transform:scale(0);transition:transform .1s linear}.silenced .silence-line{transform:scale(1)}#error{color:#fff;position:absolute;width:400px;left:50%;margin-left:-200px;top:50%;margin-top:-25px;pointer-events:none}#info{color:#fff;position:fixed;width:25px;height:25px;top:20px;left:220px;border:1px solid #fff;line-height:25px;border-radius:50%;cursor:pointer;user-select:none;text-align:center;font-size:16px;font-weight:900;z-index:999;background-color:rgba(255,255,255,0);transition:background-color .1s linear}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#info{width:20px;height:20px;line-height:20px;font-size:11px;left:140px}}#recording-indicator{position:fixed;top:90px;left:40px;color:#fff;font-size:24px;padding-left:25px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#recording-indicator{left:35px;top:85px;font-size:18px;padding-left:20px}}#recording-icon{position:absolute;left:0;top:2px;width:20px;height:20px;border-radius:50%;background:#ff3030;margin-right:10px;opacity:1}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#recording-icon{width:15px;height:15px;margin-right:5px}}@keyframes recording-pulse{from{opacity:.7}50%{opacity:1}to{opacity:.7}}#recording-frame{position:fixed;top:50px;bottom:0;left:0;right:0}.recording-frame-corner{display:block;position:fixed;stroke:rgba(255,255,255,.7);width:60px;height:60px;stroke-width:.15}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){.recording-frame-corner{width:40px;height:40px;stroke-width:.1}}@keyframes recording-frame-pulse{from{stroke:rgba(255,255,255,.7)}50%{stroke:#fff}to{stroke:rgba(255,255,255,.7)}}#recording-frame-top-left{top:70px;left:20px}#recording-frame-top-right{top:70px;right:20px}#recording-frame-bottom-left{bottom:20px;left:20px}#recording-frame-bottom-right{bottom:20px;right:20px}#landscape-warning-overlay{display:none;position:fixed;width:100%;height:100%;overflow:none;background:#000;z-index:99999999;align-items:center !important;justify-content:center !important}.landscape-warning-icon{position:auto;width:24px;height:24px;padding:16px;background:#fff;border-radius:50%;margin-left:auto;margin-right:auto}.landscape-warning-text{color:#fff;font-size:20px;text-align:center;margin-top:15px}#timer{font-family:"Roboto Mono",monospace;font-weight:bold;position:fixed;left:10px;top:80px;color:#fff;font-size:20px}#performance-warning{display:flex;position:fixed;left:0;right:0;top:0;bottom:0;overflow:none;margin:30px;z-index:9999999;align-items:center !important;justify-content:center !important;text-align:center}#performance-warning-content{border-radius:10px;background:rgba(0,0,0,.9);padding:20px;max-width:500px}#performance-warning-icon{color:#fff;position:auto;font-size:48px;margin-left:auto;margin-right:auto}#performance-warning-text{color:#fff;font-size:20px;text-align:center;margin-top:10px}#performance-warning-dismiss{display:inline-block;background:#333;color:#fff;padding:10px;margin-top:15px;border-radius:5px;cursor:pointer;user-select:none}#credit{cursor:pointer;text-decoration:underline}#info-link{cursor:pointer;text-decoration:underline}#yllst-web{cursor:pointer;text-decoration:underline}#custom-song-link{cursor:pointer !important;text-decoration:underline}#upload-container{left:90px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#upload-container{left:60px}}#upload-prompt{bottom:100px;left:50px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#upload-prompt{bottom:80px;left:40px}}#upload-prompt:after{left:auto;right:73px}@media screen and (max-width: 499.5px),screen and (max-height: 499.5px){#upload-prompt:after{right:50px}}',
            "",
        ]),
            (t.a = o);
    },
    function (e, t) {
        e.exports = [
            [
                "Name",
                "en-US",
                "af",
                "es-ES",
                "fr-FR",
                "hi",
                "it-IT",
                "pt-BR",
                "sw",
                "ja",
                "ko",
                "zh-CN",
                "zh-TW",
                "de",
                "ru",
                "es-419",
                "id",
                "cs",
                "da",
                "hr",
                "hu",
                "lv",
                "nl",
                "pl",
                "pt-PT",
                "ro",
                "uk",
            ],
            [
                "splash_intro",
                "David Li and Google Arts & Culture present",
                "David Li en Google Kuns en Kultuur bied aan",
                "Google Arts & Culture presenta",
                "David Li et Google Arts & Culture prsentent",
                "   Google Arts & Culture   ",
                "David Li e Google Arts & Culture presentano",
                "David Li e Google Arts & Culture apresentam",
                "David Li na Sanaa na Utamaduni kwenye Google wanakuletea",
                "David Li  Google Arts & Culture ",
                "  Google    ",
                "David Li  Google ",
                "David Li  Google ",
                "David Li und Google Arts & Culture prsentieren",
                '    "Google   " ',
                "David Li y Google Arts & Culture presentan",
                "David Li dan Google Seni & Budaya mempersembahkan",
                "David Li a Google Arts & Culture uvdj",
                "David Li og Google Arts & Culture prsenterer",
                "David Li i Google Arts & Culture predstavljaju",
                "David Li s a Google Arts & Culture bemutatja:",
                "Deivids L un Google mksla un kultra piedv",
                "David Li en Google Arts & Culture presenteren",
                "David Li i Google Arts & Culture przedstawiaj",
                "David Li e Google Arts & Culture apresentam",
                "David Li i Google Arts & Culture prezint",
                "   Google Arts & Culture ",
            ],
            [
                "splash_title",
                "Blob Opera",
                "Blob Opera",
                "Blob Opera",
                "Blob Opera",
                "Blob Opera",
                "Blob Opera",
                "Blob Opera",
                "Blob Opera",
                "Blob Opera",
                " ",
                "Blob Opera",
                "Blob Opera",
                "Blob Opera",
                "Blob Opera",
                "Blob Opera",
                "Blob Opera",
                "Blob Opera",
                "Blob Opera",
                "Blob Opera",
                "Blob Opera",
                "Blob Opera",
                "Blob Opera",
                "Blob Opera",
                "Blob Opera",
                "Opera cu bule",
                "Blob Opera",
            ],
            [
                "splash_description",
                "Play four voices in cities around the world, with the help of machine learning",
                "Speel vier sangstemme in stede wreldwyd met behulp van masjienleer",
                "Haz cantar a cuatro voces por ciudades de todo el mundo con la ayuda del aprendizaje automtico",
                "Faites chanter quatre voix dans des villes du monde entier grce au machine learning (apprentissage automatique)",
                "    ,       -    ",
                "Fai cantare quattro voci nelle citt di tutto il mondo con l'aiuto del machine learning",
                "Toque quatro vozes em cidades do mundo todo com ajuda do aprendizado de mquina",
                "Cheza sauti nne katika miji kote ulimwenguni, kwa usaidizi wa mashine kujifunza",
                " 4 ",
                "         .",
                " 4 ",
                "",
                "Geben Sie mithilfe von maschinellem Lernen ein vierstimmiges Konzert in verschiedenen Metropolen",
                "      ,     .",
                "Con ayuda del aprendizaje automtico, reproduce las cuatro voces en distintas ciudades del mundo",
                "Mainkan empat suara di berbagai kota di seluruh dunia dengan bantuan machine learning",
                "Puste si s pomoc strojovho uen zpv ty hlas ve mstech po celm svt",
                "Afspil fire stemmer i byer rundt omkring i verden takket vre maskinlring",
                '"Svirajte" etiri glasa u gradovima diljem svijeta uz pomo strojnog uenja',
                "Jtsszon ngy hangon a vilg vrosaiban a gpi tanuls segtsgvel",
                "Atskaojiet etrbalsgu dziedanu pasaules lielpilsts ar manmcans paldzbu.",
                "Speel 4 stemmen in steden over de hele wereld af met de hulp van machine learning",
                "Skorzystaj z pomocy systemw uczcych si i odtwrz 4 gosy w miastach na caym wiecie",
                "Toque quatro vozes em cidades de todo o mundo com a ajuda da aprendizagem automtica",
                "Redai patru voci n orae din toat lumea, cu ajutorul nvrii automate",
                "         ",
            ],
            [
                "yell0wsuit_credit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
                "This version is modified by yell0wsuit",
            ],
            [
                "splash_sound_hint",
                "Turn up your sound!",
                "Maak jou volume harder!",
                "Sube el volumen!",
                "Montez le son !",
                "   !",
                "Alza il volume!",
                "Aumente o volume!",
                "Ongeza sauti ya kifaa chako!",
                "",
                " .",
                "",
                "",
                "Drehen Sie die Lautstrke auf.",
                " !",
                "Sube el volumen!",
                "Keraskan suara perangkat Anda",
                "Zesilte zvuk!",
                "Skru op for lyden!",
                "Pojaajte zvuk!",
                "Nvelje a hangert!",
                "Iesldziet skau!",
                "Zet je geluid aan",
                "Wcz dwik!",
                "Aumente o volume!",
                "Cretei volumul!",
                " !",
            ],
            [
                "splash_silent_hint",
                "Make sure your device isn't on silent",
                "Maak seker dat jou toestel nie stilgemaak is nie",
                "Asegrate de que tu dispositivo no est silenciado\n",
                "Vrifiez que votre appareil n'est pas en mode silencieux",
                "          ",
                "Assicurati che l'audio del tuo dispositivo non sia disattivato",
                "Confira se o dispositivo no est silenciado",
                "Hakikisha kuwa sauti ya kifaa chako haijazimwa",
                "",
                "    .",
                "",
                "",
                "Ihr Gert darf nicht stummgeschaltet sein",
                ",     .",
                "Asegrate de que el dispositivo no est en silencio",
                "Jangan bisukan audio perangkat Anda",
                "Zkontrolujte, zda zazen nen ztlumen",
                "Srg for, at lyden ikke er slet fra p din enhed",
                "Provjerite da zvuk na ureaju nije iskljuen",
                "Gyzdjn meg rla, hogy eszkze nincs lenmtva",
                "Prbaudiet, vai ierces skaa ir ieslgta.",
                "Zorg dat het geluid op je apparaat aanstaat",
                "Upewnij si, e Twoje urzdzenie nie jest wyciszone",
                "Certifique-se de que o seu dispositivo no est em silncio",
                "Asigurai-v c sunetul dispozitivului nu este dezactivat",
                ",      ",
            ],
            [
                "label_skip_tutorial",
                "Skip tutorial",
                "Slaan tutoriaal oor",
                "Saltar el tutorial",
                "Ignorer le tutoriel",
                " ",
                "Salta il tutorial",
                "Pular tutorial",
                "Ruka mafunzo",
                "",
                " ",
                "",
                "",
                "Anleitung berspringen",
                " ",
                "Omitir instructivo",
                "Lewati tutorial",
                "Peskoit vukov program",
                "Spring selvstudie over",
                "Preskoi vodi",
                "tmutat kihagysa",
                "Izlaist apmcbu",
                "Tutorial overslaan",
                "Pomi samouczek",
                "Ignorar tutorial",
                "Omitei tutorialul",
                "  ",
            ],
            [
                "button_begin",
                "Ready!",
                "Gereed!",
                "Listo!",
                "C'est parti !",
                " !",
                "Tutto pronto!",
                "Pronto",
                "Tayari!",
                "",
                "",
                "",
                "",
                "Bereit!",
                "",
                "Listo",
                "Siap!",
                "Pipraveno!",
                "Klar!",
                "Spremno!",
                "Ksz",
                "Gatavs!",
                "Klaar",
                "Gotowe",
                "Pronto!",
                "Gata!",
                "!",
            ],
            [
                "label_record",
                "Record",
                "Neem op",
                "Grabar",
                "Enregistrer",
                " ",
                "Registra",
                "Gravar",
                "Rekodi",
                "",
                "",
                "",
                "",
                "Aufnehmen",
                " ",
                "Grabar",
                "Rekam",
                "Nahrt",
                "Optag",
                "Snimi",
                "Felvtel",
                "Ierakstt",
                "Opnemen",
                "Nagraj",
                "Gravar",
                "nregistrai",
                "",
            ],
            [
                "label_finish",
                "Finish",
                "Voltooi",
                "Finalizar",
                "Terminer",
                " ",
                "Fine",
                "Finalizar",
                "Maliza",
                "",
                "",
                "",
                "",
                "Fertigstellen",
                "",
                "Finalizar",
                "Selesai",
                "Dokonit",
                "Udfr",
                "Zavri",
                "Befejezs",
                "Pabeigt",
                "Afronden",
                "Zakocz",
                "Terminar",
                "Finalizai",
                "",
            ],
            [
                "label_back",
                "Back",
                "Terug",
                "Atrs",
                "Retour",
                " ",
                "Indietro",
                "Voltar",
                "Rudi nyuma",
                "",
                "",
                "",
                "",
                "Zurck",
                "",
                "Atrs",
                "Kembali",
                "Zpt",
                "Tilbage",
                "Natrag",
                "Vissza",
                "Atpaka",
                "Terug",
                "Wstecz",
                "Anterior",
                "napoi",
                "",
            ],
            [
                "label_save",
                "Save",
                "Deel",
                "Compartir",
                "Partager",
                " ",
                "Condividi",
                "Compartilhar",
                "Shiriki",
                "",
                "",
                "",
                "",
                "Teilen",
                "",
                "Compartir",
                "Bagikan",
                "Sdlet",
                "Del",
                "Dijeli",
                "Megoszts",
                "Kopgot",
                "Delen",
                "Udostpnij",
                "Partilhar",
                "Distribuii",
                "",
            ],
            [
                "label_play",
                "Play",
                "Speel",
                "Reproducir",
                "Lire",
                "",
                "Riproduci",
                "Iniciar",
                "Cheza",
                "",
                "",
                "",
                "",
                "Abspielen",
                "",
                "Reproducir",
                "Putar",
                "Pehrt",
                "Afspil",
                "Sviraj",
                "Lejtszs",
                "Atskaot",
                "Afspelen",
                "Odtwrz",
                "Reproduzir",
                "Redai",
                "",
            ],
            [
                "label_stop",
                "Stop",
                "Stop",
                "Detener",
                "Arrter",
                "",
                "Interrompi",
                "Parar",
                "Simamisha",
                "",
                "",
                "",
                "",
                "Stopp",
                "",
                "Detener",
                "Berhenti",
                "Zastavit",
                "Stop",
                "Zaustavi",
                "Lellts",
                "Apturt",
                "Stoppen",
                "Zatrzymaj",
                "Parar",
                "Oprii",
                "",
            ],
            [
                "label_saving",
                "Saving...",
                "Stoor tans ",
                "Guardando...",
                "Enregistrement",
                "   ...",
                "Salvataggio in corso...",
                "Salvando...",
                "Inahifadhi...",
                "...",
                " ...",
                "",
                "...",
                "Wird gespeichert",
                "",
                "Guardando",
                "Menyimpan...",
                "Ukldn",
                "Gemmer...",
                "Spremanje...",
                "Ments",
                "Notiek saglabana",
                "Opslaan...",
                "Zapisuj",
                "A guardar...",
                "Se salveaz...",
                "",
            ],
            [
                "label_discard",
                "Discard",
                "Gooi weg",
                "Descartar",
                "Supprimer",
                " ",
                "Ignora",
                "Descartar",
                "Futa",
                "",
                "",
                "",
                "",
                "Verwerfen",
                "",
                "Descartar",
                "Hapus",
                "Zahodit",
                "Kassr",
                "Odbaci",
                "Elvets",
                "Atmest",
                "Niet opslaan",
                "Odrzu",
                "Rejeitar",
                "Renunai",
                "",
            ],
            [
                "label_copy_link",
                "Copy link",
                "Kopieer skakel",
                "Copiar enlace",
                "Copier le lien",
                "  ",
                "Copia link",
                "Copiar link",
                "Nakili kiungo",
                "",
                " ",
                "",
                "",
                "Link kopieren",
                " ",
                "Copiar vnculo",
                "Salin link",
                "Koprovat odkaz",
                "Kopir link",
                "Kopiraj vezu",
                "Link msolsa",
                "Kopt saiti",
                "Link kopiren",
                "Kopiuj link",
                "Copiar link",
                "Copiai linkul",
                " ",
            ],
            [
                "label_copied_link",
                "Copied!",
                "Gekopieer!",
                "Copiado!",
                "Copi !",
                "  !",
                "Copiato.",
                "Copiado.",
                "Umenakili!",
                "",
                " ",
                "",
                "",
                "Kopiert!",
                "",
                "Se copi.",
                "Disalin!",
                "Zkoprovno.",
                "Kopieret!",
                "Kopirano!",
                "Msolva",
                "Nokopta!",
                "Gekopieerd",
                "Skopiowano",
                "Copiado!",
                "S-a copiat!",
                ".",
            ],
            [
                "label_leave",
                "Leave",
                "Verlaat",
                "Salir",
                "Quitter",
                "",
                "Esci",
                "Sair",
                "Ondoka",
                "",
                "",
                "",
                "",
                "Beenden",
                "",
                "Salir",
                "Keluar",
                "Opustit",
                "Forlad",
                "Napusti",
                "Kilps",
                "Iziet",
                "Verlaten",
                "Wyjd",
                "Sair",
                "Ieii",
                "",
            ],
            [
                "tutorial_pitch",
                "Drag blobs up and down to sing different pitches",
                "Sleep blertse op en af om op verskillende toonhoogtes te sing",
                "Arrastra los blobs hacia arriba y hacia abajo para obtener diferentes tonos.",
                "Faites glisser les blobs vers le haut et vers le bas pour obtenir diffrentes hauteurs de voix",
                "-     ,          ",
                "Trascina i blob verso l'alto e verso il basso per cambiare il tono con cui cantano",
                "Arraste os blobs para cima e para baixo para cantar em tons diferentes",
                "Buruta blobu juu na chini ili ziimbe viwango tofauti vya uzito wa sauti",
                "",
                "    .",
                " blob ",
                "",
                "Ziehen Sie die Blobs nach oben und unten, um die Tonhhe zu ndern",
                "    ,     .",
                "Arrastra los blobs hacia arriba y abajo para que canten en diferentes tonos",
                "Tarik blob ke atas dan bawah untuk menyanyikan nada yang berbeda",
                "Petaenm blob nahoru a dol zmnte vku zpvanho tnu",
                "Trk klumperne op og ned for at synge forskellige tonehjder",
                "Povlaite blobove prema gore ili dolje da bi pjevali razliite visine glasa",
                "Hzza a blobokat fel s le klnbz hangmagassgok kineklshez",
                "Velciet burbuus uz augu un leju, lai tiktu izdziedti dadi toi.",
                "Sleep de blobs omhoog en omlaag om verschillende toonhoogtes te zingen",
                "Przecigaj bloby w gr i w d, aby zmienia ton piewu",
                "Arraste os blobs para cima e para baixo para cantar em tons diferentes",
                "Tragei bulele n sus i n jos pentru a reda diferite tonaliti",
                "    ,      ",
            ],
            [
                "tutorial_vowel",
                "Drag blobs forwards and backwards to sing different vowels",
                "Sleep blertse vorentoe en agtertoe om verskillende vokale te sing",
                "Arrastra los blobs hacia delante y hacia atrs para obtener diferentes vocales.",
                "Faites glisser les blobs vers l'avant et vers l'arrire pour obtenir diffrentes voyelles",
                "-     ,          ",
                "Trascina i blob avanti e indietro per cambiare le vocali con cui cantano",
                "Arraste os blobs para frente e para trs para cantar vogais diferentes",
                "Buruta blobu mbele na nyuma ili ziimbe vokali tofauti",
                "",
                "     .",
                " blob ",
                "",
                "Ziehen Sie die Blobs vor und zurck, um verschiedene Vokale zu singen",
                "    ,      .",
                "Arrastra los blobs hacia adelante y atrs para que canten diferentes vocales",
                "Tari blob ke depan dan belakang untuk menyanyikan suara vokal yang berbeda",
                "Petaenm blob dopedu a dozadu zmnte zpvan hlsky",
                "Trk klumperne fremad og tilbage for at synge forskellige vokaler",
                "Povlaite blobove prema naprijed ili natrag da bi pjevali razliite samoglasnike",
                "Hzza a blobokat elre s htra klnbz magnhangzk kineklshez",
                "Velciet burbuus uz prieku un atpaka, lai tiktu izdziedti dadi patskai.",
                "Sleep de blobs naar voren en achteren om verschillende klinkers te zingen",
                "Przecigaj bloby do przodu i do tyu, aby zmienia piewane samogoski",
                "Arraste os blobs para a frente e para trs para cantar vogais diferentes",
                "Tragei bulele nainte i napoi pentru a reda diferite vocale",
                "    ,      ",
            ],
            [
                "tutorial_harmonization",
                "The highest voice leads the harmony",
                "Die hoogste sangstem lei die harmonie",
                "La voz ms aguda dirige la armona.",
                "La voix la plus aigu dirige l'harmonie",
                "      ,   ",
                "La voce con il tono pi alto conduce l'armonia",
                "A voz mais alta conduz a harmonia",
                "Sauti ya juu zaidi ndiyo itakayoongoza ulinganifu wa sauti",
                "",
                "    .",
                " blob ",
                "",
                "Die hchste Stimme ist die fhrende Stimme",
                "    .",
                "La voz ms aguda lidera la armona",
                "Suara dengan nada tertinggi akan memimpin harmoni",
                "Nejvy hlas udv harmonii",
                "Den hjeste stemme leder harmonien",
                "Najvii je glas primarni u harmoniji",
                "A legmagasabb hangra pl az sszhang",
                "Harmoniju veido augstk balss.",
                "De hoogste stem leidt de harmonie",
                "Najwyszy gos prowadzi harmoni",
                "A voz mais alta conduz a harmonia",
                "Cea mai nalt voce produce armonia",
                "   ",
            ],
            [
                "tutorial_mute",
                "All together now! Use the mute buttons to silence blobs",
                "Almal saam! Gebruik die dempknoppies om blertse stil te maak",
                "Ahora todos juntos! Usa los botones de silencio para silenciar los blobs.",
                "Tous en chur, maintenant ! Utilisez le bouton du son pour faire taire les blobs.",
                "      !       , ' '   ",
                "Ora tutti insieme! Utilizza i pulsanti di disattivazione del suono per far restare in silenzio i blob",
                "Todos juntos agora! Use os botes de desativar o som para silenciar os blobs",
                "Kwa pamoja sasa! Tumia vitufe vya kuzima sauti ili uzime sauti ya blobu",
                "",
                "  .    .",
                " blob ",
                "",
                "Und jetzt alle! Mit den Lautsprecher-Schaltflchen knnen Sie die Blobs stummschalten",
                "   !    ,     .",
                "Ahora todos juntos! Usa los botones para silenciar los blobs.",
                "1, 2, 3, bersama-sama! Gunakan tombol bisukan untuk membisukan blob",
                "Te vechny najednou! Pomoc tlatek ztlumen bloby umlte",
                "Alle sammen nu! Brug mikrofonknapperne til at sl klumpernes lyd fra",
                "A sad svi zajedno! Pomou gumba za iskljuivanje zvuka moete utiati blobove",
                "Minden a helyn van. Hasznlja a nmts gombokat a blobok elnmtshoz.",
                "Tagad visi kop! Lai izslgtu burbuu skau, izmantojiet skaas izslganas pogas.",
                "En nu allemaal samen! Je kunt het geluid van de blobs uitzetten met de knop Dempen",
                "A teraz razem! Uyj przyciskw wyciszenia, aby wyciszy bloby",
                "Todos juntos agora! Utilize os botes desativar som para silenciar os blobs",
                "Acum toi mpreun! Folosii butoanele de dezactivare a sunetului pentru ca bulele s tac",
                "  !    ,    ",
            ],
            [
                "tutorial_end",
                "That's it! Now sing your own opera. Hit record to share what you make.",
                "Mooi so! Sing nou jou eie opera. Neem dit op om te deel wat jy skep.",
                "Ya est! Ahora canta tu propia pera. Pulsa el botn Grabar para compartir tu obra.",
                'Et voil !  prsent, faites-les chanter votre propre opra. Appuyez sur "Enregistrer" pour partager votre uvre.',
                ",  !     .         , ' '  .",
                "Ecco fatto! Ora puoi far cantare loro la tua opera. Seleziona Registra per condividere la tua creazione.",
                "Pronto. Agora voc pode ouvir sua prpria pera. Grave para compartilhar sua criao.",
                "Ni hivyo tu! Sasa imba opera yako mwenyewe. Gusa rekodi ili ushiriki utunzi wako.",
                "",
                ".     .      .",
                "",
                "",
                "Das wars schon! Singen Sie jetzt Ihre eigene Oper. Klicken Sie auf Aufnehmen, um Ihr Werk anschlieend zu teilen.",
                "!      .           .",
                "Listo. Ahora canta tu propia pera. Presiona Grabar para compartir tu versin.",
                "Bagus! Sekarang nyanyikan opera Anda sendiri. Tekan tombol rekam untuk membagikan hasil kreasi Anda.",
                "To je cel! Nyn mete zpvat vlastn operu. Sv dlo mete nahrt pomoc tlatka a potom sdlet.",
                "Lige prcis! Syng nu din egen opera. Tryk p Optag for at dele det, du skaber.",
                "To je to! Sad pjevajte vlastitu operu. Pritisnite Snimi da biste podijelili svoje djelo.",
                "Ennyi az egsz. Most mr elnekelheti sajt operjt. Kattintson a felvtelre az alkots megosztshoz.",
                "Tas ar viss! Tagad dziediet savu operu! Nospiediet Ierakstt, lai kopgotu savu sacerto skadarbu.",
                "Dat is alles! Nu kun je je eigen opera zingen. Druk op Opnemen om te delen wat je hebt gemaakt.",
                "I to wszystko. Teraz zapiewaj wasn oper. Nacinij przycisk Nagraj, aby udostpni swoje dzieo.",
                'J est! Agora, cante a sua prpria pera. Clique em "Gravar para partilhar a sua criao.',
                "Asta este tot! Acum creai propria compoziie. Atingei butonul de nregistrare pentru a distribui creaia.",
                "  .    .   ,  .",
            ],
            [
                "prompt_in_playback_shared",
                "Have a go!",
                "Probeer dit!",
                "Intntalo!",
                " vous de jouer !",
                "!",
                "Provaci!",
                "Experimente!",
                "Jaribu!",
                "",
                "",
                "",
                "",
                "Probieren Sie es aus!",
                "!",
                "Intntalo!",
                "Ayo coba",
                "Vyzkouejte to!",
                "Prv det!",
                "Pokuajte!",
                "Kezdjk el!",
                "Aiziet!",
                "Probeer het zelf eens",
                "Dalej!",
                "Experimente!",
                "ncercai!",
                "!",
            ],
            [
                "prompt_in_playback_creator",
                "Start again",
                "Begin oor",
                "Volver a empezar",
                "Recommencez",
                "   ",
                "Ricomincia",
                "Comear novamente",
                "Anza tena",
                "",
                " ",
                "",
                "",
                "Neu starten",
                " ",
                "Vuelve a empezar",
                "Mulai lagi",
                "Zat znovu",
                "Start forfra",
                "Zaponi ponovo",
                "jrakezds",
                "Sciet vlreiz",
                "Begin opnieuw",
                "Rozpocznij od nowa",
                "Recomear",
                "ncepei din nou",
                " ",
            ],
            [
                "prompt_save",
                "Save your creation",
                "Deel jou skepping",
                "Compartir tu creacin",
                "Partagez votre cration",
                "    ",
                "Condividi la tua creazione",
                "Compartilhar sua criao",
                "Shiriki utunzi wako",
                "",
                " ",
                "",
                "",
                "Werk teilen",
                "  ",
                "Comparte tu creacin",
                "Bagikan kreasi Anda",
                "Sdlet dlo",
                "Del dit vrk",
                "Podijelite svoje djelo",
                "Alkots megosztsa",
                "Kopgojiet savu skadarbu",
                "Deel wat je hebt gemaakt",
                "Udostpnij swoje dzieo",
                "Partilhe a sua criao",
                "Distribuii-v creaia",
                "  ",
            ],
            [
                "prompt_save_carol",
                "Save this carol",
                "Deel hierdie Kersliedjie",
                "Compartir este villancico",
                "Partagez ce chant de Nol",
                "    ",
                "Condividi questo canto natalizio",
                "Compartilhar esta cano",
                "Shiriki wimbo huu wa krismasi",
                "",
                " ",
                "",
                "",
                "Dieses Weihnachtslied teilen",
                "  ",
                "Comparte este villancico",
                "Bagikan nyanyian ini",
                "Sdlet koledu",
                "Del denne sang",
                "Podijelite ovu pjesmu",
                "nnepi nek megosztsa",
                "Kopgojiet o korli",
                "Deel dit kerstlied",
                "Udostpnij t kold",
                "Partilhe esta cano",
                "Distribuii acest colind",
                "  ",
            ],
            [
                "prompt_unmute",
                "Click to unmute",
                "Klik om te ontdemp",
                "Haz clic para activar el sonido",
                "Cliquez pour ractiver le son",
                "     ",
                "Fai clic per riattivare l'audio",
                "Clique para ativar o som",
                "Bofya ili urejeshe sauti",
                "",
                "  ",
                "",
                "",
                "Klicken, um Stummschaltung aufzuheben",
                ",   ",
                "Haz clic para activar el sonido",
                "Klik untuk membunyikan audio",
                "Kliknutm zapnete zvuk",
                "Klik for at sl lyden til",
                "Kliknite da biste ukljuili zvuk",
                "Kattintson a nmts feloldshoz",
                "Noklikiniet, lai ieslgtu skau",
                "Klik om het geluid aan te zetten",
                "Kliknij, aby wyczy wyciszenie",
                "Clique para reativar o som",
                "Dai clic pentru a activa sunetul",
                ",   ",
            ],
            [
                "prompt_soprano",
                "Drag to sing *soprano*",
                "Sleep om *sopraan* te sing",
                "Arrastrar para usar la voz *soprano*",
                "Faites glisser pour entendre la voix de *soprano*",
                "**     ,    ",
                "Trascina per usare la voce *soprano*",
                "Arraste para cantar *soprano*",
                "Buruta ili uimbe *soprano*",
                " ** ",
                " ** ",
                "**",
                "**",
                "Ziehen, um *Sopran* zu singen",
                ",    **",
                "Arrastra para cantar en *soprano*",
                "Tarik untuk menyanyikan suara *sopran*",
                "Petaenm zane zpvat *soprn*",
                "Trk for at synge *sopran*",
                "Povucite da bi pjevao *sopran*",
                "A *szoprn* hangnemben neklshez hzza valamelyik irnyba",
                "Velciet, lai dziedtu *soprns*",
                "Sleep om *sopraan* te zingen",
                "Przecignij, aby piewa *sopranem*",
                "Arraste para cantar *soprano*",
                "Tragei pentru a reda vocea de *sopran*",
                ",    **",
            ],
            [
                "prompt_mezzo",
                "Drag to sing *mezzo-soprano*",
                "Sleep om *mezzosopraan* te sing",
                "Arrastrar para usar la voz *mezzosoprano*",
                "Faites glisser pour entendre la voix de *mezzo-soprano*",
                "*-*     ,    ",
                "Trascina per usare la voce *mezzosoprano*",
                "Arraste para cantar *mezzo-soprano*",
                "Buruta ili uimbe *mezzo-soprano*",
                " ** ",
                " ** ",
                "**",
                "**",
                "Ziehen, um *Mezzosopran* zu singen",
                ",    *-*",
                "Arrastra para cantar en *mezzosoprano*",
                "Tarik untuk menyanyikan suara *mezzosopran*",
                "Petaenm zane zpvat *mezzosoprn*",
                "Trk for at synge *mezzosopran*",
                "Povucite da bi pjevao *mezzosopran*",
                "A *mezzoszoprn* hangnemben neklshez hzza valamelyik irnyba",
                "Velciet, lai dziedtu *mecosoprns*",
                "Sleep om *mezzosopraan* te zingen",
                "Przecignij, aby piewa *mezzosopranem*",
                "Arraste para cantar *mezzo-soprano*",
                "Tragei pentru a reda vocea de *mezzo-sopran*",
                ",    *-*",
            ],
            [
                "prompt_tenor",
                "Drag to sing *tenor*",
                "Sleep om *tenoor* te sing",
                "Arrastrar para usar la voz *tenor*",
                "Faites glisser pour entendre la voix de *tnor*",
                "**     ,    ",
                "Trascina per usare la voce *tenore*",
                "Arraste para cantar *tenor*",
                "Buruta ili uimbe *sauti ya tatu*",
                " ** ",
                " ** ",
                "**",
                "**",
                "Ziehen, um *Tenor* zu singen",
                ",    **",
                "Arrastra para cantar en *tenor*",
                "Tarik untuk menyanyikan suara *tenor*",
                "Petaenm zane zpvat *tenor*",
                "Trk for at synge *tenor*",
                "Povucite da bi pjevao *tenor*",
                "A *tenor* hangnemben neklshez hzza valamelyik irnyba",
                "Velciet, lai dziedtu *tenors*",
                "Sleep om *tenor* te zingen",
                "Przecignij, aby piewa *tenorem*",
                "Arraste para cantar *tenor*",
                "Tragei pentru a reda vocea de *tenor*",
                ",    **",
            ],
            [
                "prompt_bass",
                "Drag to sing *bass*",
                "Sleep om *bas* te sing",
                "Arrastrar para usar la voz *bajo*",
                "Faites glisser pour entendre la voix de *basse*",
                "**     ,    ",
                "Trascina per usare la voce *basso*",
                "Arraste para cantar *baixo*",
                "Buruta ili uimbe *besi*",
                " ** ",
                " ** ",
                "**",
                "**",
                "Ziehen, um *Bass* zu singen",
                ",    **",
                "Arrastra para cantar en *bajo*",
                "Tarik untuk menyanyikan suara *bas*",
                "Petaenm zane zpvat *bas*",
                "Trk for at synge *bas*",
                "Povucite da bi pjevao *bas*",
                "A *basszus* hangnemben neklshez hzza valamelyik irnyba",
                "Velciet, lai dziedtu *bass*",
                "Sleep om *bas* te zingen",
                "Przecignij, aby piewa *basem*",
                "Arraste para cantar *baixo*",
                "Tragei pentru a reda vocea de *bas*",
                ",    **",
            ],
            [
                "prompt_pitch",
                "Pitch:",
                "Toonhoogte:",
                "Tono:",
                "Hauteur de voix :",
                ":",
                "Tono:",
                "Tom:",
                "Uzito wa sauti:",
                ":",
                ":",
                "",
                "",
                "Tonhhe:",
                ":",
                "Tono:",
                "Nada:",
                "Vka:",
                "Tonehjde:",
                "Visina glasa:",
                "Hangmagassg:",
                "Tonis:",
                "Toonhoogte:",
                "Ton:",
                "Tonalidade:",
                "Tonalitate:",
                ":",
            ],
            [
                "prompt_vowel",
                "Vowel:",
                "Vokaal:",
                "Vocal:",
                "Voyelle :",
                ":",
                "Vocale:",
                "Vogal:",
                "Vokali:",
                ":",
                ":",
                "",
                "",
                "Vokal:",
                ":",
                "Vocal:",
                "Vokal:",
                "Hlska:",
                "Vokal:",
                "Samoglasnik:",
                "Magnhangz:",
                "Patskanis:",
                "Klinker:",
                "Samogoska:",
                "Vogal:",
                "Vocal:",
                " :",
            ],
            [
                "prompt_stop_recording",
                "Press to finish your recording",
                "Druk om jou opname te voltooi",
                "Pulsa para finalizar la grabacin",
                "Appuyez pour terminer l'enregistrement",
                "       ",
                "Premi per terminare la registrazione",
                "Pressione para concluir sua gravao",
                "Bonyeza ili ukamilishe kurekodi",
                "",
                "  ",
                "",
                "",
                "Klicken, um Aufnahme zu beenden",
                ",   ",
                "Presiona para terminar tu grabacin",
                "Tekan tombol untuk menyelesaikan rekaman Anda",
                "Stisknutm dokonete nahrvn",
                "Tryk for at afslutte din optagelse",
                "Pritisnite da biste dovrili snimanje",
                "Nyomja meg a felvtel befejezshez",
                "Nospiediet, lai pabeigtu ierakstanu",
                "Druk om te stoppen met opnemen",
                "Nacinij, aby zakoczy nagrywanie",
                "Prima para terminar a sua gravao",
                "Apsai pentru a termina nregistrarea",
                ",   ",
            ],
            [
                "prompt_festive",
                "Let it snow!",
                "Laat dit sneeu!",
                "Deja que nieve!",
                "Faites qu'il neige !",
                "  !",
                "Lascia che nevichi!",
                "Boas festas!",
                "Acha igonge!",
                "",
                "   ",
                "",
                "",
                "Let it snow!",
                "Let it snow!",
                "Celebra las fiestas!",
                "Let it snow!",
                "Puste se do toho!",
                "Let it snow!",
                "Let it snow!",
                "Let it snow!",
                "Lai tik snieg!",
                "Laat de sneeuw maar komen!",
                "Let it snow!",
                "Let it snow!",
                "S ning!",
                " !",
            ],
            [
                "prompt_harmonization",
                "The highest voice type leads the harmony",
                "Die hoogste sangstem lei die harmonie",
                "El tipo de voz ms agudo dirige la armona.",
                "Le type de voix le plus aigu dirige l'harmonie",
                "         ",
                "Il tipo di voce pi alto conduce l'armonia",
                "O tipo de voz mais alto conduz a harmonia",
                "Aina ya sauti ya juu zaidi ndiyo itakayoongoza ulinganifu wa sauti",
                "",
                "    ",
                " blob ",
                "",
                "Die hchste Stimmlage ist die fhrende Stimme",
                "    .",
                "El tipo de voz ms aguda lidera la armona",
                "Jenis suara dengan nada tertinggi akan memimpin harmoni",
                "Nejvy hlas udv harmonii",
                "Den hjeste stemmetype leder harmonien",
                "Najvia je vrsta glasa primarni glas u harmoniji",
                "A legmagasabb hangnemre pl az sszhang",
                "Harmoniju veido augstk balss",
                "De hoogste stem leidt de harmonie",
                "Najwyszy rodzaj gosu prowadzi harmoni",
                "O tipo de voz mais alto conduz a harmonia",
                "Cel mai nalt tip de voce produce armonia",
                "   ",
            ],
            [
                "prompt_carols",
                "Hear some festive songs!",
                "Hoor 'n paar feestelike liedjies!",
                "Escucha canciones navideas",
                "coutez des chants de Nol !",
                "    !",
                "Ascolta alcuni brani natalizi.",
                "Oua msicas festivas",
                "Sikiliza baadhi ya nyimbo za msimu wa sikukuu!",
                "",
                "   ",
                "",
                "",
                "Hren Sie sich festliche Lieder an!",
                "  !",
                "Escucha canciones navideas!",
                "Dengarkan lagu-lagu yang penuh suka ria",
                "Poslechnte si svten psn!",
                "Hr nogle julesange!",
                "Posluajte neke blagdanske pjesme!",
                "Hallgasson meg nhny nnepi dalt!",
                "Noklausieties daas svtku dziesmas!",
                "Luister naar feestelijke nummers",
                "Posuchaj witecznych utworw!",
                "Oua msicas festivas!",
                "Ascultai cteva cntece festive!",
                "  !",
            ],
            [
                "prompt_location_songs",
                "Hear a local song!",
                "Hoor 'n plaaslike liedjie!",
                "Escucha una cancin local",
                "coutez un chant local !",
                "   !",
                "Ascolta un brano locale.",
                "Oua uma msica local",
                "Sikiliza wimbo wa mahali ulipo!",
                "",
                " ",
                "",
                "",
                "Hren Sie sich ein Lied aus der Region an!",
                "  !",
                "Escucha una cancin local!",
                "Dengarkan lagu lokal",
                "Poslechnte si mstn pse.",
                "Hr en lokal sang!",
                "Posluajte lokalnu pjesmu!",
                "Hallgasson meg egy helyi dalt!",
                "Noklausieties kdu vietjo dziesmu!",
                "Luister naar een lokaal nummer",
                "Posuchaj lokalnego utworu!",
                "Oua uma msica local!",
                "Ascultai un cntec local!",
                "  !",
            ],
            [
                "prompt_upload",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
                "Upload or manage\nyour custom song",
            ],
            [
                "info_body",
                "*Blob Opera is a machine learning experiment by <davidli> in collaboration with Google Arts and Culture.*\n\nThis version is modified by <yell0wsuit>.\n\nTo upload custom song or manage saved songs, <visit here>.\n\nOpera singers use their voices as expressive and beautiful musical instruments. This experiment pays tribute to those voices, as musical instruments anyone can learn how to play. Play four opera voices in real time. No singing skills required! \n\n*How it works:*\nWe collaborated with four opera singers to teach a machine learning model how to sing. Tenor, Christian Joel, bass Frederick Tong, mezzo-soprano Joanna Gamble and soprano Olivia Doutney recorded 16 hours of singing to train an algorithm called a Convolutional Neural Network. In the experiment you dont hear their voices, but the machine learning models understanding of what opera singing sounds like, based on what it learnt from them.\n\nDrag the blobs up and down to change pitch. Or forwards and backwards for different vowel sounds. Another machine learning model lets the blobs respond to and harmonise with your input in real time. \n\n*Blob Opera - on tour*\nWe've seen the blobs do their thing in The Blobpera House, now you can take them on tour. Take the blobs to cities around the world, and find inspiration in the music and landmarks of London, New York, Mexico City, Seoul, Cape Town, and Paris. Hear the blobs sing a curated selection of traditional, classic songs in the public domain from each location.\n\n*With special thanks to:*\nTenor Christian Joel, bass Frederick Tong, mezzo-soprano Joanna Gamble and soprano Olivia Doutney. Additional singing from Ingunn Gyda Hrafnkelsdottir and John Holland-Avery.\n\n*Not working?*\nBlob Opera is an experiment using the latest web audio technology and may not perform optimally on older devices. If you're on a mobile device, why not try a desktop one!\n\n*Learn more about Performing Arts*\nJourney through the world of performing arts and watch the world's greatest performers come to life in 360 on <performing_arts_link>",
                "*Blob Opera is 'n masjienleereksperiment deur <davidli> in samewerking met Google Kuns en Kultuur.*\n \n Operasangers gebruik hul stemme as uitdrukkingsvolle en pragtige musiekinstrumente. Hierdie eksperiment bring hulde aan daardie stemme, as musiekinstrumente wat enigiemand kan leer speel. Speel vier operastemme intyds. Geen sangtalent word benodig nie! \n \n *Dit werk s:*\n Ons het saam met vier operasangers gewerk om 'n masjienleermodel te leer hoe om te sing. Die tenoor Christian Joel, die bas Frederick Tong, die mezzosopraan Joanna Gamble en die sopraan Olivia Doutney het 16 uur se sang opgeneem om 'n algoritme genaamd 'n winding- neurale netwerk op te lei. Jy hoor nie hul stemme in die eksperiment nie, maar die masjienleermodel se begrip van hoe operaklanke klink, is gegrond op wat dit by hulle geleer het.\n \n Sleep die blertse op en af om die toonhoogte te verander. Of vorentoe en agtertoe vir verskillende vokaalklanke. 'n Ander masjienleermodel stel die blertse in staat om intyds op jou invoer te reageer en daarmee te harmoniseer. \n \n *Blob Opera  op toer*\n Ons het gesien hoe die blertse in die Blobpera-huis optree, en nou kan jy hulle op 'n toer neem. Neem die blertse na stede oor die wreld heen, en soek inspirasie in die musiek en bakens van Londen, New York, Meksikostad, Seoel, Kaapstad en Parys. Hoor hoe die blertse 'n saamgestelde keuse van tradisionele, klassieke liedjies in die publieke domein van elke streek sing.\n \n *Met spesiale dank aan:*\n Tenoor Christian Joel, bas Frederick Tong, mezzosopraan Joanna Gamble en sopraan Olivia Doutney. Bykomende sang deur Ingunn Gyda Hrafnkelsdottir en John Holland-Avery.\n \n *Werk dit nie?*\n Blob Opera is 'n eksperiment wat die jongste weboudiotegnologie gebruik en sal dalk nie optimaal op ouer toestelle werk nie. Probeer dit dalk eerder op 'n rekenaar as jy tans 'n mobiele toestel gebruik!\n \n *Kom meer te wete oor uitvoerende kunste*\n Reis deur die wreld van uitvoerende kunste en kyk na die wreld se beste kunstenaars in 360 op <performing_arts_link>",
                '*Blob Opera es un experimento de aprendizaje automtico creado por <davidli> en colaboracin con Google Arts & Culture.*\n\nLos cantantes de pera utilizan sus voces como instrumentos musicales expresivos y de gran belleza. Este experimento rinde homenaje a esas voces y las convierte en instrumentos musicales que cualquiera puede aprender a tocar. Haz cantar a cuatro voces de pera en tiempo real. No es necesario que tengas conocimientos de canto. \n\n*Cmo funciona:*\nCon la ayuda de cuatro cantantes de pera, hemos enseado a cantar a un modelo de aprendizaje automtico. El tenor Christian Joel, el bajo Frederick Tong, la mezzosoprano Joanna Gamble y la soprano Olivia Doutney grabaron 16 horas de canto para entrenar un algoritmo llamado "Red neuronal convolucional". En el experimento no se oyen sus voces, sino la interpretacin que hace el modelo de aprendizaje automtico de cmo suena el canto de pera, basndose en lo que ha aprendido de ellos.\n\nArrastra los blobs hacia arriba y hacia abajo para cambiar el tono, o hacia delante y hacia atrs para obtener diferentes sonidos voclicos. Otro modelo de aprendizaje automtico permite que los blobs respondan a tus acciones y las armonicen en tiempo real. \n\n*Blob Opera de gira*\nYa hemos visto a los blobs lucirse en The Blobpera House; ahora puedes llevrtelos de gira. Llvalos por ciudades de todo el mundo y encuentra la inspiracin en la msica y los monumentos de Londres, Nueva York, Ciudad de Mxico, Sel, Ciudad del Cabo y Pars. Escucha a los blobs cantar una seleccin de canciones clsicas y tradicionales conocidas de cada uno de estos lugares.\n\n*Agradecimientos especiales:*\nChristian Joel (tenor), Frederick Tong (bajo), Joanna Gamble (mezzosoprano) y Olivia Doutney (soprano). Cantos adicionales de Ingunn Gyda Hrafnkelsdottir y John Holland-Avery.\n\n*No funciona?*\nBlob Opera es un experimento que utiliza la tecnologa de audio web ms reciente y puede que no funcione de forma ptima en dispositivos antiguos. Si ests utilizando un dispositivo mvil, prueba con un ordenador.\n\n*Descubre ms cosas sobre las artes escnicas*\nViaja por el mundo de las artes escnicas y disfruta de los mejores artistas internacionales en 360 en <performing_arts_link>\n\n\n',
                "*Blob Opera est une exprience de machine learning (apprentissage automatique) conue par <davidli> en collaboration avec Google Arts & Culture*.\n \n Les voix des chanteurs et chanteuses d'opra sont comme des instruments de musique,  la fois expressifs et magnifiques. Cette exprience leur rend hommage, en les assimilant  des instruments de musique dont chacun peut apprendre  jouer. Faites jouer quatre voix d'opra en temps rel. Aucune comptence en chant n'est requise ! \n \n *Comment a marche ?*\n Nous avons collabor avec quatre chanteurs et chanteuses d'opra pour faire apprendre le chant  un modle de machine learning. Christian Joel (tnor), Frederick Tong (basse), Joanna Gamble (mezzo-soprano) et Olivia Doutney (soprano) ont enregistr 16 heures de chant pour entraner un algorithme appel rseau de neurones convolutif. Dans cette exprience, vous n'entendez pas leurs voix, mais ce  quoi ressemble le chant d'opra pour le modle de machine learning, en fonction de ce qu'il a appris d'eux.\n \n Faites glisser les blobs vers le haut et vers le bas pour changer la hauteur de voix, ou vers l'avant et vers l'arrire pour obtenir diffrents sons de voyelles. Un autre modle de machine learning permet aux blobs de ragir  vos actions et de les harmoniser en temps rel. \n \n *Blob Opera en tourne*\n Nous avons vu les blobs  l'uvre dans la Blobpera House.  prsent, vous pouvez partir en tourne avec eux. Emmenez-les dans des villes du monde entier, et trouvez l'inspiration dans la musique et les sites clbres de Londres, de New York, de Mexico, de Soul, du Cap et de Paris. coutez les blobs interprter une slection locale de chants classiques et traditionnels appartenant au domaine public.\n \n *Remerciements particuliers  :*\n Christian Joel (tnor), Frederick Tong (basse), Joanna Gamble (mezzo-soprano) et Olivia Doutney (soprano). Chants additionnels : Ingunn Gyda Hrafnkelsdottir et John Holland-Avery.\n \n a ne fonctionne pas ?\n Blob Opera est une exprience qui utilise la technologie audio Web la plus rcente. Il est possible que les performances ne soient pas optimales sur des appareils plus anciens. Si vous utilisez un appareil mobile, essayez avec un ordinateur.\n \n *En savoir plus sur les arts du spectacle*\n Explorez l'univers des arts du spectacle et admirez les plus grands interprtes internationaux  360 sur <performing_arts_link>",
                "*Blob Opera,      ,  <davidli>  Google Arts and Culture     .*\n \n  ,                 .             ,          .    - ,    .       ! \n \n *    :*\n       ,      .   ,   , -  ,      16        .   '  '      .   ,          . ,               . ,            .\n \n  -   ,          .  , -   ,  -     .     ,             -     . \n \n *Blob Opera -  *\n  Blobpera House       .       .             .  , , , , ,  ,            .             .          .\n \n *  :*\n   ,   , -  ,    .            .\n \n *    ?*\n Blob Opera              .              .    ,       !\n \n *      *\n         <performing_arts_link> ,      360     ",
                "*Blob Opera  un esperimento di machine learning di <davidli> in collaborazione con Google Arts & Culture.*\n \n I cantanti dell'opera utilizzano la propria voce come meravigliosi ed espressivi strumenti musicali. Questo esperimento vuole essere un omaggio a tali voci: strumenti musicali che chiunque pu imparare a usare. Fai cantare quattro voci liriche in tempo reale. Non serve nessuna capacit di canto particolare! \n \n *Come funziona:*\n \n Abbiamo collaborato con quattro cantanti lirici per insegnare a cantare a un modello di machine learning. Il tenore, Christian Joel, il basso Frederick Tong, la mezzosoprano Joanna Gamble e la soprano Olivia Doutney hanno registrato 16 ore di canto per allenare un algoritmo noto come rete neurale convoluzionale. Nell'esperimento non ascolti le voci dei cantanti, ma ci che il modello di machine learning ha appreso sui suoni del canto lirico, in base a ci che ha imparato da loro.\n \n Trascina i blob verso l'alto e verso il basso per cambiare il loro tono oppure avanti e indietro per i diversi suoni vocalici. Un altro modello di machine learning consente ai blob di rispondere al tuo input e armonizzarsi con quest'ultimo in tempo reale. \n \n *Blob Opera in tour*\n \n Abbiamo visto i blob esibirsi nella Blobpera House, ora li puoi portare in tour. Porta i blob nelle citt di tutto il mondo e trova l'ispirazione nella musica e nei luoghi di interesse di Londra, New York, Citt del Messico, Seul, Citt del Capo e Parigi. Ascolta i blob cantare un'accurata selezione di classici brani tradizionali di dominio pubblico di ogni luogo.\n \n *Con un ringraziamento speciale a:*\n \n Il tenore Christian Joel, il basso Frederick Tong, la mezzosoprano Joanna Gamble e la soprano Olivia Doutney. Altri brani cantati da Ingunn Gyda Hrafnkelsdottir e John Holland-Avery.\n \n *Non funziona?*\n Blob Opera  un esperimento che utilizza la tecnologia audio sul Web di ultima generazione e potrebbe non funzionare in modo ottimale sui dispositivi meno recenti. Se utilizzi un dispositivo mobile, prova a usare un computer desktop.\n \n *Scopri di pi sulle arti performative*\n \n Viaggia nel mondo delle arti performative e guarda gli artisti pi importanti al mondo prendere vita a 360 alla pagina <performing_arts_link>",
                "*A Blob Opera  um experimento de aprendizado de mquina criado por <davidli> em colaborao com o Google Arts & Culture.*\n \n Os cantores de pera usam as prprias vozes como instrumentos musicais belos e expressivos. Este experimento  uma homenagem a essas vozes, como instrumentos musicais que qualquer pessoa pode aprender a tocar. Toque quatro vozes de pera em tempo real. Voc no precisa saber cantar! \n \n *Como funciona:*\n Colaboramos com quatro cantores de pera para ensinar um modelo de aprendizado de mquina a cantar. O tenor Christian Joel, o baixo Frederick Tong, a mezzo-soprano Joanna Gamble e a soprano Olivia Doutney registraram 16 horas de canto para treinar um algoritmo chamado rede neural convolucional. No experimento, voc no ouve as vozes deles, mas sim o que o modelo de aprendizado de mquina entendeu sobre o canto de pera, com base no que ele aprendeu com os cantores.\n \n Arraste os blobs para cima e para baixo para mudar o tom. Voc tambm pode arrast-los para frente e para trs para cantar diferentes sons de vogais. Outro modelo de aprendizado de mquina permite que os blobs respondam  sua interao e se harmonizem em tempo real. \n \n *Blob Opera  Em turn*\n J vimos os blobs cantando na Casa de Blobpera, agora voc pode lev-los em uma turn mundial. Leve os blobs para cidades do mundo todo e inspire-se na msica e nos pontos tursticos de Londres, Nova York, Cidade do Mxico, Seul, Cidade do Cabo e Paris. Oua os blobs cantando uma seleo de msicas clssicas tradicionais de domnio pblico de cada local.\n \n *Agradecimentos especiais:*\n Tenor Christian Joel, baixo Frederick Tong, mezzo-soprano Joanna Gamble e soprano Olivia Doutney. Vozes adicionais de Ingunn Gyda Hrafnkelsdottir e John Holland-Avery.\n \n *No est funcionando?*\n A Blob Opera  um experimento que usa tecnologias recentes de udio da Web e talvez no funcione de maneira ideal em dispositivos mais antigos. Se voc estiver em um dispositivo mvel, tente usar um computador.\n \n *Saiba mais sobre Artes Cnicas*\n Viaje pelo mundo das artes cnicas e veja os maiores artistas do mundo ganharem vida em 360 em <performing_arts_link>",
                "*Blob Opera ni jaribio la mashine kujifunza lililobuniwa na <davidli> kwa kushirikiana na Sanaa na Utamaduni kwenye Google.*\n \n Waimbaji wa opera hutumia sauti zao kama ala za muziki za kupendeza na kuvutia. Jaribio hili hutambua sauti hizo kama ala za muziki ambazo mtu yeyote anaweza kujifunza kucheza. Cheza sauti nne za opera katika muda halisi. Huhitaji ujuzi wa uimbaji! \n \n *Jinsi inavyofanya kazi:*\n Tulishirikiana na waimbaji wanne wa opera kufunza muundo wa mashine kujifunza jinsi ya kuimba. Sauti ya tatu - Christian Joel, besi - Frederick Tong, mezzo-soprano - Joanna Gamble na soprano - Olivia Doutney. Waimbaji hawa walirekodi uimbaji kwa saa 16 ili kufunza algoriti inayojulikana kama Convolutional Neural Network. Katika jaribio hilo, sauti zao hazisikiki, lakini unasikia sauti za muundo wa mashine kujifunza, zinazotokana na jinsi uimbaji wa opera unasikika, kulingana na kile ilichojifunza kutoka kwa waimbaji hao.\n \n Buruta blobu juu na chini ili ubadilishe uzito wa sauti. Au mbele na nyuma upate sauti tofauti za vokali. Muundo mwingine wa mashine kujifunza huruhusu blobu kugeuka na kulinganisha na sauti yako katika muda halisi. \n \n *Blob Opera - kwenye ziara*\n Tumeona blobu zikitumika katika Blobpera House, sasa unaweza kuzisambaza. Sambaza blobu kwenye miji kote ulimwenguni na upate uhamasisho katika muziki na vivutio vya London, New York, Mexico City, Seoul, Cape Town na Paris. Sikiliza blobu zikiimba uteuzi mahususi wa nyimbo za kitamaduni na zilizopendwa katika miliki ya umma kutoka kila eneo.\n \n *Shukrani za dhati kwa:*\n Sauti ya tatu - Christian Joel, besi - Frederick Tong, mezzo-soprano - Joanna Gamble na soprano - Olivia Doutney. Uimbaji wa ziada kutoka kwa Ingunn Gyda Hrafnkelsdottir na John Holland-Avery.\n \n *Je, haifanyi kazi?*\n Blob Opera ni jaribio linalotumia teknolojia mpya zaidi ya sauti kwenye wavuti na huenda lisifanye kazi vyema kwenye vifaa vya zamani. Ikiwa unatumia simu ya mkononi, kwa nini usijaribu kwenye kompyuta ya aina yoyote!\n \n *Pata maelezo zaidi kuhusu Sanaa za Maonyesho*\n Safiri katika ulimwengu wa sanaa za maonyesho na utazame wasanii maarufu zaidi duniani wakionyeshwa katika muundo wa 360 kwenye <performing_arts_link>",
                "*Blob Opera <davidli>  Google Arts & Culture *\n \n 4 \n \n *:*\n  4  Christian Joel  Frederick Tong  Joanna Gamble  Olivia Doutney  16   4 \n \n \n \n \n \n *Blob Opera *\n \n \n \n *:*\n  Christian Joel  Frederick Tong  Joanna Gamble  Olivia Doutney Ingunn Gyda Hrafnkelsdottir  John Holland-Avery \n \n **Blob Opera     \n \n \n * *\n <performing_arts_link>   360 ",
                "*  <davidli> Google       .*\n \n         .          .       .    . \n \n * :*\n          .   ,   ,   ,    16       .               .\n \n     .       .           . \n \n *  *\n            . , , , , ,           .            .\n \n *  :*\n   ,   ,   ,    .          .\n \n * ?*\n               .       .\n \n *   *\n <performing_arts_link>         360   .",
                "*Blob Opera  <davidli>  Google *\n \n  4 \n \n **\n  4  Christian Joel Frederick Tong Joanna Gamble  Olivia Doutney  16 \n \n  blob  blob \n \n *Blob Opera - *\n  The Blobpera House  blob  blob  blob \n \n **\n  Christian Joel Frederick Tong Joanna Gamble  Olivia Doutney Ingunn Gyda Hrafnkelsdottir  John Holland-Avery\n \n **\n Blob Opera \n \n **\n  <performing_arts_link> 360 ",
                "*Blob Opera  <davidli>  Google *\n \n \n \n **\n \n  Christian Joel Frederick Tong Joanna Gamble  Olivia Doutney  16 \n \n \n \n *Blob Opera - *\n \n \n \n **\n \n  Christian Joel Frederick Tong Joanna Gamble Olivia Doutney Ingunn Gyda Hrafnkelsdottir  John Holland-Avery\n \n **\n Blob Opera \n \n **\n \n  <performing_arts_link>  360 ",
                "*Blob Opera ist ein Experiment zum maschinellen Lernen von <davidli>, das in Zusammenarbeit mit Google Arts & Culture konzipiert wurde.*\n \n Die Stimmen von Opernsngerinnen und Opernsngern sind wunderschne und ausdrucksstarke Musikinstrumente. Bei diesem Experiment hat nun jeder die Mglichkeit, diese Instrumente zu spielen. Sie knnen vier Opernstimmen in Echtzeit wiedergeben. Dafr mssen Sie nicht singen knnen! \n \n *So funktionierts:*\n Zusammen mit vier Opernsngern und -sngerinnen haben wir einem Modell fr maschinelles Lernen (ML) das Singen beigebracht. Christian Joel, Tenor, Frederick Tong, Bass, Joanna Gamble, Mezzosopran, und Olivia Doutney, Sopran, nahmen 16 Stunden Gesang auf, um einen Algorithmus zu trainieren, der als Convolutional Neural Network bezeichnet wird. Im Experiment hren Sie nicht ihre Stimmen, sondern das, was das ML-Modell auf der Grundlage dessen, was es von den Sngerinnen und Sngern gehrt hat, unter Operngesang versteht.\n \n Ziehen Sie die Blobs nach oben und unten, um die Tonhhe zu ndern. Wenn Sie die Blobs vor und zurck ziehen, ndern sich die gesungenen Vokale. Ein weiteres ML-Modell sorgt dafr, dass die Blobs in Echtzeit auf Ihre Eingaben reagieren und sich harmonisch abstimmen. \n \n *Blob Opera auf Tournee*\n Nachdem Sie im Blobpera House mit den Blobs geprobt haben, knnen Sie mit ihnen auf Tour gehen. Nehmen Sie die Blobs in Metropolen der Welt wie London, New York, Mexiko-Stadt, Seoul, Kapstadt und Paris mit und lassen Sie sich dabei von der Musik und den Sehenswrdigkeiten dieser Orte inspirieren. Die Blobs bringen gerne eine urheberrechtsfreie Auswahl traditioneller, klassischer Lieder aus der jeweiligen Region zu Gehr.\n \n *Unser besonderer Dank gilt:*\n Christian Joel, Tenor, Frederick Tong, Bass, Joanna Gamble, Mezzosopran, und Olivia Doutney, Sopran. Untersttzt wurden sie von Sngerin Ingunn Gyda Hrafnkelsdottir und Snger John Holland-Avery.\n \n *Funktioniert es nicht?*\n Blob Opera ist ein Experiment, das auf der neuesten Web-Audiotechnologie basiert, und funktioniert deshalb auf lteren Gerten mglicherweise nicht optimal. Wenn Sie mit einem Smartphone kein Glck haben, probieren Sie es doch einmal auf einem Computer aus.\n \n *Sie mchten noch mehr ber darstellende Knste erfahren?*\n Begeben Sie sich auf eine Reise durch die Welt der darstellenden Knste und sehen Sie, wie die grten Knstler der Welt auf <performing_arts_link> in einer 360-Ansicht zum Leben erwachen",
                '*<davidli>    "Google   "   Blob Opera,     .*\n \n           ,    .      .   ! \n \n * *\n     ,     .   ,   , -        16   ,   ,     .          ,        .\n \n   -,   ,  -,   .                  . \n \n * Blob Opera*\n       .     !        ,      , -, , ,   .          ,   .\n \n **\n      (),   (),   (-)    ().          -.\n \n * *\n  Blob Opera    ,        .  -     ,     .\n \n *   *\n                   <performing_arts_link>.',
                "*Blob Opera es un experimento de aprendizaje automtico creado por <davidli> en colaboracin con Google Arts and Culture.*\n \n Los cantantes de pera usan la voz como instrumentos musicales expresivos y hermosos. Este experimento rinde homenaje a aquellas voces como instrumentos musicales que cualquiera puede aprender a tocar. Reproduce cuatro voces de pera en tiempo real. No es necesario tener conocimientos de canto! \n \n *Cmo funciona:*\n Con la colaboracin de cuatro cantantes de pera, enseamos a cantar a un modelo de aprendizaje automtico. El tenor Christian Joel, el bajo Frederick Tong, la mezzosoprano Joanna Gamble y la soprano Olivia Doutney grabaron 16 horas de canto para entrenar un algoritmo llamado red neuronal convolucional. En el experimento no escuchas sus voces, sino la interpretacin que hace el modelo de aprendizaje automtico sobre cmo suena el canto de pera, segn lo que aprendi de ellos.\n \n Arrastra los blobs hacia arriba y abajo para cambiar el tono, o bien hacia adelante y atrs para obtener diferentes sonidos de vocales. Otro modelo de aprendizaje automtico permite que los blobs respondan y armonicen con tu entrada en tiempo real. \n \n *Blob Opera de gira*\n Ya vimos a los blobs actuar en la Blobpera House; ahora puedes llevarlos de gira. Lleva a los blobs a ciudades de todo el mundo y encuentra inspiracin en msica y puntos de referencia de Londres, Nueva York, Mxico, Sel, Ciudad del Cabo y Pars. Escucha cantar a los blobs una seleccin de canciones clsicas y tradicionales de dominio pblico de cada ubicacin.\n \n *Agradecimiento especial:*\n El tenor Christian Joel, el bajo Frederick Tong, la mezzosoprano Joanna Gamble y la soprano Olivia Doutney. Voces adicionales de Ingunn Gyda Hrafnkelsdottir y John Holland-Avery.\n \n *No funciona?*\n Blob Opera es un experimento que usa lo ltimo en tecnologa de audio web y es posible que no funcione correctamente en dispositivos antiguos. Si ests usando un dispositivo mvil, cambia a uno de escritorio.\n \n *Ms informacin sobre las artes escnicas*\n Explora el mundo de las artes escnicas y observa cmo los mejores artistas del mundo cobran vida en 360 en <performing_arts_link>",
                "*Blob Opera merupakan eksperimen machine learning hasil kerja sama <davidli> dan Google Seni & Budaya.*\n \n Penyanyi opera menggunakan suara mereka sebagai instrumen musik yang ekspresif dan indah. Eksperimen ini merupakan suatu bentuk apresiasi terhadap suara tersebut sebagai instrumen musik yang dapat dipelajari semua orang. Mainkan empat suara opera secara real time. Anda tidak harus pandai bernyanyi! \n \n *Cara kerjanya:*\n Kami bekerja sama dengan empat penyanyi opera untuk melatih model machine learning dalam bernyanyi. Christian Joel untuk suara tenor, Frederick Tong untuk suara bas, Joanna Gamble untuk suara mezzosopran, dan Olivia Doutney untuk suara sopran merekam nyanyian mereka dengan durasi 16 jam untuk melatih algoritme yang disebut Jaringan Neural Konvolusional. Dalam eksperimen ini, bukan suara mereka yang Anda dengar, melainkan suara model machine learning yang berusaha memahami seperti apa suara nyanyian opera berdasarkan apa yang dipelajarinya dari keempat penyanyi tersebut.\n \n Tarik blob ke atas dan bawah untuk mengubah nada. Atau tarik blob ke depan dan belakang untuk mengubah suara vokal. Model machine learning lainnya memungkinkan blob merespons dan melakukan harmonisasi dengan input Anda secara real time. \n \n *Blob Opera - tur*\n Kita telah menyaksikan penampilan para blob di Gedung Blobpera, sekarang Anda dapat mengajak mereka untuk melakukan tur. Ajak para blob berkeliling kota di seluruh dunia dan temukan inspirasi dalam musik serta berbagai tempat terkenal di London, New York, Mexico City, Seoul, Cape Town, dan Paris. Dengarkan nyanyian berbagai lagu tradisional dan klasik pilihan dari blob di domain publik dari setiap lokasi.\n \n *Dengan ucapan terima kasih khusus kepada:*\n Christian Joel untuk suara tenor, Frederick Tong untuk suara bas, Joanna Gamble untuk suara mezzosopran, dan Olivia Doutney untuk suara sopran. Nyanyian tambahan dari Ingunn Gyda Hrafnkelsdottir dan John Holland-Avery.\n \n *Tidak berfungsi?*\n Blob Opera merupakan sebuah eksperimen yang menggunakan teknologi audio web terbaru dan mungkin tidak berfungsi optimal di perangkat lama. Jika Anda menggunakan perangkat seluler, sebaiknya coba perangkat desktop.\n \n *Pelajari lebih lanjut Seni Pertunjukan*\n Jelajahi dunia seni pertunjukan dan saksikan penampilan seniman terbaik dunia yang tampak sangat nyata dengan sudut pandang 360 di <performing_arts_link>",
                "*Blob Opera je experiment se strojovm uenm, kter vytvoil <davidli> ve spoluprci s projektem Google Arts and Culture.*\n \n Opern zpvci svj hlas vyuvaj jako ndhern, expresivn hudebn nstroj. Experiment je poklonou tmto hlasm a prezentuje je jako hudebn nstroje, na kter si me zahrt kdokoli. Hrajte si se tymi opernmi hlasy v relnm ase. Umt zpvat nepotebujete. \n \n *Jak to funguje:*\n Ve spoluprci se tymi opernmi pvci jsme nauili zpvat model strojovho uen. Tenor Christian Joel, bas Frederick Tong, mezzosopranistka Joanna Gambleov a sopranistka Olivia Doutneyov nahrli 16 hodin zpvu, aby bylo mon vycviit algoritmus zvan konvolun neuronov s. V rmci experimentu neslyte jejich hlasy, ale zvuk, kter pedstavuje, jak model strojovho uen vnm opern zpv na zklad informac zskanch pi poslechu.\n \n Petaenm blob nahoru a dol zmnte vku hlasu. Petaenm dopedu a dozadu zmnte zpvanou hlsku. Experiment pouv jet jeden model strojovho uen, kter blobm umouje reagovat na v vstup v relnm ase a sladit s nm zpv. \n \n *Blob Opera  turn*\n U jsme vidli bloby inkovat v Blopernm dom, ale te s nimi mete vyrazit na turn. Vezmte bloby do mst po celm svt a hledejte inspiraci v hudb a pamtkch Londna, New Yorku, Ciudad de Mxico, Soulu, Kapskho Msta a Pae. Poslouchejte, jak bloby zpvaj vybran tradin psn, kter jsou dostupn jako voln dla.\n \n *Zvltn podkovn:*\n Tenor Christian Joel, bas Frederick Tong, mezzosopranistka Joanna Gambleov a sopranistka Olivia Doutneyov. Zpvaj tak Ingunn Gyda Hrafnkelsdottirov a John Holland-Avery.\n \n *Nefunguje to?*\n Blob Opera je experiment, kter vyuv nejnovj technologie zpracovn webovho zvuku a na starch zazench nemus fungovat sprvn. Pokud pouvte mobiln zazen, zkuste pejt na pota.\n \n *Vzdlvn v oblasti umn*\n Vydejte se do svta mzickch umn a sledujte vystoupen nejvtch umlc v 360 zobrazen na webu <performing_arts_link>",
                '*Blob Opera er et maskinlringseksperiment, der er skabt af <davidli> i samarbejde med Google Arts & Culture.*\n \n Operasangere bruger deres stemmer som udtryksfulde og smukke musikalske instrumenter. Dette eksperiment hylder disse stemmer, der er musikalske instrumenter, som alle kan lre at skabe musik med. Afspil fire operastemmer i realtid. Sangtalent er ikke pkrvet! \n \n *Sdan fungerer det:*\n Vi har samarbejdet med fire operasangere om at lre en maskinlringsmodel at synge. Tenor-, bas-, mezzosopran- og sopranstemmerne (tilhrende hhv. Christian Joel, Frederick Tong, Joanna Gamble og Olivia Doutney) optog 16 timers sang med henblik p at oplre en algoritme, som kaldes et "convolutional neural network". I eksperimentet hrer du ikke sangernes stemmer, men derimod maskinlringsmodellens forstelse af, hvordan operasang lyder, baseret p, hvad modellen lrte af stemmerne.\n \n Trk klumperne op og ned for at ndre tonehjde. Du kan ogs trkke dem fremad og tilbage for at hre forskellige vokallyde. En anden maskinlringsmodel giver klumperne mulighed for at reagere p og inkorporere dit input i realtid. \n \n *Blob Opera  p turn*\n Vi har set klumperne gre, hvad de er bedst til, i Blobperahuset, og nu kan du tage dem med p turn. Tag klumperne med til byer rundt omkring i verden, og find inspiration i musikken fra og vartegnene i London, New York City, Mexico City, Seoul, Cape Town og Paris. Hr klumperne synge et udvalg af traditionelle klassiske sange fra det offentlige domne p hvert sted.\n \n *En srlig tak til:*\n Tenor Christian Joel, bassanger Frederick Tong, mezzosopran Joanna Gamble og sopran Olivia Doutney. Yderligere sang er leveret af Ingunn Gyda Hrafnkelsdottir og John Holland-Avery.\n \n *Virker det ikke?*\n Blob Opera er et eksperiment, der anvender den nyeste weblydsteknologi, hvorfor det muligvis ikke fungerer optimalt p ldre enheder. Hvis du bruger en mobilenhed, kan du prve at skifte til en computer.\n \n *F flere oplysninger om scenekunst*\n G p opdagelse i scenekunstens verden, og se verdens bedste kunstnere i 360 visning p <performing_arts_link>',
                '*Blob Opera eksperiment je strojnog uenja koji je napravio <davidli> u suradnji s uslugom Google Arts & Culture.*\n \n Operni pjevai koriste svoje glasove kao lijepe i izraajne glazbene instrumente. Ovaj eksperiment odaje priznanje tim glasovima kao glazbenim instrumentima koje svatko moe nauiti svirati. "Svirajte" etiri operna glasa u stvarnom vremenu. Ne morate znati pjevati! \n \n *Kako to funkcionira:*\n U suradnji s dva operna pjevaa i dvije operne pjevaice nauili smo model strojnog uenja kako pjevati. Tenor Christian Joel, bas Frederick Tong, mezzosopran Joanna Gamble i sopran Olivia Doutney snimili su 16 sati pjevanja kako bi obuili algoritam koji se zove konvolucijska neuronska mrea. U eksperimentu se ne uju njihovi glasovi, ve interpretacija pjevanja opere na temelju onog to je model strojnog uenja nauio od njih.\n \n Povlaite blobove prema gore ili dolje da biste mijenjali visinu glasa. Da biste mijenjali zvuk samoglasnika, povlaite ih prema naprijed ili natrag. Drugi model strojnog uenja omoguuje blobovima da reagiraju i harmoniziraju s vaim unosom u stvarnom vremenu. \n \n *Blob Opera na turneji*\n Vidjeli smo blobove u akciji u Blobpernoj kui, a sad ih moete povesti na turneju. Povedite blobove u gradove diljem svijeta i pronaite nadahnue u glazbi i znamenitostima Londona, New Yorka, Mexico Cityja, Seoula, Cape Towna i Pariza. Posluajte kako blobovi pjevaju odabrane tradicionalne klasine pjesme u javnoj domeni sa svake od tih lokacija.\n \n *Posebno zahvaljujemo:*\n tenoru Christianu Joelu, basu Fredericku Tongu, mezzosopranistici Joanni Gamble i sopranistici Oliviji Doutney. Pjevali su i Ingunn Gyda Hrafnkelsdottir i John Holland-Avery.\n \n *Ne funkcionira?*\n Blob Opera je eksperiment u kojem se koristi najnovija audiotehnologija za web, pa moda nee optimalno funkcionirati na starijim ureajima. Ako ste na mobilnom ureaju, moda biste mogli pokuati na raunalu!\n \n *Saznajte vie o izvedbenim umjetnostima*\n Putujte svijetom izvedbenih umjetnosti i gledajte najvee svjetske izvoae u 360 na <performing_arts_link>',
                "*A Blob Opera egy gpi tanulsi ksrlet, amelyet <davidli> a Google Arts & Culture szolgltatssal egyttmkdve valstott meg.*\n \n Operanekesek hangja kifejez s bmulatos hangszerekknt letre keltve. A ksrlet az  hangjaik eltti fhajts, s a segtsgvel brki megtanulhat hangszereken jtszani. Ngy operanekes hangjn jtszhat vals idben. Nem szksges hozz hangi adottsg. \n \n *gy mkdik:*\n Ngy operanekessel egyttmkdve megtantottunk nekelni egy gpi tanulsi modellt. A tenor Christian Joel, a basszus Frederick Tong, a mezzoszoprn Joanna Gamble s a szoprn Olivia Doutney egytt felnekeltek 16 rnyi anyagot, amely a Convolutional Neural Network nev algoritmus kdolshoz kerlt felhasznlsra. A ksrletben nem az nekesek hangjt, hanem az operanekls gpi tanulsi modell szerinti rtelmezst hallja az alapjn, amit a program az nekesektl elsajttott.\n \n A hangmagassg mdostshoz hzza a blobokat fel s le. Elre s htra hzva ket klnbz magnhangzkat szlaltathat meg. Egy msik gpi tanulsi modell segtsgvel a blobok vals idben kpesek reaglni az n ltal megszlaltatott hangokra s az sszhang kialaktsra. \n \n *Blob Opera  turn*\n Most, hogy lttuk, mire kpesek a blobok a Blobperahz sznpadn, kezdett veheti a turn. Induljon vilgkrli tra a blobokkal, s mertsen ihletet a zenbl, valamint London, New York, Mexikvros, Szul, Fokvros s Prizs nevezetessgeibl. Hallgassa meg, amint a blobok a hagyomnyos, klasszikus s az egyes helyszneken kzkinccs vlt dalokbl sszelltott vlogatsokat nekelnek.\n \n *Kln ksznet illeti a kvetkez szemlyeket:*\n A tenor Christian Joelt, a basszus Frederick Tongot, a mezzoszoprn Joanna Gamble-t s a szoprn Olivia Doutney-t. Radsnek Ingunn Gyda Hrafnkelsdottir s John Holland-Avery eladsban.\n \n *Nem mkdik?*\n A Blob Opera egy ksrlet, amely a legfejlettebb internetes audiotechnolgit hasznlja, ezrt elfordulhat, hogy rgebbi eszkzkn nem nyjt optimlis lmnyt. Ha mobileszkzt hasznl, prblja meg asztali szmtgpen.\n \n *Tovbbi informcik az elad-mvszetekrl*\n Merljn el az elad-mvszetek vilgban, s nzze, amint a vilg legnagyobb eladi letre kelnek 3D-ben a kvetkez oldalon: <performing_arts_link>.",
                "*Blob Opera ir manmcans eksperiments, ko radjis <davidli> sadarbb ar platformu Google mksla un kultra.*\n \n Operdziedtji izmanto savas balsis k mzikas instrumentus ar izteiksmgu un brnigu skanjumu. is eksperiments ir veltts balsm, jo ikviens var iemcties splt mzikas instrumentus. Atskaojiet etras operdziedtju balsis rellaik. Dziedanas prasmes nav nepiecieamas. \n \n *Darbbas pamatprincipi*\n Ms sadarbojmies ar etriem operdziedtjiem, lai iemctu dziedt manmcans modelim. Tenors Kristjans Doels (Christian Joel), bass Frederiks Tongs (Frederick Tong), mecosoprns Doena Gembla (Joanna Gamble) un soprns Olvija Dautnija (Olivia Doutney) ierakstja 16 stundu ilgu dziedanu, lai apmctu algoritmu Konvolcijas neironu tkls (Convolutional Neural Network). aj eksperiment js nedzirdsiet dziedtju balsis, bet gan manmcans modea interpretciju par operdziedanas skanjumu, pamatojoties uz to, ko tas iemcjies no dziedtjiem.\n \n Velciet burbuus uz augu un leju, lai maintu toni. Varat ar vilkt uz prieku un atpaka, lai maintu patskaus. Cits manmcans modelis auj burbuiem reat uz kursora kustbu un veidot harmoniju atbilstoi ai kustbai rellaik. \n \n *Blob Opera dziedtji dodas turnej*\n Esam redzjui, k burbui darbojas nam The Blobpera House. Tagad varat doties ar tiem turnej. Dodieties ar burbuiem turnej uz pasaules lielpilstm un rodiet iedvesmu mzik un Londonas, ujorkas, Mehiko, Seulas, Keiptaunas un Parzes ievrojamkajs viets. Klausieties, k burbui katr viet dzied pai atlastas populras tradicionls un klasisks dziesmas.\n \n *paa pateicba:*\n tenoram Kristjanam Doelam (Christian Joel), basam Frederikam Tongam (Frederick Tong), mecosoprnam Doenai Gemblai (Joanna Gamble) un soprnam Olvijai Dautnijai (Olivia Doutney). Piedziedja Inguna Gida Hrafnkelsdotra (Ingunn Gyda Hrafnkelsdottir) un Dons Holends Eiverijs (John Holland-Avery).\n \n *Vai nedarbojas?*\n Blob Opera ir eksperiments, kur tiek izmantota jaunk tmeka audio tehnoloija. Iespjams, vecks iercs eksperimenta darbba nebs optimla. Ja izmantojat mobilo ierci, izminiet eksperimentu dator.\n \n *Plaka informcija par skatuves mkslu*\n Dodieties skatuves mkslas pasaul un vrojiet pasaules izcilko mkslinieku uzstanos visaptvero 360 grdu skat vietn <performing_arts_link>.",
                "*Blob Opera is een machine learning-experiment door <davidli> in samenwerking met Google Arts & Culture.*\n \n Operazangers gebruiken hun stem als prachtige, expressieve muziekinstrumenten. Dit experiment is een eerbetoon aan die stemmen in de vorm van muziekinstrumenten die iedereen kan leren bespelen. Speel 4 operastemmen in realtime af. Zangervaring is niet nodig! \n \n *Hoe het werkt:*\n We werkten samen met 4 operazangers om een machine learning-model te leren zingen. Tenor Christian Joel, bas Frederick Tong, mezzosopraan Joanna Gamble en sopraan Olivia Doutney namen 16 uur aan zang op om een algoritme te trainen. Dit heet een Convolutional Neural Network. Wat je hoort zijn niet de stemmen van deze zangers, maar het inzicht van het machine learning-model in hoe operazang klinkt. Dit is gebaseerd op wat het van de zangers heeft geleerd.\n \n Sleep de blobs op en neer om de toonhoogte te veranderen. Of naar voren en achteren voor verschillende klinkerklanken. Een ander machine learning-model laat de blobs reageren en harmoniseren met je input in realtime. \n \n *Blob Opera  op tournee*\n We hebben de blobs hun ding zien doen in Het Blobpera House en nu kun je met ze op tournee gaan. Ga met de blobs naar steden over de hele wereld en zoek inspiratie in de muziek en bezienswaardigheden van Londen, New York, Mexico City, Seoul, Kaapstad en Parijs. Hoor hoe de blobs een selectie van traditionele, klassieke nummers zingen uit het publieke domein van elke locatie.\n \n *Met speciale dank aan:*\n Tenor Christian Joel, bas Frederick Tong, mezzosopraan Joanna Gamble en sopraan Olivia Doutney. Extra zang van Ingunn Gyda Hrafnkelsdottir en John Holland-Avery.\n \n *Werkt het niet?*\n Blob Opera is een experiment met de nieuwste webaudiotechnologie en werkt misschien niet optimaal op oudere apparaten. Als je het op een mobiel apparaat gebruikt, probeer het dan eens op een desktop.\n \n *Meer informatie over podiumkunsten*\n Reis door de wereld van de podiumkunsten en zie 's werelds grootste artiesten tot leven komen in 360 op <performing_arts_link>",
                "*Blob Opera to eksperyment z dziedziny systemw uczcych si, ktry prowadzi <davidli> we wsppracy z Google Arts & Culture.*\n \n piewacy operowi posuguj si swoimi gosami jak penymi ekspresji, piknymi instrumentami muzycznymi. Eksperyment stanowi hod dla tych gosw  instrumentw muzycznych, na ktrych kady moe nauczy si gra. Odtwrz 4 gosy operowe w czasie rzeczywistym. Zdolnoci muzyczne nie s wymagane! \n \n *Jak to dziaa:*\n We wsppracy z 4 piewaczkami i piewakami operowymi nauczylimy system uczcy si piewania. Tenor Christian Joel, bas Frederick Tong, mezzosopranistka Joanna Gamble oraz sopranistka Olivia Doutney nagrali 16 godzin piewu, ktry posuy do wytrenowania algorytmu zwanego konwolucyjn sieci neuronow. W eksperymencie nie sycha ich gosw, tylko ich interpretacj przez model systemu uczcego si, ktry dziki nim opanowa brzmienie piewu operowego.\n \n Przecigaj bloby w gr i w d, aby zmieni ton. Albo do przodu lub do tyu, aby zmieni samogosk. Inny model systemu uczcego si umoliwia reagowanie blobw na Twoje dziaania i harmonizowanie si z nimi w czasie rzeczywistym. \n \n *Blob Opera  trasa koncertowa*\n Widzimy, e bloby radz sobie znakomicie w The Blobpera House, pora wic zabra je w tras koncertow. Odwiedzaj miasta na caym wiecie, szukajc inspiracji w muzyce i znanych punktach Londynu, Nowego Jorku, Meksyku, Seulu, Kapsztadu i Parya. Posuchaj, jak bloby piewaj pieczoowicie dobrane tradycyjne i klasyczne utwory nalece do domeny publicznej w kadej z tych lokalizacji.\n \n *Specjalne podzikowania:*\n tenor Christian Joel, bas Frederick Tong, mezzosopranistka Joanna Gamble oraz sopranistka Olivia Doutney. Dodatkowe partie piewu: Ingunn Gyda Hrafnkelsdottir i John Holland-Avery.\n \n *Nie dziaa?*\n Blob Opera to eksperyment wykorzystujcy najnowsze internetowe technologie dwiku i moe nie dziaa optymalnie na starszych urzdzeniach. Jeli uywasz urzdzenia mobilnego, sprbuj na komputerze!\n \n *Wicej informacji o sztukach scenicznych*\n Wybierz si w podr po wiecie sztuk scenicznych i obejrzyj wystpy najwikszych wykonawcw w technologii obrazu panoramicznego na stronie <performing_arts_link>",
                "*O Blob Opera  uma experincia de aprendizagem automtica de <davidli> em colaborao com o Google Arts & Culture.*\n \n Os cantores de pera utilizam as suas vozes como instrumentos musicais expressivos e belos. Esta experincia  uma homenagem a essas vozes, que servem como instrumentos musicais que qualquer pessoa pode aprender a tocar. Toque quatro vozes de pera em tempo real. No  necessrio saber cantar! \n \n *Como funciona:*\n Colabormos com quatro cantores de pera para ensinar um modelo de aprendizagem automtica a cantar. O tenor Christian Joel, o baixo Frederick Tong, a mezzo-soprano Joanna Gamble e a soprano Olivia Doutney gravaram 16 horas de canto para treinar um algoritmo chamado Rede neural convolucional. Na experincia, no ouve as vozes deles, mas sim aquilo que o modelo de aprendizagem automtica entendeu sobre o canto lrico, com base no que aprendeu com eles.\n \n Arraste os blobs para cima e para baixo para alterar o tom. Ou para a frente e para trs para diferentes sons de vogais. Outro modelo de aprendizagem automtica permite que os blobs respondam e se harmonizem com a sua entrada em tempo real. \n \n *Blob Opera  em digresso*\n Vimos os blobs a cantar na The Blobpera House e, agora, pode lev-los em digresso. Leve os blobs para cidades de todo o mundo e inspire-se com msicas e pontos de referncia de Londres, Nova Iorque, Cidade do Mxico, Seul, Cidade do Cabo e Paris. Oua os blobs a cantarem uma seleo de msicas clssicas e tradicionais no domnio pblico de cada local.\n \n *Com um agradecimento especial a:*\n Tenor Christian Joel, baixo Frederick Tong, mezzo-soprano Joanna Gamble e soprano Olivia Doutney. Vozes adicionais de Ingunn Gyda Hrafnkelsdottir e John Holland-Avery.\n \n *No est a funcionar?*\n O Blob Opera  uma experincia que utiliza a tecnologia mais recente de udio da Web e pode no funcionar de forma perfeita em dispositivos mais antigos. Se estiver a utilizar o Blob Opera num dispositivo mvel, experimente-o num computador.\n \n *Saiba mais sobre as artes cnicas*\n Viaje pelo mundo das artes cnicas e veja os maiores artistas do mundo a ganharem vida em 360 no <performing_arts_link>",
                "*Opera cu bule este un experiment bazat pe nvare automat creat de <davidli> n colaborare cu Google Arts & Culture.*\n \n Cntreii de oper i folosesc vocile ca pe nite instrumente muzicale expresive i minunate. Acest experiment este un omagiu dedicat acestor voci, ntruct oricine poate nva s cnte la instrumente muzicale. Redai patru voci de oper n timp real. Nu avei nevoie de aptitudini muzicale! \n \n *Cum funcioneaz*\n Am colaborat cu patru cntrei de oper pentru a instrui un model de nvare automat s cnte. Tenorul Christian Joel, basul Frederick Tong, mezzo-soprana Joanna Gamble i soprana Olivia Doutney au fost nregistrai cntnd timp de 16 ore pentru a crea un algoritm numit reea neuronal convoluional. n experiment nu auzii vocile lor, ci felul n care a neles modelul de nvare automat c sun muzica de oper, pe baza celor nvate de la ei.\n \n Tragei bulele n sus i n jos pentru a schimba tonalitatea. Sau nainte i napoi pentru diferite vocale. Un alt model de nvare automat i permite bulei s rspund la aciunea dvs. i s se armonizeze cu aceasta n timp real. \n \n *Opera cu bule  n turneu*\n Acum c ai vzut bulele n aciune n Opera cu bule, putei merge n turneu cu ele. Ducei bulele n orae din ntreaga lume i inspirai-v din muzica i reperele din Londra, New York, Mexico City, Seoul, Cape Town i Paris. Ascultai bulele care cnt o selecie de melodii clasice tradiionale ntr-un loc public din fiecare ora.\n \n *Mulumiri speciale ctre:*\n tenorul Christian Joel, basul Frederick Tong, mezzo-soprana Joanna Gamble i soprana Olivia Doutney. Au interpretat i Ingunn Gyda Hrafnkelsdottir i John Holland-Avery.\n \n *Nu funcioneaz?*\n Opera cu bule este un experiment care folosete cea mai recent tehnologie audio pentru web i poate s nu funcioneze optim pe dispozitive mai vechi. Dac folosii un dispozitiv mobil, ncercai de pe computer!\n \n *Aflai mai multe despre arta spectacolului*\n Explorai lumea artei spectacolului i vedei-i pe cei mai mari artiti din lume la 360 la <performing_arts_link>",
                '*Blob Opera   ,  <davidli>         Google Arts & Culture.*\n \n           .     ,  -   .       .   . \n \n * *\n          .   (),   (),   (-)    ()  16   ,      "  ".        ,            .\n \n     ,    ,    ,      .                   . \n \n *Blob Opera  *\n        ,      .               , -, , ,   .      ,  ,         .\n \n * :*\n   (),   (),   (-)    ().         -.\n \n * ?*\n Blob Opera       ,         .     ,    .\n \n *   *\n                 <performing_arts_link>',
            ],
            [
                "info_performing_arts_link",
                "Google Arts & Cuture",
                "Google Kuns en Kultuur",
                "Google Arts & Culture",
                "Google Arts & Culture",
                "Google Arts & Culture",
                "Google Arts & Culture",
                "Google Arts & Culture",
                "Sanaa na Utamaduni kwenye Google",
                "Google Arts & Cuture",
                "Google   ",
                "Google ",
                "Google ",
                "Google Arts & Culture",
                "Google   ",
                "Google Arts & Culture",
                "Google Seni & Budaya",
                "Google Arts & Culture",
                "Google Arts & Culture",
                "Google Arts & Cuture",
                "Google Arts & Culture",
                "Google mksla un kultra",
                "Google Arts & Culture",
                "Google Arts & Culture",
                "Google Arts & Cuture",
                "Google Arts & Culture",
                "Google Arts & Culture",
            ],
            [
                "axl_share_recording_ugc",
                "Blob Opera is on tour! Play four opera voices and see them perform in cities around the world. Here's one I made for <city>  ",
                "Blob Opera toer tans! Speel vier operastemme en sien hoe hulle optree in stede wreldwyd. Hier is een wat ek gemaak het vir <city>",
                "Blob Opera est de gira! Haz cantar a cuatro voces de pera y disfruta de sus actuaciones en distintas ciudades de todo el mundo. Aqu hay una que grab en <city> .",
                "Blob Opera en tourne ! Faites chanter quatre voix d'opra et regardez-les se produire dans des villes du monde entier. Voici une uvre que j'ai compose pour <city> ",
                "Blob Opera   !    -             .  <city>      ",
                "Blob Opera  in tour! Fai cantare quattro voci liriche e guardale mentre si esibiscono nelle citt di tutto il mondo. Ecco uno spettacolo che ho creato per <city>",
                "A Blob Opera est em uma turn mundial! Toque quatro vozes de pera e veja-as se apresentando em cidades do mundo todo. Oua esta que eu criei para <city>",
                "Blob Opera iko katika ziara! Cheza sauti nne za opera na uone zikiimbwa katika miji kote ulimwenguni. Nilitunga sauti hii kwa ajili ya <city> ",
                "Blob Opera 4  <city>  ",
                "   .           . <city>()     . ",
                "Blob Opera  4 <city> ",
                "Blob Opera <>",
                "Blob Opera ist auf Tour! Lasse vier Opernstimmen singen und in verschiedenen Metropolen der Welt auftreten. Hier ist eine Komposition, die ich fr <city> gemacht habe ",
                "Blob Opera   .       . <city>,    ! ",
                "Blob Opera est de gira! Reproduce cuatro voces de pera y mralas actuar en ciudades de todo el mundo. Aqu hay uno que hice para <city> ",
                "Blob Opera sedang melakukan tur! Mainkan empat suara opera dan saksikan penampilan mereka di seluruh dunia. Ini kreasi yang saya buat untuk <city>. ",
                "Blob Opera jede na turn! Pehrvejte zpv ty opernch hlas a sledujte jejich vystoupen v mstech po celm svt. Tohle je mj vtvor z msta <city> ",
                "Blob Opera er p turn! Afspil fire operastemmer, og se dem optrde i byer rundt omkring i verden. Her er en opera, jeg har lavet til <city> ",
                'Blob Opera je na turneji! "Svirajte" etiri operna glasa i gledajte njihove nastupe u gradovima diljem svijeta. Evo jednog mojeg za <city> ',
                "A Blob Opera turnzik! Jtsszon ngy operanekes hangjn, s ljn be az eladsokra a vilg vrosaiban. me az egyik, amelyet <city> vroshoz komponltam. ",
                "Blob Opera dziedtji ir devuies turnej! Atskaojiet etras operdziedtju balsis un skatiet uzstanos pasaules lielpilsts. du programmu es izveidoju pilstai <city> ",
                "Blob Opera gaat op tournee. Speel 4 operastemmen af en zie ze optreden in steden over de hele wereld. Deze heb ik gemaakt voor <city> ",
                "Blob Opera w trasie koncertowej! Odtwrz 4 gosy operowe i obejrzyj wystpy w miastach na caym wiecie. Tem dla tego wystpu jest <city> ",
                "O Blob Opera est em digresso! Toque quatro vozes de pera e veja apresentaes em vrias cidades de todo o mundo. Oua esta que eu que fiz para <city> ",
                "Opera cu bule pleac n turneu! Redai patru voci de oper i ascultai-le n orae din ntreaga lume. Iat o melodie compus pentru <city> ",
                "Blob Opera   !         .   .  <city>! ",
            ],
            [
                "axl_share_recording_cc",
                "Blob Opera is on tour! Hear them sing <song> in <city> then create your own composition ",
                "Blob Opera toer tans! Hoor hoe hulle <song> in <city> sing, en skep dan jou eie komposisie",
                "Blob Opera est de gira! Oye cmo cantan <song> en <city> y luego crea tu propia obra .",
                'Blob Opera en tourne ! coutez-les chanter "<song>" dans la ville de <city>, puis crez votre propre composition ',
                "Blob Opera   ! <city>   <song>   .  ,    ",
                "Blob Opera  in tour! Ascolta i blob cantare <song> a <city> e poi crea la tua composizione",
                "A Blob Opera est em uma turn mundial! Oua uma apresentao da msica <song> em <city> e crie sua prpria composio",
                "Blob Opera iko katika ziara! Zisikilize zikiimba <song> mjini <city> kisha utunge wimbo wako mwenyewe ",
                "Blob Opera <city>  <song>  4  ",
                "   . <city>  <song>()    . ",
                "Blob Opera <city><song> ",
                "Blob Opera <city><song>",
                "Blob Opera ist auf Tour! Hr dir an, wie die Blobs das Lied <song> in <city> singen, und komponiere dann ein eigenes Stck ",
                'Blob Opera   .  <city>! ,     "<song>",    . ',
                "Blob Opera est de gira! Escchalos cantar <song> en <city> y, luego, crea tu propia composicin ",
                "Blob Opera sedang melakukan tur! Nikmati lagu <song> yang mereka bawakan di <city>, lalu ciptakan komposisi Anda sendiri. ",
                "Blob Opera jede na turn! Poslechnte si pse <song> ve mst <city> a pak vytvote vlastn skladbu ",
                "Blob Opera er p turn! Hr dem synge <song> i <city>, og skab derefter din egen komposition ",
                "Blob Opera je na turneji! Posluajte kako pjevaju pjesmu <song> u gradu <city>, a zatim skladajte vlastitu skladbu ",
                "A Blob Opera turnzik! Hallgassa meg, ahogy a(z) <song> dalt neklik <city> vrosban, majd szerezzen sajt zent. ",
                "Blob Opera dziedtji ir devuies turnej! Klausieties dziesmu <song> pilst <city>, pc tam saceriet savu skadarbu ",
                "Blob Opera gaat op tournee. Hoor ze <song> zingen in <city> en maak dan je eigen compositie ",
                "Blob Opera w trasie koncertowej! Posuchaj, jak <city> wypenia si brzmieniem utworu <song>, a potem stwrz wasn kompozycj ",
                "O Blob Opera est em digresso! Oua essas vozes a cantarem <song> em <city>. Em seguida, crie a sua prpria composio ",
                "Opera cu bule pleac n turneu! Ascultai bulele care cnt <song> n <city>, apoi creai propria compoziie ",
                "Blob Opera   !  <city>! ,     <song>,      ",
            ],
            [
                "landscape_warning_desktop",
                "Expand the height of your window to view this experiment",
                "Maak jou venster se hoogte groter om hierdie eksperiment te bekyk",
                "Ampla la altura de tu ventana para ver este experimento",
                "Agrandissez votre fentre pour voir cette exprience",
                "     ,     ",
                "Espandi l'altezza della finestra per vedere questo esperimento",
                "Aumente a altura da janela para ver este experimento",
                "Panua urefu wa dirisha lako ili uone jaribio hili",
                "",
                "    .",
                "",
                "",
                "Maximieren Sie die Hhe des Fensters, damit Sie das Experiment vollstndig sehen knnen",
                "  ,   .",
                "Expande la altura de la ventana para ver este experimento",
                "Luaskan tinggi jendela untuk melihat eksperimen ini",
                "Chcete-li tento experiment zobrazit, zvtete vku okna",
                "Gr vinduet hjere for at se dette eksperiment",
                "Poveajte prozor u visinu da biste vidjeli ovaj eksperiment",
                "A ksrlet megtekintshez nvelje az ablak magassgt",
                "Lai skattu o eksperimentu, izvrsiet loga augstumu.",
                "Maak je venster hoger om dit experiment te bekijken",
                "Powiksz okno, aby wywietli ten eksperyment",
                "Expanda a altura da janela para ver esta experincia",
                "Extindei nlimea ferestrei pentru a viziona acest experiment",
                "   ,   ",
            ],
            [
                "landscape_warning_mobile",
                "This experiment is best viewed in portrait mode",
                "Die eksperiment kan die beste in portretmodus bekyk word",
                "Este experimento se ve mejor en modo vertical",
                "Pour bien visualiser cette exprience, passez en mode portrait",
                "        ",
                "Questo esperimento si vede in modo ottimale in modalit Ritratto",
                "Este experimento pode ser visualizado melhor em Modo retrato",
                "Jaribio hili hutazamwa vyema zaidi katika mkao wima",
                "",
                "     .",
                "",
                "",
                "Am besten lsst sich das Experiment im Hochformat betrachten",
                "      .",
                "Este experimento se ve mejor en modo vertical",
                "Eksperimen ini paling optimal dilihat dalam mode potret",
                "Tento experiment je nejlep zobrazit na vku",
                "Eksperimentet fungerer bedst i portrttilstand",
                "Ovaj eksperiment najbolje je gledati u portretnom nainu",
                "A legjobb lmny rdekben portr mdban tekintse meg a ksrletet",
                "o eksperimentu ieteicams skatt portreta rem.",
                "Je kunt dit experiment het best bekijken in de portretmodus",
                "Ten eksperyment najlepiej jest wywietla w orientacji pionowej",
                "Conseguir visualizar melhor esta experincia no modo vertical.",
                "Experimentul poate fi vizionat cel mai bine n modul portret",
                "      ",
            ],
            [
                "performance_warning",
                "We've detected that you may not be having an optimal experience. Why not try this on a desktop device!",
                "Ons het bespeur dat jy dalk nie 'n optimale ervaring beleef nie. Hoekom probeer jy dit nie eerder op 'n rekenaar nie!",
                "Puede que no ests disfrutando de una experiencia ptima. Prueba con un ordenador.",
                "Nous avons constat que vous ne profitiez peut-tre pas d'une exprience optimale. Pourquoi ne pas essayer avec un ordinateur ?",
                "            .       !",
                "Abbiamo rilevato che la tua esperienza potrebbe non essere ottimale. Prova a usare un dispositivo desktop.",
                "Detectamos que sua experincia pode no ser a ideal. Tente usar um dispositivo desktop.",
                "Tumegundua kuwa huenda hupati hali bora ya utumiaji. Kwa nini usiijaribu kwenye kompyuta ya aina yoyote!",
                " ",
                "     .    .",
                "",
                "",
                "Wir haben festgestellt, dass das Experiment auf Ihrem Gert womglich nicht optimal funktioniert. Probieren Sie es doch einmal auf einem Desktop-Gert aus!",
                " ,    -  .     .",
                "Detectamos que es posible que no tengas una experiencia ptima. Prueba en un dispositivo de escritorio.",
                "Kami mendeteksi bahwa Anda mungkin tidak memiliki pengalaman yang optimal. Sebaiknya coba eksperimen ini di perangkat desktop.",
                "Zjistili jsme, e vm experiment mon nefunguje sprvn. Zkuste ho spustit na potai.",
                "Vi har registreret, at din oplevelse muligvis ikke er optimal. Prv eksperimentet p en computer i stedet!",
                "Otkrili smo da moda nemate optimalan doivljaj. Mogli biste pokuati na raunalu!",
                "szrevettk, hogy nem optimlis a felhasznli lmny. Prblja meg asztali eszkzn.",
                "Esam konstatjui, ka js, iespjams, negstat optimlu pieredzi. Izminiet o eksperimentu dator!",
                "We merken dat het niet optimaal voor je werkt. Probeer het eens op een desktop.",
                "Wykrylimy nieoptymaln jako. Sprbuj na komputerze!",
                "Detetmos que pode no estar a ter uma experincia ideal. Tente abri-lo num computador!",
                "Am detectat c este posibil s nu beneficiai de o experien optim. ncercai pe un computer!",
                " ,    . ,   ?",
            ],
            [
                "performance_warning_dismiss",
                "Continue with current device",
                "Gaan voort op huidige toestel",
                "Continuar con el dispositivo actual",
                "Continuer avec l'appareil actuel",
                "     ",
                "Continua con il dispositivo corrente",
                "Continuar com o dispositivo atual",
                "Endelea kutumia kifaa unachotumia sasa",
                "",
                "  ",
                "",
                "",
                "Mit aktuellem Gert fortfahren",
                "   ",
                "Contina con el dispositivo actual",
                "Lanjutkan dengan perangkat saat ini",
                "Pokraovat v aktulnm zazen",
                "Fortst med den aktuelle enhed",
                "Nastavite na trenutanom ureaju",
                "Folytats a jelenlegi eszkzn",
                "Turpint pareizj ierc",
                "Doorgaan met het huidige apparaat",
                "Kontynuuj na biecym urzdzeniu",
                "Continuar com o dispositivo atual",
                "Continuai pe dispozitivul actual",
                "   ",
            ],
            [
                "disclaimer_ios",
                "This is an experiment using the latest web audio technology. It may not perform optimally on iPhone 6 and older devices",
                "Dit is 'n eksperiment wat die jongste weboudiotegnologie gebruik. Dit sal dalk nie optimaal op iPhone 6 en ouer toestelle werk nie",
                "Este experimento utiliza la tecnologa de audio web ms reciente. Es posible que no funcione de forma ptima en el iPhone 6 y en dispositivos ms antiguos.",
                "Cette exprience utilise la technologie audio Web la plus rcente. Il est possible que les performances ne soient pas optimales sur un iPhone 6 et des appareils plus anciens",
                "              .      iPhone 6           ",
                "Questo  un esperimento che utilizza la tecnologia audio sul Web di ultima generazione. Potrebbe non funzionare in modo ottimale su iPhone 6 e dispositivi meno recenti",
                "Este experimento usa tecnologias recentes de udio da Web. Talvez ele no funcione de maneira ideal no iPhone 6 e em dispositivos mais antigos",
                "Hili ni jaribio linalotumia teknolojia mpya zaidi ya sauti kwenye wavuti. Huenda isifanye kazi vyema zaidi kwenye iPhone 6 na vifaa vya zamani",
                "  iPhone 6 ",
                "      . iPhone 6       .",
                " iPhone 6 ",
                "iPhone 6 ",
                "Dieses Experiment basiert auf der neuesten Web-Audiotechnologie. Auf dem iPhone 6 und lteren Gerten funktioniert es mglicherweise nicht optimal.",
                "      ,      iPhone 6    .",
                "Este experimento usa lo ltimo en tecnologa de audio web. Es posible que no funcione correctamente en iPhone 6 ni dispositivos ms antiguos.",
                "Ini adalah eksperimen yang menggunakan teknologi audio web terbaru. Eksperimen ini mungkin tidak berfungsi optimal di iPhone 6 dan perangkat yang lebih lama.",
                "Tento experiment vyuv nejnovj technologie zpracovn webovho zvuku. Na iPhonu 6 a starch zazench nemus fungovat sprvn",
                "Dette er et eksperiment, der anvender den nyeste weblydsteknologi. Det fungerer muligvis ikke optimalt p iPhone 6 og ldre enheder",
                "Ovo je eksperiment u kojem se koristi najnovija audiotehnologija za web. Moda nee optimalno funkcionirati na iPhoneu 6 i starijim ureajima",
                "Ez egy ksrlet, amely a legfejlettebb internetes audiotechnolgit hasznlja. Elfordulhat, hogy az iPhone 6 vagy annl rgebbi eszkzkn nem optimlis a felhasznli lmny.",
                "is ir eksperiments, kur tiek izmantota jaunk tmeka audio tehnoloija. Iespjams, tlrun iPhone 6 un vecks iercs eksperimenta darbba nebs optimla.",
                "Dit is een experiment met de nieuwste webaudiotechnologie. Het werkt misschien niet optimaal op een iPhone 6 of oudere apparaten",
                "To eksperyment wykorzystujcy najnowsze internetowe technologie dwiku. Moe nie dziaa optymalnie na iPhonie 6 i starszych urzdzeniach",
                "Esta experincia utiliza a tecnologia mais recente de udio da Web. Pode no funcionar de forma perfeita no iPhone 6 e em dispositivos mais antigos",
                "Acesta este un experiment care folosete cea mai recent tehnologie audio pentru web. Este posibil s nu funcioneze optim pe iPhone 6 i dispozitive mai vechi",
                "     ,   iPhone 6        ",
            ],
            [
                "info_body_disclaimer_ios",
                "Blob Opera is an experiment using the latest web audio technology and may not perform optimally on iPhone 6 and older devices",
                "Blob Opera is 'n eksperiment wat die jongste weboudiotegnologie gebruik en sal dalk nie optimaal op iPhone 6 en ouer toestelle werk nie",
                "Blob Opera es un experimento que utiliza la tecnologa de audio web ms reciente y puede que no funcione de forma ptima en el iPhone 6 y en dispositivos ms antiguos.",
                "Blob Opera est une exprience qui utilise la technologie audio Web la plus rcente. Il est possible que les performances ne soient pas optimales sur un iPhone 6 et des appareils plus anciens.",
                "Blob Opera              .      iPhone 6           ",
                "Blob Opera  un esperimento che utilizza la tecnologia audio sul Web di ultima generazione e potrebbe non funzionare in modo ottimale su iPhone 6 e dispositivi meno recenti",
                "A Blob Opera  um experimento que usa tecnologias recentes de udio da Web e talvez no funcione de maneira ideal no iPhone 6 e em dispositivos mais antigos.",
                "Blob Opera ni jaribio linalotumia teknolojia mpya zaidi ya sauti kwenye wavuti na huenda lisifanye kazi vyema kwenye iPhone 6 na vifaa vya zamani",
                "Blob Opera   iPhone 6 ",
                "        iPhone 6       .",
                "Blob Opera  iPhone 6 ",
                "Blob Opera iPhone 6 ",
                "Blob Opera ist ein Experiment, das auf der neuesten Web-Audiotechnologie basiert, und funktioniert deshalb mglicherweise auf dem iPhone 6 und lteren Gerten nicht optimal",
                "  Blob Opera    ,      iPhone 6    .",
                "Blob Opera es un experimento que usa lo ltimo en tecnologa de audio web y es posible que no funcione correctamente en iPhone 6 y dispositivos ms antiguos",
                "Blob Opera merupakan eksperimen yang menggunakan teknologi audio web terbaru dan mungkin tidak berfungsi optimal di iPhone 6 dan perangkat yang lebih lama",
                "Blob Opera je experiment, kter vyuv nejnovj technologie zpracovn webovho zvuku a na iPhonu 6 a starch zazench nemus fungovat sprvn",
                "Blob Opera er et eksperiment, der anvender den nyeste weblydsteknologi, hvorfor det muligvis ikke fungerer optimalt p iPhone 6 og ldre enheder",
                "Blob Opera je eksperiment u kojem se koristi najnovija audiotehnologija za web, pa moda nee optimalno funkcionirati na iPhoneu 6 i starijim ureajima",
                "A Blob Opera egy ksrlet, amely a legfejlettebb internetes audiotechnolgit hasznlja, ezrt elfordulhat, hogy az iPhone 6 vagy annl rgebbi eszkzkn nem nyjt optimlis lmnyt.",
                "Blob Opera ir eksperiments, kur tiek izmantota jaunk tmeka audio tehnoloija. Iespjams, tlrun iPhone 6 un vecks iercs eksperimenta darbba nebs optimla.",
                "Blob Opera is een experiment met de nieuwste webaudiotechnologie en werkt misschien niet optimaal op een iPhone 6 of oudere apparaten",
                "Blob Opera to eksperyment wykorzystujcy najnowsze internetowe technologie dwiku i moe nie dziaa optymalnie na iPhonie 6 i starszych urzdzeniach",
                "O Blob Opera  uma experincia que utiliza a tecnologia mais recente de udio da Web e pode no funcionar de forma perfeita no iPhone 6 e em dispositivos mais antigos",
                "Opera cu bule este un experiment care folosete cea mai recent tehnologie audio pentru web i poate s nu funcioneze optim pe iPhone 6 i dispozitive mai vechi",
                "Blob Opera       ,   iPhone 6        ",
            ],
            [
                "disclaimer",
                "This is an experiment using the latest web audio technology. It may not perform optimally on older devices.",
                "Dit is 'n eksperiment wat die jongste weboudiotegnologie gebruik. Dit sal dalk nie optimaal op ouer toestelle werk nie.",
                "Este experimento utiliza la tecnologa de audio web ms reciente. Es posible que no funcione de forma ptima en dispositivos antiguos.",
                "Cette exprience utilise la technologie audio Web la plus rcente. Il est possible que les performances ne soient pas optimales sur des appareils plus anciens.",
                "              .              .",
                "Questo  un esperimento che utilizza la tecnologia audio sul Web di ultima generazione. Potrebbe non funzionare in modo ottimale su dispositivi meno recenti.",
                "Este experimento usa tecnologias recentes de udio da Web. Talvez ele no funcione de maneira ideal em dispositivos mais antigos",
                "Hili ni jaribio linalotumia teknolojia mpya zaidi ya sauti kwenye wavuti. Huenda lisifanye kazi vyema kwenye vifaa vya zamani.",
                "  ",
                "      .       .",
                "",
                "",
                "Dieses Experiment basiert auf der neuesten Web-Audiotechnologie. Auf lteren Gerten funktioniert es deshalb mglicherweise nicht optimal.",
                "      ,        .",
                "Este experimento usa lo ltimo en tecnologa de audio web. Es posible que no funcione correctamente en dispositivos antiguos.",
                "Ini adalah eksperimen yang menggunakan teknologi audio web terbaru. Eksperimen ini mungkin tidak berfungsi optimal di perangkat lama.",
                "Tento experiment vyuv nejnovj technologie zpracovn webovho zvuku. Na starch zazench nemus fungovat sprvn.",
                "Dette er et eksperiment, der anvender den nyeste weblydsteknologi. Det fungerer muligvis ikke optimalt p ldre enheder.",
                "Ovo je eksperiment u kojem se koristi najnovija audiotehnologija za web. Moda nee optimalno funkcionirati na starijim ureajima",
                "Ez egy ksrlet, amely a legfejlettebb internetes audiotechnolgit hasznlja. Elfordulhat, hogy rgebbi eszkzkn nem optimlis a felhasznli lmny.",
                "is ir eksperiments, kur tiek izmantota jaunk tmeka audio tehnoloija. Iespjams, vecks iercs eksperimenta darbba nebs optimla.",
                "Dit is een experiment met de nieuwste webaudiotechnologie. Het werkt misschien niet optimaal op oudere apparaten.",
                "To eksperyment wykorzystujcy najnowsze internetowe technologie dwiku. Moe nie dziaa optymalnie na starszych urzdzeniach.",
                "Esta experincia utiliza a tecnologia mais recente de udio da Web. Pode no funcionar de forma perfeita em dispositivos mais antigos.",
                "Acesta este un experiment care folosete cea mai recent tehnologie audio pentru web. Poate s nu funcioneze optim pe dispozitive mai vechi.",
                "     ,         .",
            ],
            [
                "prompt_locations",
                'Take the blobs on tour!',
                "Neem die blertse op toer!",
                "Llvate a los blobs de gira!",
                "Partez en tourne avec les blobs !",
                "     !",
                "Porta i blob in tour!",
                "Leve os blobs em uma turn mundial!",
                "Peleka blobu kwenye ziara!",
                "",
                "  ",
                " blob ",
                "",
                "Gehen Sie mit den Blobs auf Tour!",
                "    !",
                "Lleva a los blobs de gira!",
                "Ajak para blob melakukan tur",
                "Vezmte bloby na turn!",
                "Tag klumperne med p turn!",
                "Povedite blobove na turneju!",
                "Turnzzon a blobokkal!",
                "Dodieties ar burbuiem turnej!",
                "Ga met de blobs op tournee",
                "Zabierz bloby w tras koncertow!",
                "Leve os blobs em digresso!",
                "Mergei cu bulele n turneu!",
                "    !",
            ],
            [
                "custom_song_link",
                "visit here",
                "visit here",
                "visit here",
                "visit here",
                "visit here",
                "visit here",
                "visit here",
                "visit here",
                "visit here",
                "visit here",
                "visit here",
                "visit here",
                "visit here",
                "visit here",
                "visit here",
                "visit here",
                "visit here",
                "visit here",
                "visit here",
                "visit here",
                "visit here",
                "visit here",
                "visit here",
                "visit here",
            ],
            [
                "location_blobpera_house",
                "The Blobpera House",
                "Die Blobpera-huis",
                "The Blobpera House",
                "La Blobpera House",
                "The Blobpera House",
                "La Blobpera House",
                "Casa de Blobpera",
                "The Blobpera House",
                "",
                "  ",
                "The Blobpera House",
                "",
                "Das Blobpera House",
                " ",
                "Blobpera House",
                "Gedung Blobpera",
                "Blobpern dm",
                "Blobperahuset",
                "Blobperna kua",
                "A Blobperahz",
                "The Blobpera House",
                "Het Blobpera House",
                "The Blobpera House",
                "The Blobpera House",
                "Opera cu bule",
                "  ",
            ],
            [
                "location_london",
                "London, UK",
                "Londen, VK",
                "Londres (Reino Unido)",
                "Londres, Royaume-Uni",
                ", ",
                "Londra, Regno Unito",
                "Londres, Reino Unido",
                "London, Uingereza",
                "",
                " ",
                "",
                "",
                "London, Vereinigtes Knigreich",
                ", ",
                "Londres, Reino Unido",
                "London, Inggris Raya",
                "Londn, Velk Britnie",
                "London, Storbritannien",
                "London, Ujedinjeno Kraljevstvo",
                "London, Egyeslt Kirlysg",
                "Londona, Lielbritnija",
                "Londen (VK)",
                "Londyn, Wielka Brytania",
                "Londres, Reino Unido",
                "Londra, Marea Britanie",
                ", ",
            ],
            [
                "location_paris",
                "Paris, France",
                "Parys, Frankryk",
                "Pars (Francia)",
                "Paris, France",
                ", ",
                "Parigi, Francia",
                "Paris, Frana",
                "Paris, Ufaransa",
                "",
                " ",
                "",
                "",
                "Paris, Frankreich",
                ", ",
                "Pars, Francia",
                "Paris, Prancis",
                "Pa, Francie",
                "Paris, Frankrig",
                "Pariz, Francuska",
                "Prizs, Franciaorszg",
                "Parze, Francija",
                "Parijs, Frankrijk",
                "Pary, Francja",
                "Paris, Frana",
                "Paris, Frana",
                ", ",
            ],
            [
                "location_new_york",
                "New York, USA",
                "New York, VSA",
                "Nueva York (Estados Unidos)",
                "New York, tats-Unis",
                ", ",
                "New York, Stati Uniti",
                "Nova York, EUA",
                "New York, Marekani",
                "",
                " ",
                "",
                "",
                "New York, USA",
                "-, ",
                "Nueva York, Estados Unidos",
                "New York, Amerika Serikat",
                "New York, USA",
                "New York City, USA",
                "New York, SAD",
                "New York, Amerikai Egyeslt llamok",
                "ujorka, ASV",
                "New York, Verenigde Staten",
                "Nowy Jork, Stany Zjednoczone",
                "Nova Iorque, EUA",
                "New York, Statele Unite",
                "-, ",
            ],
            [
                "location_cape_town",
                "Cape Town, South Africa",
                "Kaapstad, Suid-Afrika",
                "Ciudad del Cabo (Sudfrica)",
                "Le Cap, Afrique du Sud",
                " ,  ",
                "Citt del Capo, Sudafrica",
                "Cidade do Cabo, frica do Sul",
                "Cape Town, Afrika Kusini",
                "",
                "  ",
                "",
                "",
                "Kapstadt, Sdafrika",
                ", ",
                "Ciudad del Cabo, Sudfrica",
                "Cape Town, Afrika Selatan",
                "Kapsk Msto, Jihoafrick republika",
                "Cape Town, Sydafrika",
                "Cape Town, Junoafrika Republika",
                "Fokvros, Dl-Afrika",
                "Keiptauna, Dienvidfrika",
                "Kaapstad, Zuid-Afrika",
                "Kapsztad, RPA",
                "Cidade do Cabo, frica do Sul",
                "Cape Town, Africa de Sud",
                ",  ",
            ],
            [
                "location_mexico_city",
                "Mexico City, Mexico",
                "Meksikostad, Meksiko",
                "Ciudad de Mxico (Mxico)",
                "Mexico, Mexique",
                " , ",
                "Citt del Messico, Messico",
                "Cidade do Mxico, Mxico",
                "Mexico City, Meksiko",
                "",
                " ",
                "",
                "",
                "Mexiko-Stadt, Mexiko",
                ", ",
                "Ciudad de Mxico, Mxico",
                "Mexico City, Meksiko",
                "Ciudad de Mxico, Mexiko",
                "Mexico City, Mexico",
                "Mexico City, Meksiko",
                "Mexikvros, Mexik",
                "Mehiko, Meksika",
                "Mexico-Stad, Mexico",
                "Meksyk (miasto), Meksyk",
                "Cidade do Mxico, Mxico",
                "Mexico City, Mexic",
                ", ",
            ],
            [
                "location_seoul",
                "Seoul, South Korea",
                "Seoel, Suid-Korea",
                "Sel (Corea del Sur)",
                "Soul, Core du Sud",
                ",  ",
                "Seul, Corea del Sud",
                "Seul, Coreia do Sul",
                "Seoul, Korea Kusini",
                "",
                " ",
                "",
                "",
                "Seoul, Sdkorea",
                ",  ",
                "Sel, Corea del Sur",
                "Seoul, Korea Selatan",
                "Soul, Jin Korea",
                "Seoul, Sydkorea",
                "Seoul, Juna Koreja",
                "Szul, Dl-Korea",
                "Seula, Dienvidkoreja",
                "Seoel, Zuid-Korea",
                "Seul, Korea Poudniowa",
                "Seul, Coreia do Sul",
                "Seoul, Coreea de Sud",
                ",  ",
            ],
            [
                "song_hallelujah_chorus_name",
                "Hallelujah (Chorus)",
                "Halleluja (koor)",
                "Hallelujah (coros)",
                "Hallelujah (chur)",
                " ()",
                "Hallelujah (Chorus)",
                "Hallelujah (refro)",
                "Hallelujah (Kiitikio)",
                "",
                "Hallelujah()",
                "Hallelujah",
                "()",
                "Halleluja (Chorstck)",
                "Hallelujah (Chorus)",
                "Coro de aleluya",
                "Hallelujah (Chorus)",
                "Aleluja (sbor)",
                "Hallelujah (omkvd)",
                "Aleluja (zbor)",
                "Halleluja (krus)",
                "Hallelujah (koris)",
                "Hallelujah (Koor)",
                "Alleluja (chr)",
                "Hallelujah (refro)",
                "Hallelujah (refren)",
                "Hallelujah ()",
            ],
            [
                "song_hallelujah_chorus_description",
                "George Frideric Handel",
                "George Frideric Handel",
                "George Frideric Handel",
                "Georg Friedrich Haendel",
                "  ",
                "George Frideric Handel",
                "George Frideric Handel",
                "George Frideric Handel",
                "  ",
                "  ",
                "",
                "",
                "Georg Friedrich Hndel",
                "  ",
                "George Frideric Handel",
                "George Frideric Handel",
                "Georg Friedrich Hndel",
                "Georg Friedrich Hndel",
                "George Frideric Handel",
                "Georg Friedrich Hndel",
                "Georgs Frdrihs Hendelis",
                "George Frideric Handel",
                "Georg Friedrich Hndel",
                "George Frideric Handel",
                "George Frideric Handel",
                "  ",
            ],
            [
                "song_londonderry_air_name",
                "Londonderry Air",
                "Londonderry Air",
                "Londonderry Air",
                "Londonderry Air",
                " ",
                "Londonderry Air",
                "Londonderry Air",
                "Londonderry Air",
                "",
                "Londonderry Air",
                "Londonderry Air",
                "",
                "Londonderry Air",
                "Londonderry Air",
                "Londonderry Air",
                "Londonderry Air",
                "Londonderry Air",
                "Londonderry Air",
                "Londonderry Air",
                "Londonderry Air",
                "Londonderry Air",
                "Londonderry Air",
                "Londonderry Air",
                "Londonderry Air",
                "Londonderry Air",
                "Londonderry Air",
            ],
            [
                "song_londonderry_air_description",
                "Traditional Irish song",
                "Tradisionele Ierse liedjie",
                "Cancin tradicional irlandesa",
                "Chant traditionnel irlandais",
                "  ",
                "Brano tradizionale irlandese",
                "Cano tradicional irlandesa",
                "Wimbo wa kitamaduni wa Kiayalandi",
                "",
                " ",
                "",
                "",
                "Irisches Volkslied",
                "  ",
                "Cancin irlandesa tradicional",
                "Lagu tradisional Irlandia",
                "Tradin irsk pse",
                "Traditionel irsk sang",
                "Tradicionalna irska pjesma",
                "Hagyomnyos r dal",
                "Tradicionla ru dziesma",
                "Traditioneel Iers nummer",
                "Tradycyjna pie irlandzka",
                "Cano tradicional irlandesa",
                "Cntec tradiional irlandez",
                "  ",
            ],
            [
                "song_loch_lomond_name",
                "Loch Lomond",
                "Loch Lomond",
                "Loch Lomond",
                "Loch Lomond",
                " ",
                "Loch Lomond",
                "Loch Lomond",
                "Loch Lomond",
                " ",
                "Loch Lomond",
                "Loch Lomond",
                "",
                "Loch Lomond",
                "Loch Lomond",
                "Loch Lomond",
                "Loch Lomond",
                "Loch Lomond",
                "Loch Lomond",
                "Loch Lomond",
                "Loch Lomond",
                "Loch Lomond",
                "Loch Lomond",
                "Loch Lomond",
                "Loch Lomond",
                "Loch Lomond",
                "Loch Lomond",
            ],
            [
                "song_loch_lomond_description",
                "Traditional Scottish song",
                "Tradisionele Skotse liedjie",
                "Cancin tradicional escocesa",
                "Chant traditionnel cossais",
                "  ",
                "Brano tradizionale scozzese",
                "Cano tradicional escocesa",
                "Wimbo wa kitamaduni wa Uskoti",
                "",
                " ",
                "",
                "",
                "Schottisches Volkslied",
                "  ",
                "Cancin escocesa tradicional",
                "Lagu tradisional Skotlandia",
                "Tradin skotsk pse",
                "Traditionel skotsk sang",
                "Tradicionalna kotska pjesma",
                "Hagyomnyos skt dal",
                "Tradicionla skotu dziesma",
                "Traditioneel Schots nummer",
                "Tradycyjna pie szkocka",
                "Cano tradicional escocesa",
                "Cntec tradiional scoian",
                "  ",
            ],
            [
                "song_wellerman_name",
                "Wellerman",
                "Wellerman",
                "Wellerman",
                "Wellerman",
                "",
                "Wellerman",
                "Wellerman",
                "Wellerman",
                "",
                "Wellerman",
                "Wellerman",
                "Wellerman",
                "Wellerman",
                "Wellerman",
                "Wellerman",
                "Wellerman",
                "Wellerman",
                "Wellerman",
                "Wellerman",
                "Wellerman",
                "Wellerman",
                "Wellerman",
                "Wellerman",
                "Wellerman",
                "Wellerman",
                "Wellerman",
            ],
            [
                "song_wellerman_description",
                "Traditional sea shanty",
                "Tradisionele matroosliedjie",
                "Cancin marinera tradicional",
                "Chant de marin traditionnel",
                "  ",
                "Canto marinaresco tradizionale",
                "Cano martima tradicional",
                "Wimbo wa kitamaduni wa mabaharia",
                "",
                " ",
                "",
                "",
                "Traditionelles Seemannslied",
                "  ",
                "Sea shanty tradicional",
                "Yel-yel laut tradisional",
                "Tradin nmonick popvek",
                "Traditionel shanty",
                "Tradicionalna mornarska pjesma",
                "Hagyomnyos tengersznta",
                "Tradicionla jrnieku dziesma",
                "Traditioneel matrozenliedje",
                "Tradycyjna szanta",
                "Cano martima tradicional",
                "Cntec tradiional marinresc",
                "  ",
            ],
            [
                "song_ar_hyd_y_nos_name",
                "Ar Hyd Y Nos",
                "Ar Hyd Y Nos",
                "Ar Hyd Y Nos",
                "Ar Hyd Y Nos",
                "   ",
                "Ar Hyd Y Nos",
                "Ar Hyd Y Nos",
                "Ar Hyd Y Nos",
                "Ar Hyd Y Nos",
                "Ar Hyd Y Nos",
                "Ar Hyd Y Nos",
                "Ar Hyd Y Nos",
                "Ar Hyd Y Nos",
                "Ar Hyd Y Nos",
                "Ar Hyd Y Nos",
                "Ar Hyd Y Nos",
                "Ar Hyd Y Nos",
                "Ar Hyd Y Nos",
                "Ar Hyd Y Nos",
                "Ar Hyd Y Nos",
                "Ar Hyd Y Nos",
                "Ar Hyd Y Nos",
                "Ar Hyd Y Nos",
                "Ar Hyd Y Nos",
                "Ar Hyd Y Nos",
                "Ar Hyd Y Nos",
            ],
            [
                "song_ar_hyd_y_nos_description",
                "Traditional Welsh song",
                "Tradisionele Walliese liedjie",
                "Cancin tradicional galesa",
                "Chant traditionnel gallois",
                "  ",
                "Brano tradizionale gallese",
                "Cano tradicional galesa",
                "Wimbo wa kitamaduni wa Wales",
                "",
                " ",
                "",
                "",
                "Walisisches Volkslied",
                "  ",
                "Cancin galesa tradicional",
                "Lagu tradisional Wales",
                "Tradin velsk pse",
                "Traditionel walisisk sang",
                "Tradicionalna velka pjesma",
                "Hagyomnyos walesi dal",
                "Tradicionla velsieu dziesma",
                "Traditioneel Welsh nummer",
                "Tradycyjna pie walijska",
                "Cano tradicional galesa",
                "Cntec tradiional galez",
                "  ",
            ],
            [
                "song_hun_honge_kamiyab_name",
                "Hum Honge Kamiyab",
                "Hum Honge Kamiyab",
                "Hum Honge Kamiyab",
                "Hum Honge Kamiyab",
                "  ",
                "Hum Honge Kamiyab",
                "Hum Honge Kamiyab",
                "Hum Honge Kamiyab",
                "Hum Honge Kamiyab",
                "Hum Honge Kamiyab",
                "Hum Honge Kamiyab",
                "Hum Honge Kamiyab",
                "Hum Honge Kamiyab",
                "Hum Honge Kamiyab",
                "Hum Honge Kamiyab",
                "Hum Honge Kamiyab",
                "Hum Honge Kamiyab",
                "Hum Honge Kamiyab",
                "Hum Honge Kamiyab",
                "Hum Honge Kamiyab",
                "Hum Honge Kamiyab",
                "Hum Honge Kamiyab",
                "Hum Honge Kamiyab",
                "Hum Honge Kamiyab",
                "Hum Honge Kamiyab",
                "Hum Honge Kamiyab",
            ],
            [
                "song_hun_honge_kamiyab_description",
                "A traditional Hindi song",
                "n Tradisionele Hindi-liedjie",
                "Cancin tradicional india",
                "Chant traditionnel hindi",
                "  ",
                "Brano tradizionale hindi",
                "Cano tradicional hindi",
                "Wimbo wa kitamaduni wa Kihindi",
                "",
                " ",
                "",
                "",
                "Traditionelles Hindi-Lied",
                "  ",
                "Cancin hind tradicional",
                "Lagu tradisional Hindi",
                "Tradin hindsk pse",
                "En traditionel hindisang",
                "Tradicionalna hindska pjesma",
                "Hagyomnyos hindi dal",
                "Tradicionla hindu dziesma",
                "Een traditioneel Hindi nummer",
                "Tradycyjna pie w hindi",
                "Uma cano tradicional em hindi",
                "Cntec tradiional indian",
                "  ",
            ],
            [
                "song_new_world_symphony_name",
                "Symphony No. 9 ",
                "Symphony No. 9 (Negende simfonie)",
                "Sinfona n. 9 ",
                "Symphonie n 9",
                "  9",
                "Sinfonia n. 9",
                "Sinfonia n 9",
                "Symphony No. 9",
                " 9 ",
                "Symphony No. 9",
                "Symphony No. 9",
                "",
                "Symphonie Nr. 9",
                "  9",
                "Sinfona n. 9",
                "Simfoni No. 9",
                "Symfonie . 9",
                "9. symfoni",
                "Simfonija br. 9",
                "9. (j vilg) szimfnia",
                "9. simfonija",
                "Symfonie nr. 9",
                "Symfonia nr 9",
                "Sinfonia N. 9",
                "Simfonia nr. 9",
                " 9",
            ],
            [
                "song_new_world_symphony_description",
                "Antonn Dvok",
                "Antonn Dvok",
                "Antonn Dvok",
                "Antonn Dvok",
                " ",
                "Antonn Dvok",
                "Antonn Dvok",
                "Antonn Dvok",
                " ",
                " ",
                "",
                "",
                "Antonn Dvok",
                " ",
                "Antonn Dvok",
                "Antonn Dvok",
                "Antonn Dvok",
                "Antonn Dvok",
                "Antonn Dvok",
                "Antonn Dvok",
                "Antonns Dvorks",
                "Antonn Dvok",
                "Antonn Dvok",
                "Antonn Dvok",
                "Antonn Dvok",
                " ",
            ],
            [
                "song_down_to_the_river_name",
                "Down to the River to Pray",
                "Down to the River to Pray",
                "Down to the River to Pray",
                "Down to the River to Pray",
                "     ",
                "Down to the River to Pray",
                "Down to the River to Pray",
                "Down to the River to Pray",
                "Down to the River to Pray",
                "Down to the River to Pray",
                "Down to the River to Pray",
                "Down to the River to Pray",
                "Down to the River to Pray",
                "Down to the River to Pray",
                "Down to the River to Pray",
                "Down to the River to Pray",
                "Down to the River to Pray",
                "Down to the River to Pray",
                "Down to the River to Pray",
                "Down to the River to Pray",
                "Down to the River to Pray",
                "Down to the River to Pray",
                "Down to the River to Pray",
                "Down to the River to Pray",
                "Down to the River to Pray",
                "Down to the River to Pray",
            ],
            [
                "song_down_to_the_river_description",
                "American folk song",
                "Amerikaanse volksliedjie",
                "Cancin popular norteamericana",
                "Chanson populaire amricaine",
                "  ",
                "Brano tradizionale statunitense",
                "Cano folclrica americana",
                "Wimbo wa kitamaduni wa Marekani",
                "",
                " ",
                "",
                "",
                "Amerikanisches Spiritual",
                "  ",
                "Cancin popular estadounidense",
                "Lagu rakyat Amerika",
                "Americk lidov pse",
                "Amerikansk folkesang",
                "Amerika narodna pjesma",
                "Amerikai npdal",
                "Ameriku tautas dziesma",
                "Amerikaans volksnummer",
                "Amerykaska piosenka folkowa",
                "Cano folclrica americana",
                "Cntec folk american",
                "  ",
            ],
            [
                "song_frere_jacques_name",
                "Frre Jacques",
                "Frre Jacques (Vader Jakob)",
                "Frre Jacques",
                "Frre Jacques",
                " ",
                "Fra' Martino",
                "Frre Jacques",
                "Frre Jacques",
                " ",
                "Frre Jacques",
                "Frre Jacques",
                "",
                "Frre Jacques",
                "Frre Jacques",
                "Frre Jacques",
                "Frre Jacques",
                "Frre Jacques",
                "Mester Jakob",
                "Frre Jacques",
                "Frre Jacques",
                "Frre Jacques",
                "Vader Jacob",
                "Frre Jacques",
                "Frre Jacques",
                "Frre Jacques",
                "Frre Jacques",
            ],
            [
                "song_frere_jacques_description",
                "Jean-Phillippe Rameau",
                "Jean-Phillippe Rameau",
                "Jean-Phillippe Rameau",
                "Jean-Philippe Rameau",
                "  ",
                "Jean-Phillippe Rameau",
                "Jean-Phillippe Rameau",
                "Jean-Phillippe Rameau",
                " ",
                " ",
                "-",
                "",
                "Jean-Phillippe Rameau",
                "- ",
                "Jean-Phillippe Rameau",
                "Jean-Phillippe Rameau",
                "Jean-Phillippe Rameau",
                "Jean-Philippe Rameau",
                "Jean-Phillippe Rameau",
                "Jean-Phillippe Rameau",
                "ans Filips Ramo",
                "Jean-Phillippe Rameau",
                "Jean-Phillippe Rameau",
                "Jean-Phillippe Rameau",
                "Jean-Phillippe Rameau",
                "- ",
            ],
            [
                "song_gymnopedie_name",
                "Gymnopdie No. 1",
                "Gymnopdie No. 1",
                "Gymnopdie No. 1",
                "Gymnopdie n 1",
                " . 1",
                "Gymnopdie No. 1",
                "Gymnopdie n 1",
                "Gymnopdie No. 1",
                " 1 ",
                "Gymnopdie No. 1",
                "Gymnopdie No. 1",
                "Gymnopdie No. 1",
                "Gymnopdie Nr. 1",
                "Gymnopdie No. 1",
                "Gymnopdie n. 1",
                "Gymnopdie No. 1",
                "Gymnopdie . 1",
                "Gymnopdie nr. 1",
                "Gimnopedija br. 1",
                "1. Gymnopdies",
                "Gymnopdie No. 1",
                "Gymnopdie No. 1",
                "Gymnopdie nr 1",
                "Gymnopdie N. 1",
                "Gymnopdie No. 1",
                "Gymnopdie No. 1",
            ],
            [
                "song_gymnopedie_description",
                "Erik Satie",
                "Erik Satie",
                "Erik Satie",
                "Erik Satie",
                " ",
                "Erik Satie",
                "Erik Satie",
                "Erik Satie",
                " ",
                " ",
                "",
                "",
                "Erik Satie",
                " ",
                "Erik Satie",
                "Erik Satie",
                "Erik Satie",
                "Erik Satie",
                "Erik Satie",
                "Erik Satie",
                "Eriks Sat",
                "Erik Satie",
                "Erik Satie",
                "Erik Satie",
                "Erik Satie",
                " ",
            ],
            [
                "song_habanera_name",
                "Habaera (Carmen)",
                "Habaera (Carmen)",
                "Habanera (Carmen)",
                "Habaera (Carmen)",
                " ()",
                "Habaera (Carmen)",
                "Habaera (Carmen)",
                "Habaera (Carmen)",
                "",
                "Habaera(Carmen)",
                "Habaera",
                "Habaera()",
                "Habaera (Carmen)",
                ' ( "")',
                "Habanera (Carmen)",
                "Habaera (Carmen)",
                "Habaera (Carmen)",
                "Habaera (Carmen)",
                "Habaera (Carmen)",
                "Habanera (Carmen)",
                "Habaera (Karmena)",
                "Habaera (Carmen)",
                "Habaera (Carmen)",
                "Habaera (Carmen)",
                "Habaera (Carmen)",
                "Habaera (Carmen)",
            ],
            [
                "song_habanera_description",
                "Georges Bizet",
                "Georges Bizet",
                "Georges Bizet",
                "Georges Bizet",
                " ",
                "Georges Bizet",
                "Georges Bizet",
                "Georges Bizet",
                " ",
                " ",
                "",
                "",
                "Georges Bizet",
                " ",
                "Georges Bizet",
                "Georges Bizet",
                "Georges Bizet",
                "Georges Bizet",
                "Georges Bizet",
                "Georges Bizet",
                "ors Biz",
                "Georges Bizet",
                "Georges Bizet",
                "Georges Bizet",
                "Georges Bizet",
                " ",
            ],
            [
                "song_shosholoza_name",
                "Shosholoza",
                "Shosholoza",
                "Shosholoza",
                "Shosholoza",
                "",
                "Shosholoza",
                "Shosholoza",
                "Shosholoza",
                "",
                "Shosholoza",
                "Shosholoza",
                "Shosholoza",
                "Shosholoza",
                "Shosholoza",
                "Shosholoza",
                "Shosholoza",
                "Shosholoza",
                "Shosholoza",
                "Shosholoza",
                "Shosholoza",
                "Shosholoza",
                "Shosholoza",
                "Shosholoza",
                "Shosholoza",
                "Shosholoza",
                "Shosholoza",
            ],
            [
                "song_shosholoza_description",
                "South African folk song",
                "Suid-Afrikaanse volksliedjie",
                "Cancin popular sudafricana",
                "Chanson populaire sud-africaine",
                "   ",
                "Brano tradizionale sudafricano",
                "Cano folclrica sul-africana",
                "Wimbo wa kitamaduni wa Afrika Kusini",
                "",
                "  ",
                "",
                "",
                "Sdafrikanisches Volkslied",
                "  ",
                "Cancin popular de Sudfrica",
                "Lagu rakyat Afrika Selatan",
                "Jihoafrick lidov pse",
                "Sydafrikansk folkesang",
                "Junoafrika narodna pjesma",
                "Dl-afrikai npdal",
                "Dienvidfriku tautas dziesma",
                "Zuid-Afrikaans volksnummer",
                "Poudniowoafrykaska piosenka ludowa",
                "Cano folclrica sul-africana",
                "Cntec folk sud-african",
                "  ",
            ],
            [
                "song_when_the_saints_name",
                "When the Saints go Marching In",
                "When the Saints go Marching In",
                "When the Saints go Marching In",
                "When the Saints go Marching In",
                "     ",
                "When the Saints go Marching In",
                "When the Saints go Marching In",
                "When the Saints go Marching In",
                "",
                "When the Saints go Marching In",
                "When the Saints go Marching In",
                "When the Saints go Marching In",
                "When the Saints go Marching In",
                "When the Saints go Marching In",
                "When the Saints go Marching In",
                "When the Saints go Marching In",
                "When the Saints Go Marching In",
                "When the Saints go Marching In",
                "When the Saints go Marching In",
                "When the Saints go Marching In",
                "When the Saints go Marching In",
                "When the Saints go Marching In",
                "When the Saints go Marching In",
                "When the Saints go Marching In",
                "When the Saints go Marching In",
                "When the Saints go Marching In",
            ],
            [
                "song_when_the_saints_description",
                "American gospel song",
                "Amerikaanse gospelliedjie",
                "Cancin gospel norteamericana",
                "Chanson gospel amricaine",
                "       ",
                "Brano gospel statunitense",
                "Cano gospel americana",
                "Wimbo wa injili wa Kimarekani",
                "",
                " ",
                "",
                "",
                "Amerikanischer Gospelsong",
                "    ",
                "Cancin gspel estadounidense",
                "Lagu gospel Amerika",
                "Americk gospel",
                "Amerikansk gospelsang",
                "Amerika gospel pjesma",
                "Amerikai gospel himnusz",
                "Ameriku gospelis",
                "Amerikaans gospelnummer",
                "Amerykaska piosenka gospel",
                "Cano gospel americana",
                "Cntec gospel american",
                "    ",
            ],
            [
                "song_lakdi_ki_kathi_name",
                "Lakdi Ki Kathi",
                "Lakdi Ki Kathi",
                "Lakdi Ki Kathi",
                "Lakdi Ki Kathi",
                "  ",
                "Lakdi Ki Kathi",
                "Lakdi Ki Kathi",
                "Lakdi Ki Kathi",
                "Lakdi Ki Kathi",
                "Lakdi Ki Kathi",
                "Lakdi Ki Kathi",
                "Lakdi Ki Kathi",
                "Lakdi Ki Kathi",
                "Lakdi Ki Kathi",
                "Lakdi Ki Kathi",
                "Lakdi Ki Kathi",
                "Lakdi Ki Kathi",
                "Lakdi Ki Kathi",
                "Lakdi Ki Kathi",
                "Lakdi Ki Kathi",
                "Lakdi Ki Kathi",
                "Lakdi Ki Kathi",
                "Lakdi Ki Kathi",
                "Lakdi Ki Kathi",
                "Lakdi Ki Kathi",
                "Lakdi Ki Kathi",
            ],
            [
                "song_lakdi_ki_kathi_description",
                "Traditional Hindi song",
                "Tradisionele Hindi-liedjie",
                "Cancin tradicional india",
                "Chant traditionnel hindi",
                "  ",
                "Brano tradizionale hindi",
                "Cano tradicional hindi",
                "Wimbo wa kitamaduni wa Kihindi",
                "",
                " ",
                "",
                "",
                "Traditionelles Hindi-Lied",
                "  ",
                "Cancin hind tradicional",
                "Lagu tradisional Hindi",
                "Tradin hindsk pse",
                "Traditionel hindisang",
                "Tradicionalna hindska pjesma",
                "Hagyomnyos hindi dal",
                "Tradicionla hindu dziesma",
                "Traditioneel Hindi nummer",
                "Tradycyjna pie w hindi",
                "Cano tradicional em hindi",
                "Cntec tradiional indian",
                "  ",
            ],
            [
                "song_thula_baba_name",
                "Thula Baba, Thula Sana",
                "Thula Baba, Thula Sana",
                "Thula Baba, Thula Sana",
                "Thula Baba, Thula Sana",
                " ,  ",
                "Thula Baba, Thula Sana",
                "Thula Baba, Thula Sana",
                "Thula Baba, Thula Sana",
                "Thula Baba, Thula Sana",
                "Thula Baba, Thula Sana",
                "Thula Baba, Thula Sana",
                "Thula Baba, Thula Sana",
                "Thula Baba, Thula Sana",
                "Thula Baba, Thula Sana",
                "Thula Baba, Thula Sana",
                "Thula Baba, Thula Sana",
                "Thula Baba, Thula Sana",
                "Thula Baba, Thula Sana",
                "Thula Baba, Thula Sana",
                "Thula Baba, Thula Sana",
                "Thula Baba, Thula Sana",
                "Thula Baba, Thula Sana",
                "Thula Baba, Thula Sana",
                "Thula Baba, Thula Sana",
                "Thula Baba, Thula Sana",
                "Thula Baba, Thula Sana",
            ],
            [
                "song_thula_baba_description",
                "Zulu lullaby",
                "Zoeloe-wiegeliedjie",
                "Cancin de cuna zul",
                "Berceuse zouloue",
                "   ",
                "Ninna nanna zul",
                "Cano de ninar zulu",
                "Bembezi ya Kizulu",
                "",
                " ",
                "",
                "",
                "Zulu-Schlaflied",
                " ",
                "Cancin de cuna zul",
                "Lagu tidur Zulu",
                "Zulusk ukolbavka",
                "Zuluvise",
                "Zulu uspavanka",
                "Zulu altat",
                "Zulu pudziesma",
                "Zulu slaapliedje",
                "Koysanka zuluska",
                "Cano de embalar zulu",
                "Cntec de leagn Zulu",
                " ",
            ],
            [
                "song_country_club_name",
                "Country Club",
                "Country Club",
                "Country Club",
                "Country Club",
                " ",
                "Country Club",
                "Country Club",
                "Country Club",
                " ",
                "Country Club",
                "Country Club",
                "Country Club",
                "Country Club",
                "Country Club",
                "Country Club",
                "Country Club",
                "Country Club",
                "Country Club",
                "Country Club",
                "Country Club",
                "Country Club",
                "Countryclub",
                "Country Club",
                "Country Club",
                "Country Club",
                "Country Club",
            ],
            [
                "song_country_club_description",
                "Scott Joplin",
                "Scott Joplin",
                "Scott Joplin",
                "Scott Joplin",
                " ",
                "Scott Joplin",
                "Scott Joplin",
                "Scott Joplin",
                " ",
                " ",
                "",
                "",
                "Scott Joplin",
                " ",
                "Scott Joplin",
                "Scott Joplin",
                "Scott Joplin",
                "Scott Joplin",
                "Scott Joplin",
                "Scott Joplin",
                "Skots Doplins",
                "Scott Joplin",
                "Scott Joplin",
                "Scott Joplin",
                "Scott Joplin",
                " ",
            ],
            [
                "song_la_bamba_name",
                "La Bamba",
                "La Bamba",
                "La bamba",
                "La Bamba",
                " ",
                "La Bamba",
                "La Bamba",
                "La Bamba",
                " ",
                "La Bamba",
                "La Bamba",
                "La Bamba",
                "La Bamba",
                "La bamba",
                "La bamba",
                "La Bamba",
                "La Bamba",
                "La Bamba",
                "La Bamba",
                "La Bamba",
                "La Bamba",
                "La Bamba",
                "La Bamba",
                "La Bamba",
                "La Bamba",
                "La Bamba",
            ],
            [
                "song_la_bamba_description",
                "Mexican folk song",
                "Meksikaanse volksliedjie",
                "Cancin popular mexicana",
                "Chanson populaire mexicaine",
                "  ",
                "Brano tradizionale messicano",
                "Cano folclrica mexicana",
                "Wimbo wa kitamaduni wa Kimeksiko",
                "",
                " ",
                "",
                "",
                "Mexikanisches Volkslied",
                "  ",
                "Cancin popular mexicana",
                "Lagu rakyat Meksiko",
                "Mexick lidov pse",
                "Mexicansk folkesang",
                "Meksika narodna pjesma",
                "Mexiki npdal",
                "Meksiku tautas dziesma",
                "Mexicaans volksnummer",
                "Meksykaska piosenka ludowa",
                "Cano folclrica mexicana",
                "Cntec folk mexican",
                "  ",
            ],
            [
                "song_summertime_name",
                "Summertime",
                "Summertime",
                "Summertime",
                "Summertime",
                "",
                "Summertime",
                "Summertime",
                "Summertime",
                "",
                "Summertime",
                "Summertime",
                "",
                "Summertime",
                "Summertime",
                "Summertime",
                "Summertime",
                "Summertime",
                "Summertime",
                "Summertime",
                "Summertime",
                "Summertime",
                "Summertime",
                "Summertime",
                "Summertime",
                "Summertime",
                "Summertime",
            ],
            [
                "song_summertime_description",
                "George Gershwin",
                "George Gershwin",
                "George Gershwin",
                "George Gershwin",
                " ",
                "George Gershwin",
                "George Gershwin",
                "George Gershwin",
                " ",
                " ",
                "",
                "",
                "George Gershwin",
                " ",
                "George Gershwin",
                "George Gershwin",
                "George Gershwin",
                "George Gershwin",
                "George Gershwin",
                "George Gershwin",
                "Dords Grvins",
                "George Gershwin",
                "George Gershwin",
                "George Gershwin",
                "George Gershwin",
                " ",
            ],
            [
                "song_la_llorona_name",
                "La Llorona",
                "La Llorona",
                "La llorona",
                "La Llorona",
                " ",
                "La Llorona",
                "La Llorona",
                "La Llorona",
                " ",
                "La Llorona",
                "La Llorona",
                "La Llorona",
                "La Llorona",
                "La Llorona",
                "La llorona",
                "La Llorona",
                "La Llorona",
                "La Llorona",
                "La Llorona",
                "La Llorona",
                "La Llorona",
                "La Llorona",
                "La Llorona",
                "La Llorona",
                "La Llorona",
                "La Llorona",
            ],
            [
                "song_la_llorona_description",
                "Mexican folk song",
                "Meksikaanse volksliedjie",
                "Cancin popular mexicana",
                "Chanson populaire mexicaine",
                "  ",
                "Brano tradizionale messicano",
                "Cano folclrica mexicana",
                "Wimbo wa kitamaduni wa Kimeksiko",
                "",
                " ",
                "",
                "",
                "Mexikanisches Volkslied",
                "  ",
                "Cancin popular mexicana",
                "Lagu rakyat Meksiko",
                "Mexick lidov pse",
                "Mexicansk folkesang",
                "Meksika narodna pjesma",
                "Mexiki npdal",
                "Meksiku tautas dziesma",
                "Mexicaans volksnummer",
                "Meksykaska piosenka ludowa",
                "Cano folclrica mexicana",
                "Cntec folk mexican",
                "  ",
            ],
            [
                "song_dynamite_name",
                "Dynamite ",
                "Dynamite",
                "Dynamite ",
                "Dynamite",
                "",
                "Dynamite",
                "Dynamite",
                "Dynamite",
                "Dynamite",
                "Dynamite",
                "Dynamite",
                "Dynamite",
                "Dynamite",
                "Dynamite",
                "Dynamite",
                "Dynamite",
                "Dynamite",
                "Dynamite",
                "Dynamite",
                "Dynamite",
                "Dynamite",
                "Dynamite",
                "Dynamite",
                "Dynamite",
                "Dynamite",
                "Dynamite",
            ],
            [
                "song_dynamite_description",
                "BTS",
                "BTS",
                "BTS",
                "BTS",
                "",
                "BTS",
                "BTS",
                "BTS",
                "BTS",
                "",
                "",
                "",
                "BTS",
                "BTS",
                "BTS",
                "BTS",
                "BTS",
                "BTS",
                "BTS",
                "BTS",
                "BTS",
                "BTS",
                "BTS",
                "BTS",
                "BTS",
                "BTS",
            ],
            [
                "song_dios_nunca_muera_name",
                "Dios Nunca Muere",
                "Dios Nunca Muere",
                "Dios nunca muere",
                "Dios Nunca Muere",
                "  ",
                "Dios Nunca Muere",
                "Dios Nunca Muere",
                "Dios Nunca Muere",
                "Dios Nunca Muere",
                "Dios Nunca Muere",
                "Dios Nunca Muere",
                "Dios Nunca Muere",
                "Dios Nunca Muere",
                "Dios Nunca Muere",
                "Dios Nunca Muere",
                "Dios Nunca Muere",
                "Dios Nunca Muere",
                "Dios Nunca Muere",
                "Dios Nunca Muere",
                "Dios Nunca Muere",
                "Dios Nunca Muere",
                "Dios Nunca Muere",
                "Dios Nunca Muere",
                "Dios Nunca Muere",
                "Dios Nunca Muere",
                "Dios Nunca Muere",
            ],
            [
                "song_dios_nunca_muera_description",
                "Macedonio Alcal",
                "Macedonio Alcal",
                "Macedonio Alcal",
                "Macedonio Alcal",
                " ",
                "Macedonio Alcal",
                "Macedonio Alcal",
                "Macedonio Alcal",
                " ",
                " ",
                "",
                "",
                "Macedonio Alcal",
                " ",
                "Macedonio Alcal",
                "Macedonio Alcal",
                "Macedonio Alcal",
                "Macedonio Alcal",
                "Macedonio Alcal",
                "Macedonio Alcal",
                "Masedonio Alkala",
                "Macedonio Alcal",
                "Macedonio Alcal",
                "Macedonio Alcal",
                "Macedonio Alcal",
                " ",
            ],
            [
                "song_nkosi_name",
                "Nkosi Sikelel' iAfrika",
                "Nkosi Sikelel' iAfrika",
                "Nkosi Sikelel' iAfrika",
                "Nkosi Sikelel' iAfrika",
                "  ",
                "Nkosi Sikelel' iAfrika",
                "Nkosi Sikelel' iAfrika",
                "Nkosi Sikelel' iAfrika",
                "Nkosi Sikelel' iAfrika",
                "Nkosi Sikelel' iAfrika",
                "Nkosi Sikelel' iAfrika",
                "",
                "Nkosi Sikelel' iAfrika",
                "Nkosi Sikelel' iAfrika",
                "Nkosi Sikelel' iAfrika",
                "Nkosi Sikelel' iAfrika",
                "Nkosi Sikelel' iAfrika",
                "Nkosi Sikelel' iAfrika",
                "Nkosi Sikelel' iAfrika",
                "Nkosi Sikelel' iAfrika",
                "Nkosi Sikelel' iAfrika",
                "Nkosi Sikelel' iAfrika",
                "Nkosi Sikelel' iAfrika",
                "Nkosi Sikelel' iAfrika",
                "Nkosi Sikelel' iAfrika",
                "Nkosi Sikelel' iAfrika",
            ],
            [
                "song_nkosi_description",
                "Enoch Sontonga",
                "Enoch Sontonga",
                "Enoch Sontonga",
                "Enoch Sontonga",
                " ",
                "Enoch Sontonga",
                "Enoch Sontonga",
                "Enoch Sontonga",
                " ",
                " ",
                "",
                "",
                "Enoch Sontonga",
                " ",
                "Enoch Sontonga",
                "Enoch Sontonga",
                "Enoch Sontonga",
                "Enoch Sontonga",
                "Enoch Sontonga",
                "Enoch Sontonga",
                "Enohs Sontonga",
                "Enoch Sontonga",
                "Enoch Sontonga",
                "Enoch Sontonga",
                "Enoch Sontonga",
                " ",
            ],
            [
                "song_arirang_name",
                "Arirang",
                "Arirang",
                "Arirang",
                "Arirang",
                "",
                "Arirang",
                "Arirang",
                "Arirang",
                "",
                "",
                "",
                "",
                "Arirang",
                "Arirang",
                "Arirang",
                "Arirang",
                "Arirang",
                "Arirang",
                "Arirang",
                "Arirang",
                "Arirang",
                "Arirang",
                "Arirang",
                "Arirang",
                "Arirang",
                "Arirang",
            ],
            [
                "song_arirang_description",
                "Korean folk song",
                "Koreaanse volksliedjie",
                "Cancin popular coreana",
                "Chanson populaire corenne",
                "  ",
                "Brano tradizionale coreano",
                "Cano folclrica coreana",
                "Wimbo wa kitamaduni wa Kikorea",
                "",
                " ",
                "",
                "",
                "Koreanisches Volkslied",
                "  ",
                "Cancin popular coreana",
                "Lagu rakyat Korea",
                "Korejsk lidov pse",
                "Koreansk folkesang",
                "Korejska narodna pjesma",
                "Koreai npdal",
                "Korejieu tautas dziesma",
                "Koreaans volksnummer",
                "Koreaska piosenka ludowa",
                "Cano folclrica coreana",
                "Cntec folk coreean",
                "  ",
            ],
            [
                "song_han_river_name",
                "Han River",
                "Han River",
                "Han River",
                "Han River",
                " ",
                "Han River",
                "Han River",
                "Han River",
                "",
                "",
                "",
                "",
                "Han River",
                "Han River",
                "Han River",
                "Han River",
                "eka Han",
                "Han-floden",
                "Han River",
                "Han",
                "Han River",
                "Han River",
                "Han River",
                "Han River",
                "Han River",
                "Han River",
            ],
            [
                "song_han_river_description",
                "Korean folk song",
                "Koreaanse volksliedjie",
                "Cancin popular coreana",
                "Chanson populaire corenne",
                "  ",
                "Brano tradizionale coreano",
                "Cano folclrica coreana",
                "Wimbo wa kitamaduni wa Kikorea",
                "",
                " ",
                "",
                "",
                "Koreanisches Volkslied",
                "  ",
                "Cancin popular coreana",
                "Lagu rakyat Korea",
                "Korejsk lidov pse",
                "Koreansk folkesang",
                "Korejska narodna pjesma",
                "Koreai npdal",
                "Korejieu tautas dziesma",
                "Koreaans volksnummer",
                "Koreaska piosenka ludowa",
                "Cano folclrica coreana",
                "Cntec folk coreean",
                "  ",
            ],
            [
                "song_doraji_name",
                "Doraji Taryeong",
                "Doraji Taryeong",
                "Doraji Taryeong",
                "Doraji Taryeong",
                " ",
                "Doraji Taryeong",
                "Doraji Taryeong",
                "Doraji Taryeong",
                "",
                "",
                "",
                "",
                "Doraji Taryeong",
                "Doraji Taryeong",
                "Doraji Taryeong",
                "Doraji Taryeong",
                "Doraji Taryeong",
                "Doraji Taryeong",
                "Doraji Taryeong",
                "Doraji taryeong",
                "Doraji Taryeong",
                "Doraji Taryeong",
                "Doraji Taryeong",
                "Doraji Taryeong",
                "Doraji Taryeong",
                "Doraji Taryeong",
            ],
            [
                "song_doraji_description",
                "Korean folk song",
                "Koreaanse volksliedjie",
                "Cancin popular coreana",
                "Chanson populaire corenne",
                "  ",
                "Brano tradizionale coreano",
                "Cano folclrica coreana",
                "Wimbo wa kitamaduni wa Kikorea",
                "",
                " ",
                "",
                "",
                "Koreanisches Volkslied",
                "  ",
                "Cancin popular coreana",
                "Lagu rakyat Korea",
                "Korejsk lidov pse",
                "Koreansk folkesang",
                "Korejska narodna pjesma",
                "Koreai npdal",
                "Korejieu tautas dziesma",
                "Koreaans volksnummer",
                "Koreaska piosenka ludowa",
                "Cano folclrica coreana",
                "Cntec folk coreean",
                "  ",
            ],
            [
                "song_jingle_bells_name",
                "Jingle Bells",
                "Jingle Bells",
                "Jingle Bells",
                "Jingle Bells",
                " ",
                "Jingle Bells",
                "Jingle Bells",
                "Jingle Bells",
                "",
                "Jingle Bells",
                "",
                "",
                "Jingle Bells",
                "Jingle Bells",
                "Jingle Bells",
                "Jingle Bells",
                "Rolniky",
                "Jingle Bells",
                "Jingle Bells",
                "Jingle Bells",
                "Jingle Bells (Zvani skan)",
                "Jingle Bells",
                "Jingle Bells",
                "Jingle Bells",
                "Jingle Bells",
                "Jingle Bells",
            ],
            [
                "song_silent_night_name",
                "Silent Night",
                "Silent Night (Stille nag)",
                "Silent Night",
                "Silent Night",
                " ",
                "Astro del Ciel",
                "Silent Night",
                "Silent Night",
                "",
                "Silent Night",
                "Silent Night",
                "",
                "Silent Night",
                "Silent Night",
                "Silent Night",
                "Silent Night",
                "Tich noc",
                "Silent Night",
                "Silent Night",
                "Csendes j",
                "Silent Night (Klusa nakts)",
                "Stille Nacht",
                "Silent Night",
                "Silent Night",
                "Silent Night",
                "Silent Night",
            ],
            [
                "song_joy_to_the_world_name",
                "Joy to the World",
                "Joy to the World",
                "Joy to the World",
                "Joy to the World",
                "   ",
                "Joy to the World",
                "Joy to the World",
                "Joy to the World",
                "",
                "Joy to the World",
                "Joy to the World",
                "",
                "Joy to the World",
                "Joy to the World",
                "Joy to the World",
                "Joy to the World",
                "Joy to the World",
                "Joy to the World",
                "Joy to the World",
                "Joy to the World",
                "Joy to the World (Prieks pasaulei)",
                "Joy to the World",
                "Joy to the World",
                "Joy to the World",
                "Joy to the World",
                "Joy to the World",
            ],
            [
                "song_hark_the_herald_angels_sing_name",
                "Hark! The Herald Angels Sing",
                "Hark! The Herald Angels Sing",
                "Hark! The Herald Angels Sing",
                "Hark! The Herald Angels Sing",
                "!    ",
                "Hark! The Herald Angels Sing",
                "Hark! The Herald Angels Sing",
                "Hark! The Herald Angels Sing",
                "",
                "Hark! The Herald Angels Sing",
                "Hark! The Herald Angels Sing",
                "",
                "Hark! The Herald Angels Sing",
                "Hark! The Herald Angels Sing",
                "Hark! The Herald Angels Sing",
                "Hark! The Herald Angels Sing",
                "Hark! The Herald Angels Sing",
                "Hark! The Herald Angels Sing",
                "Hark! The Herald Angels Sing",
                "Hark! The Herald Angels Sing",
                "Hark! The Herald Angels Sing",
                "Hark! The Herald Angels Sing",
                "Hark! The Herald Angels Sing",
                "Hark! The Herald Angels Sing",
                "Hark! The Herald Angels Sing",
                "Hark! The Herald Angels Sing",
            ],
            [
                "song_away_in_a_manger_name",
                "Away in a Manger",
                "Away in a Manger (Al was ek nie daar nie)",
                "Away in a Manger",
                "Away in a Manger",
                "   ",
                "Away in a Manger",
                "Away in a Manger",
                "Away in a Manger",
                "",
                "Away in a Manger",
                "Away in a Manger",
                "",
                "Away in a Manger",
                "Away in a Manger",
                "Away in a Manger",
                "Away in a Manger",
                "Away in a Manger",
                "Away in a Manger",
                "Away in a Manger",
                "Away in a Manger",
                "Away in a Manger (Tur Btlem, silt)",
                "Away in a Manger",
                "Away in a Manger",
                "Away in a Manger",
                "Away in a Manger",
                "Away in a Manger",
            ],
            [
                "song_o_come_all_ye_faithful_name",
                "O Come All Ye Faithful",
                "O Come All Ye Faithful (Kom alle getroues)",
                "O Come All Ye Faithful",
                "O Come All Ye Faithful",
                "    ",
                "Adeste fideles",
                "O Come All Ye Faithful",
                "O Come All Ye Faithful",
                "",
                "O Come All Ye Faithful",
                "O Come All Ye Faithful",
                "",
                "O Come All Ye Faithful",
                "O Come All Ye Faithful",
                "O Come All Ye Faithful",
                "O Come All Ye Faithful",
                "O Come All Ye Faithful",
                "O Come All Ye Faithful",
                "O Come All Ye Faithful",
                "Adeste fideles",
                "O Come All Ye Faithful (Ak, ticgie, nciet)",
                "O Come All Ye Faithful",
                "O Come All Ye Faithful",
                "O Come All Ye Faithful",
                "O Come All Ye Faithful",
                "O Come All Ye Faithful",
            ],
            [
                "song_the_first_noel_name",
                "The First Noel",
                "The First Noel",
                "The First Noel",
                "The First Noel",
                "  ",
                "The First Noel",
                "The First Noel",
                "The First Noel",
                "",
                "The First Noel",
                "The First Noel",
                "",
                "The First Noel",
                "The First Noel",
                "The First Noel",
                "The First Noel",
                "The First Noel",
                "The First Noel",
                "The First Noel",
                "The First Noel",
                "The First Noel",
                "The First Noel",
                "The First Noel",
                "The First Noel",
                "The First Noel",
                "The First Noel",
            ],
            [
                "song_once_in_royal_davids_city_name",
                "Once in Royal David's City",
                "Once in Royal David's City",
                "Once in Royal David's City",
                "Once in Royal David's City",
                "    ",
                "Once in Royal David's City",
                "Once in Royal David's City",
                "Once in Royal David's City",
                "",
                "Once in Royal David's City",
                "Once in Royal David's City",
                "",
                "Once in Royal David's City",
                "Once in Royal David's City",
                "Once in Royal David's City",
                "Once in Royal David's City",
                "Once in Royal David's City",
                "Once in Royal David's City",
                "Once in Royal David's City",
                "Once in Royal David's City",
                "Once in Royal David's City",
                "Once in Royal David's City",
                "Once in Royal David's City",
                "Once in Royal David's City",
                "Once in Royal David's City",
                "Once in Royal David's City",
            ],
            [
                "song_auld_lang_syne_name",
                "Auld Lang Syne",
                "Auld Lang Syne",
                "Auld Lang Syne",
                "Auld Lang Syne",
                "  ",
                "Auld Lang Syne",
                "Auld Lang Syne",
                "Auld Lang Syne",
                "",
                "Auld Lang Syne",
                "",
                "",
                "Auld Lang Syne",
                "Auld Lang Syne",
                "Auld Lang Syne",
                "Auld Lang Syne",
                "Auld Lang Syne",
                "Auld Lang Syne",
                "Auld Lang Syne",
                "Gyertyafny kering",
                "Auld Lang Syne",
                "Auld Lang Syne",
                "Auld Lang Syne",
                "Auld Lang Syne",
                "Auld Lang Syne",
                "Auld Lang Syne",
            ],
            [
                "prompt_newyear",
                "Ring in the New Year!",
                "Lui die nuwe jaar in!",
                "Ring in the New Year!",
                "Ftez la nouvelle anne !",
                "    !",
                "Accogli il nuovo anno in musica!",
                "Feliz Ano Novo!",
                "Ring in the New Year!",
                "",
                "Ring in the New Year!",
                "",
                "",
                "Lute das neue Jahr ein!",
                "  !",
                "Canta en Ao Nuevo!",
                "Ring in the New Year!",
                "Pivtejte nov rok!",
                "Ring nytret ind!",
                "Ring in the New Year!",
                "Ring in the New Year!",
                "Ring in the New Year! (Ieskandiniet Jauno gadu!)",
                "Luid het nieuwe jaar in",
                "Ring in the New Year!",
                "Ring in the New Year!",
                "S srbtorim intrarea n noul an!",
                "  !",
            ],
            [
                "prompt_newyear_song",
                "Sing Auld Lang Syne ",
                "Sing Auld Lang Syne",
                "Sing Auld Lang Syne ",
                'Chantez "Auld Lang Syne"',
                "   ",
                "Canta Auld Lang Syne",
                "Cante Auld Lang Syne",
                "Sing Auld Lang Syne",
                "",
                "Sing Auld Lang Syne",
                "",
                "",
                "Auld Lang Syne singen",
                " Auld Lang Syne",
                "Canta Auld Lang Syne",
                "Sing Auld Lang Syne",
                "Zazpvejte si Auld Lang Syne",
                "Syng Auld Lang Syne",
                "Pjevajte Auld Lang Syne",
                "nekelje a Gyertyafny keringt",
                "Dziediet dziesmu Auld Lang Syne",
                "Zing Auld Lang Syne",
                "Zapiewaj Auld Lang Syne",
                "Sing Auld Lang Syne",
                "Cntai Auld Lang Syne",
                " Auld Lang Syne",
            ],
            [
                "axl_share_festive_recording_cc",
                "Listen to <song> performed by Blob Opera. Then play four opera voices to create your own composition  ",
                "Luister na <song>, uitgevoer deur Blob Opera. Speel dan vier operastemme om jou eie komposisie te skep",
                "Escucha <song> interpretada por Blob Opera. Luego, reproduce las cuatro voces de pera para crear tu propia composicin ",
                'coutez "<song>" interprte par le Blob Opera. Faites ensuite chanter quatre voix d\'opra pour crer votre propre uvre ',
                " <song>   Blob Opera   ,    .  ,     ,      ",
                "Ascolta <song> eseguita da Blob Opera. Poi fai cantare quattro voci liriche per creare la tua composizione",
                "Oua a cano <song> cantada pela Blob Opera. Em seguida, toque quatro vozes de pera para criar sua prpria composio",
                "Sikiliza <song> unaoimbwa na Blob Opera. Kisha ucheze sauti nne za opera ili utunge wimbo wako mwenyewe ",
                "Blob Opera  <song>  4  ",
                "   <song>() .        . ",
                " Blob Opera <song> 4  ",
                " Blob Opera <song>",
                "Hren Sie sich <song> an, vorgetragen von Blob Opera. Kreieren Sie dann mit den vier Opernstimmen eine eigene Komposition ",
                '  "<song>"   Blob Opera,        . ',
                "Escucha <song> interpretada por Blob Opera. Luego, reproduce las cuatro voces de pera para crear tu propia composicin ",
                "Dengarkan lagu <song> yang dibawakan oleh Blob Opera. Kemudian mainkan empat suara opera untuk menciptakan komposisi Anda sendiri. ",
                "Poslechnte si <song> v podn Blob Opera. Potom si hrajte se tymi opernmi hlasy a vytvote z nich vlastn skladbu ",
                "Hr <song> af Blob Opera. Afspil derefter fire operastemmer for at skabe din egen komposition ",
                'Sluajte pjesmu <song> u izvedbi Blob Opere. Zatim "svirajte" etiri operna glasa da biste skladali vlastitu skladbu ',
                "Hallgassa meg a(z) <song> cm dalt a Blob Opera eladsban. Jtsszon ngy operanekes hangjn, majd szerezzen sajt zent. ",
                "Klausieties, k dziesmu <song> atskao Blob Opera dziedtji. Pc tam atskaojiet etras operdziedtju balsis, lai sacertu savu skadarbu. ",
                "Luister naar <song> uitgevoerd door Blob Opera. Speel daarna 4 operastemmen af en stel je eigen compositie samen ",
                "Posuchaj utworu <song> w wykonaniu Blob Opera. Nastpnie odtwrz 4 gosy operowe i stwrz wasn kompozycj ",
                "Oua <song> interpretada pelo Blob Opera. Em seguida, toque quatro vozes de pera para criar a sua prpria composio ",
                "Ascultai <song> interpretat de Opera cu bule. Apoi redai patru voci de oper pentru a crea propria compoziie ",
                "  <song>   Blob Opera,         ",
            ],
        ];
    },
    function (e, t, n) {
        "use strict";
        var i,
            o = function () {
                return void 0 === i && (i = Boolean(window && document && document.all && !window.atob)), i;
            },
            a = (function () {
                var e = {};
                return function (t) {
                    if (void 0 === e[t]) {
                        var n = document.querySelector(t);
                        if (window.HTMLIFrameElement && n instanceof window.HTMLIFrameElement)
                            try {
                                n = n.contentDocument.head;
                            } catch (e) {
                                n = null;
                            }
                        e[t] = n;
                    }
                    return e[t];
                };
            })(),
            r = [];
        function s(e) {
            for (var t = -1, n = 0; n < r.length; n++)
                if (r[n].identifier === e) {
                    t = n;
                    break;
                }
            return t;
        }
        function l(e, t) {
            for (var n = {}, i = [], o = 0; o < e.length; o++) {
                var a = e[o],
                    l = t.base ? a[0] + t.base : a[0],
                    u = n[l] || 0,
                    c = "".concat(l, " ").concat(u);
                n[l] = u + 1;
                var h = s(c),
                    d = { css: a[1], media: a[2], sourceMap: a[3] };
                -1 !== h
                    ? (r[h].references++, r[h].updater(d))
                    : r.push({ identifier: c, updater: g(d, t), references: 1 }),
                    i.push(c);
            }
            return i;
        }
        function u(e) {
            var t = document.createElement("style"),
                i = e.attributes || {};
            if (void 0 === i.nonce) {
                var o = n.nc;
                o && (i.nonce = o);
            }
            if (
                (Object.keys(i).forEach(function (e) {
                    t.setAttribute(e, i[e]);
                }),
                "function" == typeof e.insert)
            )
                e.insert(t);
            else {
                var r = a(e.insert || "head");
                if (!r)
                    throw new Error(
                        "Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid."
                    );
                r.appendChild(t);
            }
            return t;
        }
        var c,
            h =
                ((c = []),
                function (e, t) {
                    return (c[e] = t), c.filter(Boolean).join("\n");
                });
        function d(e, t, n, i) {
            var o = n ? "" : i.media ? "@media ".concat(i.media, " {").concat(i.css, "}") : i.css;
            if (e.styleSheet) e.styleSheet.cssText = h(t, o);
            else {
                var a = document.createTextNode(o),
                    r = e.childNodes;
                r[t] && e.removeChild(r[t]), r.length ? e.insertBefore(a, r[t]) : e.appendChild(a);
            }
        }
        function p(e, t, n) {
            var i = n.css,
                o = n.media,
                a = n.sourceMap;
            if (
                (o ? e.setAttribute("media", o) : e.removeAttribute("media"),
                a &&
                    "undefined" != typeof btoa &&
                    (i += "\n/*# sourceMappingURL=data:application/json;base64,".concat(
                        btoa(unescape(encodeURIComponent(JSON.stringify(a)))),
                        " */"
                    )),
                e.styleSheet)
            )
                e.styleSheet.cssText = i;
            else {
                for (; e.firstChild; ) e.removeChild(e.firstChild);
                e.appendChild(document.createTextNode(i));
            }
        }
        var m = null,
            f = 0;
        function g(e, t) {
            var n, i, o;
            if (t.singleton) {
                var a = f++;
                (n = m || (m = u(t))), (i = d.bind(null, n, a, !1)), (o = d.bind(null, n, a, !0));
            } else
                (n = u(t)),
                    (i = p.bind(null, n, t)),
                    (o = function () {
                        !(function (e) {
                            if (null === e.parentNode) return !1;
                            e.parentNode.removeChild(e);
                        })(n);
                    });
            return (
                i(e),
                function (t) {
                    if (t) {
                        if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap) return;
                        i((e = t));
                    } else o();
                }
            );
        }
        e.exports = function (e, t) {
            (t = t || {}).singleton || "boolean" == typeof t.singleton || (t.singleton = o());
            var n = l((e = e || []), t);
            return function (e) {
                if (((e = e || []), "[object Array]" === Object.prototype.toString.call(e))) {
                    for (var i = 0; i < n.length; i++) {
                        var o = s(n[i]);
                        r[o].references--;
                    }
                    for (var a = l(e, t), u = 0; u < n.length; u++) {
                        var c = s(n[u]);
                        0 === r[c].references && (r[c].updater(), r.splice(c, 1));
                    }
                    n = a;
                }
            };
        };
    },
    function (e, t, n) {
        "use strict";
        e.exports = function (e) {
            var t = [];
            return (
                (t.toString = function () {
                    return this.map(function (t) {
                        var n = e(t);
                        return t[2] ? "@media ".concat(t[2], " {").concat(n, "}") : n;
                    }).join("");
                }),
                (t.i = function (e, n, i) {
                    "string" == typeof e && (e = [[null, e, ""]]);
                    var o = {};
                    if (i)
                        for (var a = 0; a < this.length; a++) {
                            var r = this[a][0];
                            null != r && (o[r] = !0);
                        }
                    for (var s = 0; s < e.length; s++) {
                        var l = [].concat(e[s]);
                        (i && o[l[0]]) ||
                            (n && (l[2] ? (l[2] = "".concat(n, " and ").concat(l[2])) : (l[2] = n)), t.push(l));
                    }
                }),
                t
            );
        };
    },
    function (e, t, n) {
        (function (e) {
            !(function (e) {
                "use strict";
                var t,
                    n = (function () {
                        try {
                            if (e.URLSearchParams && "bar" === new e.URLSearchParams("foo=bar").get("foo"))
                                return e.URLSearchParams;
                        } catch (e) {}
                        return null;
                    })(),
                    i = n && "a=1" === new n({ a: 1 }).toString(),
                    o = n && "+" === new n("s=%2B").get("s"),
                    a = !n || ((t = new n()).append("s", " &"), "s=+%26" === t.toString()),
                    r = c.prototype,
                    s = !(!e.Symbol || !e.Symbol.iterator);
                if (!(n && i && o && a)) {
                    (r.append = function (e, t) {
                        f(this.__URLSearchParams__, e, t);
                    }),
                        (r.delete = function (e) {
                            delete this.__URLSearchParams__[e];
                        }),
                        (r.get = function (e) {
                            var t = this.__URLSearchParams__;
                            return this.has(e) ? t[e][0] : null;
                        }),
                        (r.getAll = function (e) {
                            var t = this.__URLSearchParams__;
                            return this.has(e) ? t[e].slice(0) : [];
                        }),
                        (r.has = function (e) {
                            return b(this.__URLSearchParams__, e);
                        }),
                        (r.set = function (e, t) {
                            this.__URLSearchParams__[e] = ["" + t];
                        }),
                        (r.toString = function () {
                            var e,
                                t,
                                n,
                                i,
                                o = this.__URLSearchParams__,
                                a = [];
                            for (t in o) for (n = h(t), e = 0, i = o[t]; e < i.length; e++) a.push(n + "=" + h(i[e]));
                            return a.join("&");
                        });
                    var l = !!o && n && !i && e.Proxy;
                    Object.defineProperty(e, "URLSearchParams", {
                        value: l
                            ? new Proxy(n, {
                                  construct: function (e, t) {
                                      return new e(new c(t[0]).toString());
                                  },
                              })
                            : c,
                    });
                    var u = e.URLSearchParams.prototype;
                    (u.polyfill = !0),
                        (u.forEach =
                            u.forEach ||
                            function (e, t) {
                                var n = m(this.toString());
                                Object.getOwnPropertyNames(n).forEach(function (i) {
                                    n[i].forEach(function (n) {
                                        e.call(t, n, i, this);
                                    }, this);
                                }, this);
                            }),
                        (u.sort =
                            u.sort ||
                            function () {
                                var e,
                                    t,
                                    n,
                                    i = m(this.toString()),
                                    o = [];
                                for (e in i) o.push(e);
                                for (o.sort(), t = 0; t < o.length; t++) this.delete(o[t]);
                                for (t = 0; t < o.length; t++) {
                                    var a = o[t],
                                        r = i[a];
                                    for (n = 0; n < r.length; n++) this.append(a, r[n]);
                                }
                            }),
                        (u.keys =
                            u.keys ||
                            function () {
                                var e = [];
                                return (
                                    this.forEach(function (t, n) {
                                        e.push(n);
                                    }),
                                    p(e)
                                );
                            }),
                        (u.values =
                            u.values ||
                            function () {
                                var e = [];
                                return (
                                    this.forEach(function (t) {
                                        e.push(t);
                                    }),
                                    p(e)
                                );
                            }),
                        (u.entries =
                            u.entries ||
                            function () {
                                var e = [];
                                return (
                                    this.forEach(function (t, n) {
                                        e.push([n, t]);
                                    }),
                                    p(e)
                                );
                            }),
                        s && (u[e.Symbol.iterator] = u[e.Symbol.iterator] || u.entries);
                }
                function c(e) {
                    ((e = e || "") instanceof URLSearchParams || e instanceof c) && (e = e.toString()),
                        (this.__URLSearchParams__ = m(e));
                }
                function h(e) {
                    var t = { "!": "%21", "'": "%27", "(": "%28", ")": "%29", "~": "%7E", "%20": "+", "%00": "\0" };
                    return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g, function (e) {
                        return t[e];
                    });
                }
                function d(e) {
                    return e.replace(/[ +]/g, "%20").replace(/(%[a-f0-9]{2})+/gi, function (e) {
                        return decodeURIComponent(e);
                    });
                }
                function p(t) {
                    var n = {
                        next: function () {
                            var e = t.shift();
                            return { done: void 0 === e, value: e };
                        },
                    };
                    return (
                        s &&
                            (n[e.Symbol.iterator] = function () {
                                return n;
                            }),
                        n
                    );
                }
                function m(e) {
                    var t = {};
                    if ("object" == typeof e)
                        if (g(e))
                            for (var n = 0; n < e.length; n++) {
                                var i = e[n];
                                if (!g(i) || 2 !== i.length)
                                    throw new TypeError(
                                        "Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements"
                                    );
                                f(t, i[0], i[1]);
                            }
                        else for (var o in e) e.hasOwnProperty(o) && f(t, o, e[o]);
                    else {
                        0 === e.indexOf("?") && (e = e.slice(1));
                        for (var a = e.split("&"), r = 0; r < a.length; r++) {
                            var s = a[r],
                                l = s.indexOf("=");
                            -1 < l ? f(t, d(s.slice(0, l)), d(s.slice(l + 1))) : s && f(t, d(s), "");
                        }
                    }
                    return t;
                }
                function f(e, t, n) {
                    var i =
                        "string" == typeof n
                            ? n
                            : null != n && "function" == typeof n.toString
                            ? n.toString()
                            : JSON.stringify(n);
                    b(e, t) ? e[t].push(i) : (e[t] = [i]);
                }
                function g(e) {
                    return !!e && "[object Array]" === Object.prototype.toString.call(e);
                }
                function b(e, t) {
                    return Object.prototype.hasOwnProperty.call(e, t);
                }
            })(void 0 !== e ? e : "undefined" != typeof window ? window : this);
        }).call(this, n(16));
    },
    function (e, t, n) {
        "use strict";
        function i(e, t, n, i) {
            var a = e.createProgram(),
                r = o(e, e.VERTEX_SHADER, t),
                s = o(e, e.FRAGMENT_SHADER, n);
            for (var l in (e.attachShader(a, r), e.attachShader(a, s), i)) e.bindAttribLocation(a, i[l], l);
            e.linkProgram(a);
            for (var u = {}, c = e.getProgramParameter(a, e.ACTIVE_UNIFORMS), h = 0; h < c; h += 1) {
                var d = e.getActiveUniform(a, h),
                    p = e.getUniformLocation(a, d.name);
                u[d.name] = p;
            }
            return { program: a, uniformLocations: u, vertexShaderSource: t, fragmentShaderSource: n };
        }
        function o(e, t, n) {
            var i = e.createShader(t);
            return (
                e.shaderSource(i, n),
                e.compileShader(i),
                e.getShaderParameter(i, e.COMPILE_STATUS) || console.log(e.getShaderInfoLog(i)),
                i
            );
        }
        function a(e, t, n, i, o, a, r, s, l, u, c) {
            var h = e.createTexture();
            return (
                e.activeTexture(e.TEXTURE0 + t),
                e.bindTexture(e.TEXTURE_2D, h),
                e.texImage2D(e.TEXTURE_2D, 0, n, o, a, 0, n, i, r),
                e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, s),
                e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, l),
                e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, u),
                e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, c),
                h
            );
        }
        function r(e, t, n, i, o, a, r, s, l, u, c, h) {
            return (
                e.activeTexture(e.TEXTURE0 + n),
                e.bindTexture(e.TEXTURE_2D, t),
                e.texImage2D(e.TEXTURE_2D, 0, i, a, r, 0, i, o, s),
                e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, l),
                e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, u),
                e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, c),
                e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, h),
                t
            );
        }
        function s(e, t, n, i, o, a, r, s) {
            void 0 === s && (s = !1);
            var l = e.createTexture();
            return (
                e.activeTexture(e.TEXTURE0 + t),
                e.bindTexture(e.TEXTURE_2D, l),
                s && e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL, !0),
                e.texImage2D(e.TEXTURE_2D, 0, e.RGBA, e.RGBA, e.UNSIGNED_BYTE, n),
                e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL, !1),
                e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, i),
                e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, o),
                e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, a),
                e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, r),
                (a !== e.LINEAR_MIPMAP_LINEAR && a !== e.LINEAR_MIPMAP_NEAREST) || e.generateMipmap(e.TEXTURE_2D),
                l
            );
        }
        function l(e, t, n, i) {
            var o = e.createRenderbuffer();
            return e.bindRenderbuffer(e.RENDERBUFFER, o), e.renderbufferStorage(e.RENDERBUFFER, t, n, i), o;
        }
        function u(e, t, n, i) {
            var o = e.createBuffer();
            return e.bindBuffer(t, o), e.bufferData(t, n, i), o;
        }
        n.r(t);
        var c = {
                set: function (e, t, n, i, o, a, r, s, l, u, c, h, d, p, m, f, g) {
                    (e[0] = t),
                        (e[1] = n),
                        (e[2] = i),
                        (e[3] = o),
                        (e[4] = a),
                        (e[5] = r),
                        (e[6] = s),
                        (e[7] = l),
                        (e[8] = u),
                        (e[9] = c),
                        (e[10] = h),
                        (e[11] = d),
                        (e[12] = p),
                        (e[13] = m),
                        (e[14] = f),
                        (e[15] = g);
                },
                copy: function (e, t) {
                    for (var n = 0; n < 16; n++) e[n] = t[n];
                },
                makeIdentity: function (e) {
                    return (
                        (e[0] = 1),
                        (e[1] = 0),
                        (e[2] = 0),
                        (e[3] = 0),
                        (e[4] = 0),
                        (e[5] = 1),
                        (e[6] = 0),
                        (e[7] = 0),
                        (e[8] = 0),
                        (e[9] = 0),
                        (e[10] = 1),
                        (e[11] = 0),
                        (e[12] = 0),
                        (e[13] = 0),
                        (e[14] = 0),
                        (e[15] = 1),
                        e
                    );
                },
                makeTranslation: function (e, t, n, i) {
                    return c.makeIdentity(e), (e[12] = t), (e[13] = n), (e[14] = i), e;
                },
                makeScale: function (e, t, n, i) {
                    return (
                        (e[0] = t),
                        (e[1] = 0),
                        (e[2] = 0),
                        (e[3] = 0),
                        (e[4] = 0),
                        (e[5] = n),
                        (e[6] = 0),
                        (e[7] = 0),
                        (e[8] = 0),
                        (e[9] = 0),
                        (e[10] = i),
                        (e[11] = 0),
                        (e[12] = 0),
                        (e[13] = 0),
                        (e[14] = 0),
                        (e[15] = 1),
                        e
                    );
                },
                makeXRotation: function (e, t) {
                    return (
                        (e[0] = 1),
                        (e[1] = 0),
                        (e[2] = 0),
                        (e[3] = 0),
                        (e[4] = 0),
                        (e[5] = Math.cos(t)),
                        (e[6] = Math.sin(t)),
                        (e[7] = 0),
                        (e[8] = 0),
                        (e[9] = -Math.sin(t)),
                        (e[10] = Math.cos(t)),
                        (e[11] = 0),
                        (e[12] = 0),
                        (e[13] = 0),
                        (e[14] = 0),
                        (e[15] = 1),
                        e
                    );
                },
                makeYRotation: function (e, t) {
                    return (
                        (e[0] = Math.cos(t)),
                        (e[1] = 0),
                        (e[2] = -Math.sin(t)),
                        (e[3] = 0),
                        (e[4] = 0),
                        (e[5] = 1),
                        (e[6] = 0),
                        (e[7] = 0),
                        (e[8] = Math.sin(t)),
                        (e[9] = 0),
                        (e[10] = Math.cos(t)),
                        (e[11] = 0),
                        (e[12] = 0),
                        (e[13] = 0),
                        (e[14] = 0),
                        (e[15] = 1),
                        e
                    );
                },
                transformPosition: function (e, t, n) {
                    var i = t[0],
                        o = t[1],
                        a = t[2];
                    return (
                        (e[0] = n[0] * i + n[4] * o + n[8] * a + n[12]),
                        (e[1] = n[1] * i + n[5] * o + n[9] * a + n[13]),
                        (e[2] = n[2] * i + n[6] * o + n[10] * a + n[14]),
                        (e[3] = n[3] * i + n[7] * o + n[11] * a + n[15]),
                        e
                    );
                },
                transformDirection: function (e, t, n) {
                    var i = t[0],
                        o = t[1],
                        a = t[2];
                    return (
                        (e[0] = n[0] * i + n[4] * o + n[8] * a),
                        (e[1] = n[1] * i + n[5] * o + n[9] * a),
                        (e[2] = n[2] * i + n[6] * o + n[10] * a),
                        (e[3] = n[3] * i + n[7] * o + n[11] * a),
                        e
                    );
                },
                multiplyVector: function (e, t, n) {
                    var i = n[0],
                        o = n[1],
                        a = n[2],
                        r = n[3];
                    return (
                        (e[0] = t[0] * i + t[4] * o + t[8] * a + t[12] * r),
                        (e[1] = t[1] * i + t[5] * o + t[9] * a + t[13] * r),
                        (e[2] = t[2] * i + t[6] * o + t[10] * a + t[14] * r),
                        (e[3] = t[3] * i + t[7] * o + t[11] * a + t[15] * r),
                        e
                    );
                },
                premultiply: function (e, t, n) {
                    var i = n[0],
                        o = n[4],
                        a = n[8],
                        r = n[12],
                        s = n[1],
                        l = n[5],
                        u = n[9],
                        c = n[13],
                        h = n[2],
                        d = n[6],
                        p = n[10],
                        m = n[14],
                        f = n[3],
                        g = n[7],
                        b = n[11],
                        v = n[15],
                        y = t[0],
                        x = t[1],
                        k = t[2],
                        _ = t[3];
                    return (
                        (e[0] = i * y + o * x + a * k + r * _),
                        (e[1] = s * y + l * x + u * k + c * _),
                        (e[2] = h * y + d * x + p * k + m * _),
                        (e[3] = f * y + g * x + b * k + v * _),
                        (y = t[4]),
                        (x = t[5]),
                        (k = t[6]),
                        (_ = t[7]),
                        (e[4] = i * y + o * x + a * k + r * _),
                        (e[5] = s * y + l * x + u * k + c * _),
                        (e[6] = h * y + d * x + p * k + m * _),
                        (e[7] = f * y + g * x + b * k + v * _),
                        (y = t[8]),
                        (x = t[9]),
                        (k = t[10]),
                        (_ = t[11]),
                        (e[8] = i * y + o * x + a * k + r * _),
                        (e[9] = s * y + l * x + u * k + c * _),
                        (e[10] = h * y + d * x + p * k + m * _),
                        (e[11] = f * y + g * x + b * k + v * _),
                        (y = t[12]),
                        (x = t[13]),
                        (k = t[14]),
                        (_ = t[15]),
                        (e[12] = i * y + o * x + a * k + r * _),
                        (e[13] = s * y + l * x + u * k + c * _),
                        (e[14] = h * y + d * x + p * k + m * _),
                        (e[15] = f * y + g * x + b * k + v * _),
                        e
                    );
                },
                transpose: function (e, t) {
                    if (e === t) {
                        var n = t[1],
                            i = t[2],
                            o = t[3],
                            a = t[6],
                            r = t[7],
                            s = t[11];
                        (t[1] = t[4]),
                            (t[4] = n),
                            (t[2] = t[8]),
                            (t[8] = i),
                            (t[3] = t[12]),
                            (t[12] = o),
                            (t[6] = t[9]),
                            (t[9] = a),
                            (t[7] = t[13]),
                            (t[13] = r),
                            (t[11] = t[14]),
                            (t[14] = s);
                    } else
                        (e[0] = t[0]),
                            (e[1] = t[4]),
                            (e[2] = t[8]),
                            (e[3] = t[12]),
                            (e[4] = t[1]),
                            (e[5] = t[5]),
                            (e[6] = t[9]),
                            (e[7] = t[13]),
                            (e[8] = t[2]),
                            (e[9] = t[6]),
                            (e[10] = t[10]),
                            (e[11] = t[14]),
                            (e[12] = t[3]),
                            (e[13] = t[7]),
                            (e[14] = t[11]),
                            (e[15] = t[15]);
                },
                invert: function (e, t) {
                    var n = t[0],
                        i = t[4],
                        o = t[8],
                        a = t[12],
                        r = t[1],
                        s = t[5],
                        l = t[9],
                        u = t[13],
                        c = t[2],
                        h = t[6],
                        d = t[10],
                        p = t[14],
                        m = t[3],
                        f = t[7],
                        g = t[11],
                        b = t[15],
                        v = d * b,
                        y = p * g,
                        x = h * b,
                        k = p * f,
                        _ = h * g,
                        w = d * f,
                        P = c * b,
                        S = p * m,
                        A = c * g,
                        T = d * m,
                        E = c * f,
                        M = h * m,
                        R = o * u,
                        z = a * l,
                        C = i * u,
                        B = a * s,
                        j = i * l,
                        F = o * s,
                        L = n * u,
                        D = a * r,
                        O = n * l,
                        I = o * r,
                        N = n * s,
                        G = i * r,
                        H = v * s + k * l + _ * u - (y * s + x * l + w * u),
                        U = y * r + P * l + T * u - (v * r + S * l + A * u),
                        V = x * r + S * s + E * u - (k * r + P * s + M * u),
                        Y = w * r + A * s + M * l - (_ * r + T * s + E * l),
                        q = 1 / (n * H + i * U + o * V + a * Y);
                    return (
                        (e[0] = q * H),
                        (e[1] = q * U),
                        (e[2] = q * V),
                        (e[3] = q * Y),
                        (e[4] = q * (y * i + x * o + w * a - (v * i + k * o + _ * a))),
                        (e[5] = q * (v * n + S * o + A * a - (y * n + P * o + T * a))),
                        (e[6] = q * (k * n + P * i + M * a - (x * n + S * i + E * a))),
                        (e[7] = q * (_ * n + T * i + E * o - (w * n + A * i + M * o))),
                        (e[8] = q * (R * f + B * g + j * b - (z * f + C * g + F * b))),
                        (e[9] = q * (z * m + L * g + I * b - (R * m + D * g + O * b))),
                        (e[10] = q * (C * m + D * f + N * b - (B * m + L * f + G * b))),
                        (e[11] = q * (F * m + O * f + G * g - (j * m + I * f + N * g))),
                        (e[12] = q * (C * d + F * p + z * h - (j * p + R * h + B * d))),
                        (e[13] = q * (O * p + R * c + D * d - (L * d + I * p + z * c))),
                        (e[14] = q * (L * h + G * p + B * c - (N * p + C * c + D * h))),
                        (e[15] = q * (N * d + j * c + I * h - (O * h + G * d + F * c))),
                        e
                    );
                },
                fromQuaternion: function (e, t) {
                    var n = t[3],
                        i = t[0],
                        o = t[1],
                        a = t[2];
                    return (
                        (e[0] = 1 - 2 * o * o - 2 * a * a),
                        (e[1] = 2 * i * o + 2 * n * a),
                        (e[2] = 2 * i * a - 2 * n * o),
                        (e[3] = 0),
                        (e[4] = 2 * i * o - 2 * n * a),
                        (e[5] = 1 - 2 * i * i - 2 * a * a),
                        (e[6] = 2 * o * a + 2 * n * i),
                        (e[7] = 0),
                        (e[8] = 2 * i * a + 2 * n * o),
                        (e[9] = 2 * o * a - 2 * n * i),
                        (e[10] = 1 - 2 * i * i - 2 * o * o),
                        (e[11] = 0),
                        (e[12] = 0),
                        (e[13] = 0),
                        (e[14] = 0),
                        (e[15] = 1),
                        e
                    );
                },
                makePerspective: function (e, t, n, i, o) {
                    var a = 1 / Math.tan(t / 2),
                        r = 1 / (i - o);
                    return (
                        (e[0] = a / n),
                        (e[1] = 0),
                        (e[2] = 0),
                        (e[3] = 0),
                        (e[4] = 0),
                        (e[5] = a),
                        (e[6] = 0),
                        (e[7] = 0),
                        (e[8] = 0),
                        (e[9] = 0),
                        (e[10] = (o + i) * r),
                        (e[11] = -1),
                        (e[12] = 0),
                        (e[13] = 0),
                        (e[14] = 2 * o * i * r),
                        (e[15] = 0),
                        e
                    );
                },
                makeInfinitePerspective: function (e, t, n, i, o) {
                    var a = 1 / Math.tan(t / 2);
                    return (
                        (e[0] = a / n),
                        (e[1] = 0),
                        (e[2] = 0),
                        (e[3] = 0),
                        (e[4] = 0),
                        (e[5] = a),
                        (e[6] = 0),
                        (e[7] = 0),
                        (e[8] = 0),
                        (e[9] = 0),
                        (e[10] = 1e-8 - 1),
                        (e[11] = -1),
                        (e[12] = 0),
                        (e[13] = 0),
                        (e[14] = (1e-8 - 2) * i),
                        (e[15] = 0),
                        e
                    );
                },
                makePerspectiveHorizontal: function (e, t, n, i, o) {
                    var a = 1 / Math.tan(t / 2),
                        r = 1 / (i - o);
                    return (
                        (e[0] = a),
                        (e[1] = 0),
                        (e[2] = 0),
                        (e[3] = 0),
                        (e[4] = 0),
                        (e[5] = a * n),
                        (e[6] = 0),
                        (e[7] = 0),
                        (e[8] = 0),
                        (e[9] = 0),
                        (e[10] = (o + i) * r),
                        (e[11] = -1),
                        (e[12] = 0),
                        (e[13] = 0),
                        (e[14] = 2 * o * i * r),
                        (e[15] = 0),
                        e
                    );
                },
                makeLookAt: function (e, t, n, i) {
                    var o = t[0],
                        a = t[1],
                        r = t[2],
                        s = i[0],
                        l = i[1],
                        u = i[2],
                        c = o - n[0],
                        h = a - n[1],
                        d = r - n[2],
                        p = c * c + h * h + d * d;
                    p > 0 && ((c *= p = 1 / Math.sqrt(p)), (h *= p), (d *= p));
                    var m = l * d - u * h,
                        f = u * c - s * d,
                        g = s * h - l * c;
                    return (
                        (p = m * m + f * f + g * g) > 0 && ((m *= p = 1 / Math.sqrt(p)), (f *= p), (g *= p)),
                        (e[0] = m),
                        (e[1] = f),
                        (e[2] = g),
                        (e[3] = 0),
                        (e[4] = h * g - d * f),
                        (e[5] = d * m - c * g),
                        (e[6] = c * f - h * m),
                        (e[7] = 0),
                        (e[8] = c),
                        (e[9] = h),
                        (e[10] = d),
                        (e[11] = 0),
                        (e[12] = o),
                        (e[13] = a),
                        (e[14] = r),
                        (e[15] = 1),
                        e
                    );
                },
                makeOrthographic: function (e, t, n, i, o, a, r) {
                    return (
                        (e[0] = 2 / (n - t)),
                        (e[1] = 0),
                        (e[2] = 0),
                        (e[3] = 0),
                        (e[4] = 0),
                        (e[5] = 2 / (o - i)),
                        (e[6] = 0),
                        (e[7] = 0),
                        (e[8] = 0),
                        (e[9] = 0),
                        (e[10] = -2 / (r - a)),
                        (e[11] = 0),
                        (e[12] = -(n + t) / (n - t)),
                        (e[13] = -(o + i) / (o - i)),
                        (e[14] = -(r + a) / (r - a)),
                        (e[15] = 1),
                        e
                    );
                },
            },
            h = n(2),
            d = n(0),
            p = n(3),
            m = (function () {
                function e(e, t, n) {
                    (this.centerPosition = new Float32Array(3)),
                        (this.attachPosition = new Float32Array(3)),
                        (this.lookPitch = 0),
                        (this.lookYaw = 0),
                        (this.lookDirection = new Float32Array([0, 0, 1])),
                        (this.localLookDirection = new Float32Array([0, 0, 1])),
                        (this.gl = e),
                        (this.module = t),
                        (this.eyePointer = n),
                        (this.vertexCount = this.module._eyeGetVertexCount(this.eyePointer)),
                        (this.indexCount = this.module._eyeGetIndexCount(this.eyePointer));
                    var i = this.module.HEAPU16.subarray(
                        this.module._eyeGetIndices(this.eyePointer) >> 1,
                        (this.module._eyeGetIndices(this.eyePointer) >> 1) + this.indexCount
                    );
                    (this.indexBuffer = u(e, e.ELEMENT_ARRAY_BUFFER, i, e.STATIC_DRAW)),
                        (this.positionsBuffer = e.createBuffer()),
                        (this.normalsBuffer = e.createBuffer());
                    var o = this.module.HEAPF32.subarray(
                        this.module._eyeGetRestPositions(this.eyePointer) >> 2,
                        (this.module._eyeGetRestPositions(this.eyePointer) >> 2) + 3 * this.vertexCount
                    );
                    this.restPositionsBuffer = u(e, e.ARRAY_BUFFER, o, e.STATIC_DRAW);
                    var a = this.module.HEAPF32.subarray(
                        this.module._eyeGetUVs(this.eyePointer) >> 2,
                        (this.module._eyeGetUVs(this.eyePointer) >> 2) + 2 * this.vertexCount
                    );
                    this.uvsBuffer = u(e, e.ARRAY_BUFFER, a, e.STATIC_DRAW);
                }
                return (
                    (e.prototype.step = function (e, t) {
                        var n = this.module.HEAPF32.subarray(
                                this.module._eyeGetPositions(this.eyePointer) >> 2,
                                (this.module._eyeGetPositions(this.eyePointer) >> 2) + 3 * this.vertexCount
                            ),
                            i = this.module.HEAPF32.subarray(
                                this.module._eyeGetNormals(this.eyePointer) >> 2,
                                (this.module._eyeGetNormals(this.eyePointer) >> 2) + 3 * this.vertexCount
                            ),
                            o = this.gl;
                        o.bindBuffer(o.ARRAY_BUFFER, this.positionsBuffer),
                            o.bufferData(o.ARRAY_BUFFER, n, o.DYNAMIC_DRAW),
                            o.bindBuffer(o.ARRAY_BUFFER, this.normalsBuffer),
                            o.bufferData(o.ARRAY_BUFFER, i, o.DYNAMIC_DRAW);
                        var a = this.module._eyeGetCenterPosition(this.eyePointer);
                        (this.centerPosition[0] = this.module.HEAPF32[0 + (a >> 2)]),
                            (this.centerPosition[1] = this.module.HEAPF32[1 + (a >> 2)] + 0.02),
                            (this.centerPosition[2] = this.module.HEAPF32[2 + (a >> 2)]);
                        var r = this.module._eyeGetAttachPosition(this.eyePointer);
                        (this.attachPosition[0] = this.module.HEAPF32[0 + (r >> 2)]),
                            (this.attachPosition[1] = this.module.HEAPF32[1 + (r >> 2)]),
                            (this.attachPosition[2] = this.module.HEAPF32[2 + (r >> 2)]),
                            h.a.subtract(this.localLookDirection, e, this.attachPosition),
                            h.a.normalize(this.localLookDirection, this.localLookDirection);
                        var s = Object(d.b)(
                                Math.atan2(this.localLookDirection[0], this.localLookDirection[2]),
                                -Math.PI / 2,
                                (Math.PI / 2) * 0.3
                            ),
                            l = Object(d.b)(Math.acos(this.localLookDirection[1]), t, 0.5 * Math.PI);
                        (this.lookYaw = Object(d.q)(this.lookYaw, s, 0.5)),
                            (this.lookPitch = Object(d.q)(this.lookPitch, l, 0.5)),
                            (this.lookDirection[0] = Math.sin(this.lookPitch) * Math.sin(this.lookYaw)),
                            (this.lookDirection[1] = Math.cos(this.lookPitch)),
                            (this.lookDirection[2] = Math.sin(this.lookPitch) * Math.cos(this.lookYaw));
                    }),
                    e
                );
            })(),
            f = (function () {
                function e(e, t) {
                    (this.vertexCount = 0),
                        (this.gl = e),
                        (this.positionsBuffer = e.createBuffer()),
                        (this.colorsBuffer = e.createBuffer()),
                        (this.indexBuffer = e.createBuffer()),
                        (this.positionsData = new Float32Array(3 * t * 3)),
                        (this.colorsData = new Float32Array(3 * t * 4)),
                        this.clear();
                }
                return (
                    (e.prototype.clear = function () {
                        this.vertexCount = 0;
                    }),
                    (e.prototype.drawTriangle = function (e, t, n, i, o, a, r, s, l, u, c, h, d) {
                        (this.positionsData[3 * this.vertexCount + 0] = e),
                            (this.positionsData[3 * this.vertexCount + 1] = t),
                            (this.positionsData[3 * this.vertexCount + 2] = n),
                            (this.positionsData[3 * this.vertexCount + 3] = i),
                            (this.positionsData[3 * this.vertexCount + 4] = o),
                            (this.positionsData[3 * this.vertexCount + 5] = a),
                            (this.positionsData[3 * this.vertexCount + 6] = r),
                            (this.positionsData[3 * this.vertexCount + 7] = s),
                            (this.positionsData[3 * this.vertexCount + 8] = l);
                        for (var p = 0; p < 3; ++p)
                            (this.colorsData[4 * this.vertexCount + 4 * p + 0] = u),
                                (this.colorsData[4 * this.vertexCount + 4 * p + 1] = c),
                                (this.colorsData[4 * this.vertexCount + 4 * p + 2] = h),
                                (this.colorsData[4 * this.vertexCount + 4 * p + 3] = d);
                        this.vertexCount += 3;
                    }),
                    (e.prototype.commit = function () {
                        var e = this.gl;
                        this.vertexCount > 0 &&
                            (e.bindBuffer(e.ARRAY_BUFFER, this.positionsBuffer),
                            e.bufferData(
                                e.ARRAY_BUFFER,
                                this.positionsData.subarray(0, 3 * this.vertexCount),
                                e.DYNAMIC_DRAW
                            ),
                            e.bindBuffer(e.ARRAY_BUFFER, this.colorsBuffer),
                            e.bufferData(
                                e.ARRAY_BUFFER,
                                this.colorsData.subarray(0, 4 * this.vertexCount),
                                e.DYNAMIC_DRAW
                            ));
                    }),
                    e
                );
            })(),
            g = (function () {
                function e(e, t) {
                    (this.gl = e),
                        (this.maxVertices = t),
                        this.clear(),
                        (this.positionsBuffer = e.createBuffer()),
                        (this.colorsBuffer = e.createBuffer()),
                        (this.positionsData = new Float32Array(3 * t)),
                        (this.colorsData = new Float32Array(4 * t));
                }
                return (
                    (e.prototype.clear = function () {
                        this.vertexCount = 0;
                    }),
                    (e.prototype.addLine = function (e, t, n, i) {
                        for (var o = 0; o < 3; ++o) this.positionsData[3 * this.vertexCount + o] = e[o];
                        for (o = 0; o < 3; ++o) this.positionsData[3 * this.vertexCount + 3 + o] = t[o];
                        for (o = 0; o < 4; ++o) this.colorsData[4 * this.vertexCount + o] = n[o];
                        for (o = 0; o < 4; ++o) this.colorsData[4 * this.vertexCount + 4 + o] = i[o];
                        this.vertexCount += 2;
                    }),
                    (e.prototype.commit = function () {
                        var e = this.gl;
                        e.bindBuffer(e.ARRAY_BUFFER, this.positionsBuffer),
                            e.bufferData(
                                e.ARRAY_BUFFER,
                                this.positionsData.subarray(0, 3 * this.vertexCount),
                                e.DYNAMIC_DRAW
                            ),
                            e.bindBuffer(e.ARRAY_BUFFER, this.colorsBuffer),
                            e.bufferData(
                                e.ARRAY_BUFFER,
                                this.colorsData.subarray(0, 4 * this.vertexCount),
                                e.DYNAMIC_DRAW
                            );
                    }),
                    e
                );
            })(),
            b = (function () {
                function e(e, t, n, i, o) {
                    (this.indicatorY = new p.a(0)),
                        (this.alpha = new p.a(0)),
                        (this.overrideAlpha = new p.a(1)),
                        (this.soundingAlphas = []),
                        (this.yOffset = new p.a(0)),
                        (this.gl = e),
                        (this.scale = t),
                        (this.minY = n),
                        (this.maxY = i),
                        (this.modelMatrix = o);
                    for (var a = 0; a < t.length; ++a) this.soundingAlphas.push(new p.a(0));
                    (this.lines = new g(e, 2 * (this.scale.length + 1))),
                        (this.triangles = new f(e, 2 * this.scale.length + 1));
                    var r = [1, 1, 1, 0.5];
                    for (a = 0; a <= this.scale.length; ++a) {
                        var s = Object(d.q)(this.minY, this.maxY, a / this.scale.length);
                        this.lines.addLine([0, s, 0], [0.2, s, 0], r, r);
                    }
                    this.lines.commit();
                }
                return (
                    (e.prototype.getModelMatrix = function () {
                        return c.premultiply(
                            new Float32Array(16),
                            this.modelMatrix,
                            c.makeTranslation([], 0, this.yOffset.evaluate(), 0)
                        );
                    }),
                    (e.prototype.drawRect = function (e, t, n, i, o) {
                        this.triangles.drawTriangle(e, t, 0, e + n, t, 0, e + n, t + i, 0, 1, 1, 1, o),
                            this.triangles.drawTriangle(e, t, 0, e + n, t + i, 0, e, t + i, 0, 1, 1, 1, o);
                    }),
                    (e.prototype.update = function (e, t, n) {
                        this.triangles.clear();
                        var i = -1;
                        if (e) {
                            this.currentDraggedValue = t;
                            var o = this.scale.indexOf(t);
                            i = o;
                            var a = Object(d.q)(this.minY, this.maxY, (o + 0.5) / this.scale.length);
                            this.indicatorY.change(a, 0.05);
                        }
                        this.alpha.change(e ? 1 : 0, 0.2);
                        var r = this.indicatorY.evaluate();
                        this.triangles.drawTriangle(0, r, 0, -0.1, r - 0.05, 0, -0.1, r + 0.05, 0, 1, 1, 1, 1),
                            (this.currentSoundedValue = n);
                        var s = -1;
                        null !== n && (s = this.scale.indexOf(n));
                        for (var l = 0; l < this.soundingAlphas.length; ++l) {
                            var u = this.soundingAlphas[l];
                            l === s ? u.change(1, 0.1) : l === i ? u.change(0.1, 0.1) : u.change(0, 0.1);
                            var c = u.evaluate();
                            if (c > 0) {
                                var h = (this.maxY - this.minY) / this.scale.length;
                                this.drawRect(0, this.minY + l * h, 0.2, h, c);
                            }
                        }
                        this.triangles.commit();
                    }),
                    e
                );
            })(),
            v = n(6);
        var y,
            x,
            k = (function () {
                function e(e, t) {
                    (this.module = e),
                        (this.hatPointer = t),
                        (this.splinePointCount = this.module._hatGetPointCount(this.hatPointer));
                }
                return (
                    (e.prototype.getSplinePositions = function () {
                        return this.module.HEAPF32.subarray(
                            this.module._hatGetPositions(this.hatPointer) >> 2,
                            (this.module._hatGetPositions(this.hatPointer) >> 2) + 3 * this.splinePointCount
                        );
                    }),
                    (e.prototype.getSplineTangents = function () {
                        return this.module.HEAPF32.subarray(
                            this.module._hatGetTangents(this.hatPointer) >> 2,
                            (this.module._hatGetTangents(this.hatPointer) >> 2) + 3 * this.splinePointCount
                        );
                    }),
                    (e.prototype.getSplineNormals = function () {
                        return this.module.HEAPF32.subarray(
                            this.module._hatGetNormals(this.hatPointer) >> 2,
                            (this.module._hatGetNormals(this.hatPointer) >> 2) + 3 * this.splinePointCount
                        );
                    }),
                    (e.prototype.getBrimPositions = function () {
                        return this.module.HEAPF32.subarray(
                            this.module._hatGetBrimPositions(this.hatPointer) >> 2,
                            48 + (this.module._hatGetBrimPositions(this.hatPointer) >> 2)
                        );
                    }),
                    e
                );
            })(),
            _ = n(1);
        function w(e) {
            return e === x.BlobperaHouse
                ? "default"
                : e === x.London
                ? "london"
                : e === x.NewYork
                ? "new_york"
                : e === x.Hackney
                ? "hackney"
                : e === x.Paris
                ? "paris"
                : e === x.CapeTown
                ? "cape_town"
                : e === x.MexicoCity
                ? "mexico_city"
                : e === x.Seoul
                ? "seoul"
                : "default";
        }
        !(function (e) {
            (e[(e.Normal = 0)] = "Normal"), (e[(e.Christmas = 1)] = "Christmas"), (e[(e.NewYears = 2)] = "NewYears");
        })(y || (y = {})),
            (function (e) {
                (e[(e.BlobperaHouse = 0)] = "BlobperaHouse"),
                    (e[(e.London = 1)] = "London"),
                    (e[(e.NewYork = 2)] = "NewYork"),
                    (e[(e.Hackney = 3)] = "Hackney"),
                    (e[(e.Paris = 4)] = "Paris"),
                    (e[(e.CapeTown = 5)] = "CapeTown"),
                    (e[(e.MexicoCity = 6)] = "MexicoCity"),
                    (e[(e.Seoul = 7)] = "Seoul");
            })(x || (x = {}));
        var P = function () {
            return (P =
                Object.assign ||
                function (e) {
                    for (var t, n = 1, i = arguments.length; n < i; n++)
                        for (var o in (t = arguments[n])) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
                    return e;
                }).apply(this, arguments);
        };
        function S(e, t) {
            for (var n = e._malloc(t.length), i = e.HEAPU8.subarray(n, n + t.length), o = 0; o < t.length; ++o)
                i[o] = t[o];
            return n;
        }
        function A(e, t, n, i) {
            var o = c.makeScale(new Float32Array(16), i, i, i),
                a = c.makeYRotation(new Float32Array(16), n),
                r = c.makeXRotation(new Float32Array(16), t),
                s = c.makeTranslation(new Float32Array(16), e[0], e[1], e[2]),
                l = o;
            return c.premultiply(l, l, r), c.premultiply(l, l, a), c.premultiply(l, l, s), l;
        }
        function T(e, t, n) {
            var i = c.makeScale(new Float32Array(16), n, n, n),
                o = c.fromQuaternion([], t),
                a = c.makeTranslation(new Float32Array(16), e[0], e[1], e[2]),
                r = i;
            return c.premultiply(r, r, o), c.premultiply(r, r, a), r;
        }
        var E,
            M = (function () {
                function e() {
                    (this.lastBlinkTime = 0),
                        (this.lastBlinkTime = Date.now() - Object(d.q)(3e3, 6e3, Math.random())),
                        (this.msToNextBlink = Object(d.q)(3e3, 6e3, Math.random()));
                }
                return (
                    (e.prototype.evaluate = function () {
                        var e = Date.now();
                        e - this.lastBlinkTime > this.msToNextBlink &&
                            ((this.lastBlinkTime = e), (this.msToNextBlink = Object(d.q)(3e3, 6e3, Math.random())));
                        var t = Math.max(e - this.lastBlinkTime, 0);
                        return 1 - Object(d.o)(0, 120, t) * Object(d.o)(300, 180, t);
                    }),
                    e
                );
            })();
        function R(e, t) {
            return e.midiPitch === t.midiPitch && e.vowel === t.vowel;
        }
        function z(e, t, n, i) {
            var o = e.indexOf(n);
            return -1 !== o && t > (o - i) / e.length && t < (o + 1 + i) / e.length
                ? n
                : e[Object(d.b)(Math.floor(t * e.length), 0, e.length - 1)];
        }
        !(function (e) {
            (e[(e.Offscreen = 0)] = "Offscreen"),
                (e[(e.Falling = 1)] = "Falling"),
                (e[(e.Rising = 2)] = "Rising"),
                (e[(e.Idle = 3)] = "Idle");
        })(E || (E = {}));
        var C = { scale: [1.3, 0.2, 1], bend: 0 },
            B = { scale: [1.3, 0.2, 1], bend: 0 },
            j = {};
        (j[_.b.a] = { scale: [1.8, 1.8, 1], bend: 0.4 }),
            (j[_.b.e] = { scale: [1.2, 1, 1], bend: 0.5 }),
            (j[_.b.i] = { scale: [1.5, 0.7, 1], bend: 0.5 }),
            (j[_.b.o] = { scale: [0.8, 0.8, 2], bend: 0 }),
            (j[_.b.u] = { scale: [0.4, 0.4, 3], bend: 0 });
        var F = [_.b.a, _.b.e, _.b.i, _.b.o, _.b.u];
        function L(e, t, n) {
            if (e.state === E.Idle) {
                var i = e.rayIntersect(t, n);
                if (-1 !== i) {
                    e.indices[3 * i + 0];
                    var o = e.getIntersectedRestPosition();
                    return { draggingRestPosition: [o[0], o[1], o[2]] };
                }
                return null;
            }
        }
        var D = [0, 0, 1],
            O = (function () {
                function e(e, t) {
                    (this.draggingRestPosition = [0, 0, 0]),
                        (this.yScale = 1),
                        (this.zOffset = 0),
                        (this.localRayOrigin = [0, 0, 0]),
                        (this.localRayDirection = [0, 0, 0]),
                        (this.localZDirection = [0, 0, 0]),
                        (this.planeIntersection = [0, 0, 0]),
                        (this.blob = e),
                        (this.draggingRestPosition = t);
                }
                return (
                    (e.prototype.step = function (e, t) {
                        c.transformPosition(this.localRayOrigin, e, this.blob.inverseModelMatrix),
                            c.transformDirection(this.localRayDirection, t, this.blob.inverseModelMatrix),
                            h.a.normalize(this.localRayDirection, this.localRayDirection),
                            c.transformDirection(this.localZDirection, D, this.blob.inverseModelMatrix),
                            Object(d.k)(
                                this.planeIntersection,
                                this.draggingRestPosition,
                                this.localZDirection,
                                this.localRayOrigin,
                                this.localRayDirection
                            ),
                            (this.localPosition = this.planeIntersection);
                        var n = 0.55 * this.blob.config.stretch;
                        (this.yScale = Math.max(
                            1 + (this.planeIntersection[1] - this.draggingRestPosition[1]) * n,
                            0.5
                        )),
                            (this.yScale /= this.blob.config.stretch),
                            (this.zOffset = Object(d.b)(
                                0.4 *
                                    (this.planeIntersection[2] - this.draggingRestPosition[2]) *
                                    this.blob.config.stretch,
                                -0.15 * this.blob.config.stretch,
                                0.35 * this.blob.config.stretch
                            ));
                    }),
                    e
                );
            })();
        var I = (function () {
            function e(e, t, n, i, o, a, r, s, l, h, f) {
                (this.MIN_Y = 1.85),
                    (this.MAX_Y = 6.25),
                    (this.MIN_Z = 0),
                    (this.MAX_Z = 1.7),
                    (this.eyes = []),
                    (this.hat = null),
                    (this.modelMatrix = new Float32Array(16)),
                    (this.inverseModelMatrix = new Float32Array(16)),
                    (this.offset = [0, 0, 0]),
                    (this.blinker = new M()),
                    (this.state = E.Offscreen),
                    (this.timeCurrentNoteReached = 0),
                    (this.frame = 0),
                    (this.fallStartFrame = 0),
                    (this.fallStartY = 0),
                    (this.riseStartFrame = 0),
                    (this.riseStartY = 0),
                    (this.exiting = !1),
                    (this.exitStartFrame = 0),
                    (this.lookPosition = [0, 0, 0]),
                    (this.localLookPosition = [0, 0, 0]),
                    (this.yScale = 1),
                    (this.zOffset = 0),
                    (this.mouthScaleX = new p.a(B.scale[0])),
                    (this.mouthScaleY = new p.a(B.scale[1])),
                    (this.mouthScaleZ = new p.a(B.scale[2])),
                    (this.mouthBend = new p.a(B.bend)),
                    (this.mouthRotation = new p.a(0)),
                    (this.isSinging = !1),
                    (this.lastSoundedVowel = null),
                    (this.isDragging = !1),
                    (this.hatOffset = new p.a(1, function (e) {
                        return Object(d.w)(0, 1, e);
                    })),
                    (this.eyeBottomOpenness = new p.a(0)),
                    (this.eyeTopOpenness = new p.a(1)),
                    (this.eyeOverrideOpenness = new p.a(0.2)),
                    (this.overrideHipnotized = !1),
                    (this.smoothIsSinging = new p.a(0, function (e) {
                        return Object(d.w)(0, 1, e);
                    })),
                    (this.rimLevel = new p.a(0, function (e) {
                        return Object(d.w)(0, 1, e);
                    })),
                    (this.topPosition = new Float32Array(3)),
                    (this.tempMatrix = new Float32Array(16)),
                    (this.hatModelMatrix = new Float32Array(16)),
                    (this.gl = e),
                    (this.module = t);
                (this.config = P(
                    P({}, { mouthYScale: 1, partyHatHue: 0, festiveHatBrimRadius: 0, partyHatBrimRadius: 0 }),
                    s
                )),
                    (this.scale = a),
                    this.mouthRotation.change(s.mouthRotation, 0),
                    (this.assets = o);
                var g = S(this.module, o.meshBuffer),
                    x = S(this.module, n),
                    w = f === y.Christmas || f === y.NewYears;
                1 !== s.stretch && (s.parameters.baseStretch = s.stretch);
                var R = {
                        blobDensity: 1.2,
                        blobMu: 5,
                        eyeDensity: 1.2,
                        eyeMu: 5,
                        eyeAttachOffset: 0.1,
                        baseStretch: 1,
                        brimRadius:
                            f === y.Christmas ? s.festiveHatBrimRadius : f === y.NewYears ? s.partyHatBrimRadius : 0.01,
                        hatFixedPointCount: f === y.NewYears ? 20 : 3,
                        hatY: 0,
                    },
                    z = P(P({}, R), s.parameters);
                this.config.parameters = z;
                var C = (function (e, t) {
                        var n = e._malloc(76),
                            i = e.HEAPF32.subarray(n >> 2, 19 + (n >> 2)),
                            o = e.HEAP32.subarray(n >> 2, 19 + (n >> 2));
                        return (
                            (i[0] = t.leftEyeScale[0]),
                            (i[1] = t.leftEyeScale[1]),
                            (i[2] = t.leftEyeScale[2]),
                            (i[3] = t.rightEyeScale[0]),
                            (i[4] = t.rightEyeScale[1]),
                            (i[5] = t.rightEyeScale[2]),
                            (i[6] = t.leftEyeX),
                            (i[7] = t.leftEyeZ),
                            (i[8] = t.rightEyeX),
                            (i[9] = t.rightEyeZ),
                            (i[10] = t.blobDensity),
                            (i[11] = t.blobMu),
                            (i[12] = t.eyeDensity),
                            (i[13] = t.eyeMu),
                            (i[14] = t.eyeAttachOffset),
                            (i[15] = t.baseStretch),
                            (i[16] = t.hatY),
                            (i[17] = t.brimRadius),
                            (o[18] = t.hatFixedPointCount),
                            n
                        );
                    })(this.module, z),
                    j = s.scale;
                (this.blobPointer = this.module._createBlob(
                    g,
                    o.meshBuffer.length,
                    o.isJSONMesh ? 1 : 0,
                    x,
                    n.length,
                    i ? 1 : 0,
                    C,
                    r,
                    j,
                    s.inflation,
                    w ? 1 : 0
                )),
                    this.module._free(g),
                    this.module._free(x),
                    this.module._free(C),
                    (this.topIndex = this.module._blobGetTopIndex(this.blobPointer)),
                    (this.vertexCount = this.module._blobGetVertexCount(this.blobPointer)),
                    (this.renderingVertexCount = this.module._blobGetRenderingVertexCount(this.blobPointer)),
                    (this.renderingIndexCount = this.module._blobGetRenderingIndexCount(this.blobPointer)),
                    (this.indexCount = this.module._blobGetIndexCount(this.blobPointer)),
                    (this.indices = this.module.HEAPU16.subarray(
                        this.module._blobGetIndices(this.blobPointer) >> 1,
                        (this.module._blobGetIndices(this.blobPointer) >> 1) + this.indexCount
                    ).slice(0));
                var L = this.module.HEAPU16.subarray(
                    this.module._blobGetRenderingIndices(this.blobPointer) >> 1,
                    (this.module._blobGetRenderingIndices(this.blobPointer) >> 1) + this.renderingIndexCount
                ).slice(0);
                (this.indexBuffer = u(e, e.ELEMENT_ARRAY_BUFFER, L, e.STATIC_DRAW)),
                    (this.positionsBuffer = e.createBuffer()),
                    (this.normalsBuffer = e.createBuffer()),
                    (this.speedsBuffer = e.createBuffer());
                var D = this.module.HEAPF32.subarray(
                    this.module._blobGetRenderingUVs(this.blobPointer) >> 2,
                    (this.module._blobGetRenderingUVs(this.blobPointer) >> 2) + 2 * this.renderingVertexCount
                );
                (this.uvsBuffer = u(e, e.ARRAY_BUFFER, D, e.STATIC_DRAW)),
                    (this.restPositions = this.module.HEAPF32.subarray(
                        this.module._blobGetRestPositions(this.blobPointer) >> 2,
                        (this.module._blobGetRestPositions(this.blobPointer) >> 2) + 3 * this.vertexCount
                    ).slice(0));
                for (var O = 0; O < 2; ++O) {
                    var I = this.module._blobGetEye(this.blobPointer, O);
                    this.eyes.push(new m(e, this.module, I));
                }
                w && (this.hat = new k(this.module, this.module._blobGetHat(this.blobPointer)));
                var N = this.module._blobGetRestMouthCentroid(this.blobPointer);
                if (((this.restMouthCentroid = this.module.HEAPF32.subarray(N >> 2, 3 + (N >> 2)).slice(0)), h)) {
                    var G = new Float32Array(A(s.position, 0, Object(d.e)(s.rotationDegrees), 1));
                    this.baseModelMatrix = c.premultiply(new Float32Array(16), G, A(l, 0, 0, 1));
                } else this.baseModelMatrix = new Float32Array(A(s.position, 0, Object(d.e)(s.rotationDegrees), 1));
                this.mouthTriangleIndexCount = this.module._blobGetMouthTriangleIndexCount(this.blobPointer);
                var H = this.module.HEAPU16.subarray(
                    this.module._blobGetMouthTriangleIndices(this.blobPointer) >> 1,
                    (this.module._blobGetMouthTriangleIndices(this.blobPointer) >> 1) + this.mouthTriangleIndexCount
                );
                (this.mouthTriangleIndexBuffer = u(e, e.ELEMENT_ARRAY_BUFFER, H, e.STATIC_DRAW)),
                    (this.mouthPositionCount = this.module._blobGetMouthPositionCount(this.blobPointer)),
                    (this.mouthGeometry = (function (e, t, n, i) {
                        for (var o = [], a = [], r = [], s = 0; s < t; ++s)
                            for (var l = 0; l < n; ++l)
                                for (var c = (s + l / n) / t, h = 0; h < i; ++h) {
                                    var d = (2 * Math.PI * h) / i,
                                        p = Math.cos(d),
                                        m = Math.sin(d);
                                    o.push(p),
                                        o.push(m),
                                        o.push(c),
                                        a.push(p),
                                        a.push(m),
                                        a.push(0),
                                        r.push(0),
                                        r.push(0);
                                }
                        var f = u(e, e.ARRAY_BUFFER, new Float32Array(o), e.STATIC_DRAW),
                            g = u(e, e.ARRAY_BUFFER, new Float32Array(a), e.STATIC_DRAW),
                            b = u(e, e.ARRAY_BUFFER, new Float32Array(r), e.STATIC_DRAW),
                            v = [],
                            y = t * n;
                        for (s = 0; s < y; ++s)
                            for (h = 0; h < i; ++h) {
                                var x = 0 + s * i + h,
                                    k = 0 + s * i + ((h + 1) % i),
                                    _ = 0 + ((s + 1) % y) * i + h,
                                    w = 0 + ((s + 1) % y) * i + ((h + 1) % i);
                                v.push(x), v.push(_), v.push(w), v.push(w), v.push(k), v.push(x);
                            }
                        return {
                            vertexBuffer: f,
                            normalsBuffer: g,
                            uvsBuffer: b,
                            indexBuffer: u(e, e.ELEMENT_ARRAY_BUFFER, new Uint16Array(v), e.STATIC_DRAW),
                            indexCount: v.length,
                        };
                    })(e, this.mouthPositionCount, 10, 10)),
                    (this.tonguePointer = this.module._blobGetTongue(this.blobPointer)),
                    (this.tonguePositionCount = this.module._tongueGetPointCount(this.tonguePointer)),
                    (this.currentPitchVowel = { midiPitch: 0, vowel: _.b.a }),
                    (this.mouthY = this.restMouthCentroid[1]),
                    (this.liveMidiNote = new p.a(this.scale[0])),
                    (this.frame = Math.floor(1e4 * Math.random())),
                    (this.MIN_Y =
                        this.restMouthCentroid[1] * this.config.stretch - (2.5 / this.scale.length) * (4.4 * 0.9)),
                    (this.MAX_Y = this.MIN_Y + 4.4 * 0.9);
                var U = T([0, 0, this.restMouthCentroid[2] + 0.65], v.a.fromAxisAngle([], [0, 1, 0], -Math.PI / 2), 1),
                    V = c.premultiply(new Float32Array(16), U, this.baseModelMatrix);
                this.pitchUI = new b(e, this.scale, this.MIN_Y, this.MAX_Y, V);
                var Y = v.a.multiply(
                        [],
                        v.a.fromAxisAngle([], [0, 1, 0], Math.PI / 2),
                        v.a.fromAxisAngle([], [0, 0, 1], Math.PI / 2)
                    ),
                    q = T([0, Math.min(1.3, this.MIN_Y), 0], Y, 1),
                    W = c.premultiply(new Float32Array(16), q, this.baseModelMatrix);
                (this.MIN_Z = this.restMouthCentroid[2] - (1.5 / F.length) * 1.7),
                    (this.MAX_Z = this.MIN_Z + 1.7),
                    (this.vowelUI = new b(e, F, this.MIN_Z, this.MAX_Z, W)),
                    (this.yScale = 1);
                var J = Object(d.q)(0.8, 1.5, Math.random());
                (this.tongueScale = new Float32Array([J, 1 / J])),
                    (this.mouthUVs = this.module.HEAPF32.subarray(
                        this.module._blobGetMouthUVs(this.blobPointer) >> 2,
                        (this.module._blobGetMouthUVs(this.blobPointer) >> 2) + 2 * this.mouthPositionCount
                    ).slice(0));
            }
            return (
                (e.prototype.recomputeMatrices = function () {
                    var e = c.makeTranslation(this.tempMatrix, this.offset[0], this.offset[1], this.offset[2]);
                    c.premultiply(this.modelMatrix, this.baseModelMatrix, e),
                        c.invert(this.inverseModelMatrix, this.modelMatrix);
                }),
                (e.prototype.startFalling = function (e) {
                    this.state !== E.Falling &&
                        ((this.fallStartFrame = this.frame + (this.state === E.Rising ? 0 : e)),
                        this.state === E.Rising ? (this.fallStartY = this.getRiseY()) : (this.fallStartY = 12),
                        (this.state = E.Falling),
                        this.module._blobReset(this.blobPointer, 1, 0, 0, 0, 0),
                        (this.offset[1] = this.fallStartY),
                        this.recomputeMatrices());
                }),
                (e.prototype.startRising = function (e) {
                    this.state !== E.Rising &&
                        (this.state === E.Falling ? (this.riseStartY = this.getFallY()) : (this.riseStartY = 0),
                        (this.riseStartFrame = this.frame + (this.state === E.Falling ? 0 : e)),
                        (this.state = E.Rising),
                        (this.offset[1] = 0),
                        this.recomputeMatrices());
                }),
                (e.prototype.exitStageLeft = function () {
                    this.exiting || ((this.exiting = !0), (this.exitStartFrame = this.frame));
                }),
                (e.prototype.canDestroy = function () {
                    return this.exiting && this.frame - this.exitStartFrame > 120;
                }),
                (e.prototype.getFallY = function () {
                    if (this.state === E.Falling) {
                        var t = Math.max(0, this.frame - this.fallStartFrame);
                        return this.fallStartY + e.INITIAL_FALL_SPEED * t + 0.5 * e.GRAVITY * t * t;
                    }
                    return 0;
                }),
                (e.prototype.getFallVelocity = function () {
                    if (this.state === E.Falling) {
                        return Math.max(0, this.frame - this.fallStartFrame) * e.GRAVITY - 0.02;
                    }
                    return 0;
                }),
                (e.prototype.getRiseY = function () {
                    var t = Math.max(0, this.frame - this.riseStartFrame);
                    return this.riseStartY + e.INITIAL_RISE_SPEED * t + 0.5 * e.RISE_ACCELERATION * t * t;
                }),
                (e.prototype.step = function (t, n) {
                    var i = n
                        ? (function (e) {
                              return e.getMuted()
                                  ? C
                                  : e.getPhoneme() in j
                                  ? e.getPhoneme() in j
                                      ? j[e.getPhoneme()]
                                      : null
                                  : B;
                          })(n)
                        : C;
                    this.mouthScaleX.change(i.scale[0], 0.1),
                        this.mouthScaleY.change(i.scale[1] * this.config.mouthYScale, 0.1),
                        this.mouthScaleZ.change(i.scale[2], 0.1),
                        this.mouthBend.change(i.bend, 0.1),
                        this.mouthRotation.change(n ? 1 * this.config.mouthRotation : this.config.mouthRotation, 0.1);
                    var o = 1 + 0.04 * Math.sin(0.5 * this.frame);
                    if (
                        ((n && !n.getMuted()) || (o = 1),
                        this.module._blobSetMouthScale(
                            this.blobPointer,
                            this.mouthScaleX.evaluate() * o,
                            this.mouthScaleY.evaluate() * o,
                            this.mouthScaleZ.evaluate() * o
                        ),
                        this.module._blobSetMouthBend(this.blobPointer, this.mouthBend.evaluate()),
                        this.module._blobSetMouthNoiseScale(
                            this.blobPointer,
                            !n || n.getMuted() ? 0 : 0.04 * this.mouthScaleY.evaluate()
                        ),
                        this.module._blobSetMouthNoiseFrequency(this.blobPointer, 2.5),
                        this.module._blobSetMouthNoiseOffset(this.blobPointer, 0.05 * this.frame),
                        this.module._blobSetMouthRotation(this.blobPointer, this.mouthRotation.evaluate()),
                        (this.isSinging = n && !n.getMuted()),
                        this.isSinging)
                    ) {
                        if (Object(d.n)(n.getVowel()) && n.getVowel() !== this.lastSoundedVowel) {
                            this.eyeOverrideOpenness.change(
                                Object(d.r)(Math.max(0, 1 * Math.random() - 0.4), 0.2),
                                0.2
                            ),
                                (this.lastSoundedVowel = n.getVowel());
                        }
                    } else (this.lastSoundedVowel = _.b.sil), this.eyeOverrideOpenness.change(0, 0.2);
                    this.overrideHipnotized && this.eyeOverrideOpenness.change(0.25, 0.2);
                    var a = [0, 0, 0];
                    if (this.state === E.Idle)
                        if (t.length > 0) {
                            for (var r = 0, s = 0, l = 0, u = t; l < u.length; l++) {
                                var h = u[l];
                                (r += h.yScale / t.length), (s += h.zOffset / t.length);
                            }
                            (this.yScale = r),
                                (this.zOffset = s),
                                this.module._blobSetMouthDamping(this.blobPointer, 0.05),
                                this.module._blobSetDamping(this.blobPointer, 0.995),
                                this.module._blobSetIsDragging(this.blobPointer, !0),
                                (this.isDragging = !0);
                        } else if (
                            (this.module._blobSetIsDragging(this.blobPointer, !1),
                            (this.isDragging = !1),
                            !n || n.getMuted())
                        ) {
                            (this.yScale = Object(d.q)(this.yScale, 1, 0.07)),
                                (this.zOffset = Object(d.q)(this.zOffset, 0, 0.07)),
                                this.module._blobSetMouthDamping(this.blobPointer, 0.995);
                        } else {
                            var p = n.getF0(),
                                m = Object(d.g)(p) - Oe,
                                f = (function (e, t) {
                                    if (e <= t[0]) return 0;
                                    if (e >= t[t.length - 1]) return t.length - 1;
                                    for (var n = 0; n < t.length - 1; ++n)
                                        if (e >= t[n] && e <= t[n + 1]) return n + Object(d.o)(t[n], t[n + 1], e);
                                })(m, this.scale),
                                g = 1 + (f / (this.scale.length - 1)) * 0.6,
                                b = 0.1;
                            if (n.getControlled())
                                (g =
                                    Object(d.q)(this.MIN_Y, this.MAX_Y, f / (this.scale.length - 1)) /
                                    (this.restMouthCentroid[1] * this.config.stretch)),
                                    (b = 0.3);
                            (this.yScale = Object(d.q)(this.yScale, g, b)),
                                this.module._blobSetMouthDamping(this.blobPointer, 0),
                                this.module._blobSetDamping(this.blobPointer, 0.995);
                            var v = 0;
                            if (n.getControlled())
                                v = ((F.lastIndexOf(this.lastSoundedVowel) - 1) / (F.length - 1)) * 0.1;
                            (this.zOffset = Object(d.q)(this.zOffset, v, 0.3)), this.liveMidiNote.change(m, 0);
                        }
                    else if (this.state === E.Falling) {
                        var y = this.getFallY(),
                            x = this.getFallVelocity();
                        (this.offset[1] = y),
                            y <= 0 &&
                                ((this.state = E.Idle),
                                (this.offset[1] = 0),
                                this.module._blobAddImpulse(this.blobPointer, 0, 60 * x, 0)),
                            this.module._blobSetMouthDamping(this.blobPointer, 0.97),
                            this.module._blobSetDamping(this.blobPointer, 0.97);
                    } else if (this.state === E.Rising) {
                        y = this.getRiseY();
                        this.offset[1] = y;
                        y >= 12 && ((this.state = E.Offscreen), (this.offset[1] = 12)),
                            this.module._blobSetMouthDamping(this.blobPointer, 0.97),
                            this.module._blobSetDamping(this.blobPointer, 0.97);
                    }
                    if (this.exiting) {
                        var k = Math.max(0, this.frame - this.exitStartFrame),
                            w = 0 - e.INITIAL_RISE_SPEED * k - 0.5 * e.RISE_ACCELERATION * 3 * k * k;
                        this.offset[0] = w;
                        this.module._blobAddImpulse(this.blobPointer, 0.5, 0, 0);
                    }
                    var P = 2 * this.frame,
                        S = this.isSinging ? 0.4 : 0;
                    this.module._blobSetNoiseParameters(this.blobPointer, 100, P, S);
                    var A = 1 + 0.2 * Math.sin((this.frame / 60) * 3);
                    this.module._blobSetBreathVolumeScale(this.blobPointer, A);
                    var T = this.isSinging ? 2 : 0;
                    this.module._tongueSetWindForce(this.tonguePointer, 0.006),
                        this.module._tongueSetOscillationScale(this.tonguePointer, T);
                    if (
                        (this.frame,
                        this.exitStartFrame,
                        this.module._blobStep(this.blobPointer, this.yScale, this.zOffset, a[0], a[1], a[2]),
                        t.length > 0)
                    ) {
                        var M = this.getMouthCentroid();
                        this.mouthY = Object(d.q)(this.mouthY, M[1], 1);
                        var L = {
                            midiPitch: z(
                                this.scale,
                                Object(d.o)(this.MIN_Y, this.MAX_Y, this.mouthY),
                                this.currentPitchVowel.midiPitch,
                                0.3
                            ),
                            vowel: z(F, Object(d.o)(this.MIN_Z, this.MAX_Z, M[2]), this.currentPitchVowel.vowel, 0.2),
                        };
                        this.liveMidiNote.change(L.midiPitch, 0.2),
                            R(this.currentPitchVowel, L) ||
                                ((this.timeCurrentNoteReached = Date.now()), (this.currentPitchVowel = L));
                    } else this.currentPitchVowel = { midiPitch: 0, vowel: _.b.a };
                    var D = this.isSinging ? n.getMidiNote() - Oe : null;
                    this.pitchUI.update(
                        !!t.find(function (e) {
                            return e.isSelf;
                        }),
                        this.currentPitchVowel.midiPitch,
                        D
                    ),
                        this.vowelUI.update(
                            !!t.find(function (e) {
                                return e.isSelf;
                            }),
                            this.currentPitchVowel.vowel,
                            this.isSinging ? this.lastSoundedVowel : null
                        ),
                        this.recomputeMatrices(),
                        c.transformPosition(this.localLookPosition, this.lookPosition, this.inverseModelMatrix);
                    for (var O = 0, I = this.eyes; O < I.length; O++) {
                        I[O].step(this.localLookPosition, Math.PI / 2 - this.getTopEyelidAngleWithoutBlink());
                    }
                    this.updateRenderData(),
                        this.smoothIsSinging.change(this.isSinging ? 1 : 0, 0.1),
                        this.rimLevel.change(this.isDragging ? 0.4 : 0, 0.1),
                        (this.frame += 1);
                }),
                (e.prototype.getTimeOnCurrentNote = function () {
                    return (Date.now() - this.timeCurrentNoteReached) / 1e3;
                }),
                (e.prototype.updateRenderData = function () {
                    var e = this.module.HEAPF32.subarray(
                            this.module._blobGetRenderingPositions(this.blobPointer) >> 2,
                            (this.module._blobGetRenderingPositions(this.blobPointer) >> 2) +
                                3 * this.renderingVertexCount
                        ),
                        t = this.module.HEAPF32.subarray(
                            this.module._blobGetRenderingNormals(this.blobPointer) >> 2,
                            (this.module._blobGetRenderingNormals(this.blobPointer) >> 2) +
                                3 * this.renderingVertexCount
                        ),
                        n = this.module.HEAPF32.subarray(
                            this.module._blobGetRenderingSpeeds(this.blobPointer) >> 2,
                            (this.module._blobGetRenderingSpeeds(this.blobPointer) >> 2) + 1 * this.renderingVertexCount
                        ),
                        i = this.gl;
                    i.bindBuffer(i.ARRAY_BUFFER, this.positionsBuffer),
                        i.bufferData(i.ARRAY_BUFFER, e, i.DYNAMIC_DRAW),
                        i.bindBuffer(i.ARRAY_BUFFER, this.normalsBuffer),
                        i.bufferData(i.ARRAY_BUFFER, t, i.DYNAMIC_DRAW),
                        i.bindBuffer(i.ARRAY_BUFFER, this.speedsBuffer),
                        i.bufferData(i.ARRAY_BUFFER, n, i.DYNAMIC_DRAW);
                }),
                (e.prototype.getMouthPositions = function () {
                    return this.module.HEAPF32.subarray(
                        this.module._blobGetMouthPositions(this.blobPointer) >> 2,
                        (this.module._blobGetMouthPositions(this.blobPointer) >> 2) + 3 * this.mouthPositionCount
                    );
                }),
                (e.prototype.rayIntersect = function (e, t) {
                    var n = c.transformPosition([], e, this.inverseModelMatrix),
                        i = c.transformDirection([], t, this.inverseModelMatrix);
                    return (
                        h.a.normalize(i, i),
                        this.module._blobRayIntersect(this.blobPointer, n[0], n[1], n[2], i[0], i[1], i[2])
                    );
                }),
                (e.prototype.getVertexPosition = function (e) {
                    return this.module.HEAPF32.subarray(
                        (this.module._blobGetPositions(this.blobPointer) >> 2) + 3 * e,
                        (this.module._blobGetPositions(this.blobPointer) >> 2) + 3 * e + 3
                    );
                }),
                (e.prototype.getRestPosition = function (e) {
                    return this.module.HEAPF32.subarray(
                        (this.module._blobGetRestPositions(this.blobPointer) >> 2) + 3 * e,
                        (this.module._blobGetRestPositions(this.blobPointer) >> 2) + 3 * e + 3
                    );
                }),
                (e.prototype.getHatModelMatrix = function () {
                    return (
                        c.premultiply(
                            this.hatModelMatrix,
                            c.makeTranslation(this.tempMatrix, 0, 10 * this.hatOffset.evaluate(), 0),
                            this.modelMatrix
                        ),
                        this.hatModelMatrix
                    );
                }),
                (e.prototype.getTonguePositions = function () {
                    return this.module.HEAPF32.subarray(
                        this.module._tongueGetPositions(this.tonguePointer) >> 2,
                        (this.module._tongueGetPositions(this.tonguePointer) >> 2) + 3 * this.tonguePositionCount
                    );
                }),
                (e.prototype.getTongueTangents = function () {
                    return this.module.HEAPF32.subarray(
                        this.module._tongueGetTangents(this.tonguePointer) >> 2,
                        (this.module._tongueGetTangents(this.tonguePointer) >> 2) + 3 * this.tonguePositionCount
                    );
                }),
                (e.prototype.getTongueNormals = function () {
                    return this.module.HEAPF32.subarray(
                        this.module._tongueGetNormals(this.tonguePointer) >> 2,
                        (this.module._tongueGetNormals(this.tonguePointer) >> 2) + 3 * this.tonguePositionCount
                    );
                }),
                (e.prototype.getBottomEyelidAngle = function () {
                    return this.blinker.evaluate() * this.eyeBottomOpenness.evaluate() * Math.PI * 0.5;
                }),
                (e.prototype.getTopEyelidAngleWithoutBlink = function () {
                    return (
                        Math.max(
                            0,
                            Object(d.q)(0, 1, this.eyeTopOpenness.evaluate() - this.eyeOverrideOpenness.evaluate())
                        ) *
                        Math.PI *
                        0.5
                    );
                }),
                (e.prototype.getTopEyelidAngle = function () {
                    return Object(d.q)(0, this.getTopEyelidAngleWithoutBlink(), this.blinker.evaluate());
                }),
                (e.prototype.getMouthCentroid = function () {
                    var e = this.module._blobGetMouthCentroid(this.blobPointer);
                    return this.module.HEAPF32.subarray(e >> 2, 3 + (e >> 2));
                }),
                (e.prototype.getIntersectedRestPosition = function () {
                    var e = this.module._blobGetIntersectedRestPosition(this.blobPointer);
                    return this.module.HEAPF32.subarray(e >> 2, 3 + (e >> 2));
                }),
                (e.prototype.getRestWidth = function () {
                    for (var e = 1 / 0, t = -1 / 0, n = 0; n < this.vertexCount; ++n) {
                        var i = this.restPositions[3 * n + 0];
                        (e = Math.min(e, i)), (t = Math.max(t, i));
                    }
                    return t - e;
                }),
                (e.prototype.getTopPosition = function () {
                    for (var e = 0; e < 3; ++e)
                        this.topPosition[e] = 0.5 * (this.eyes[0].attachPosition[e] + this.eyes[1].attachPosition[e]);
                    return this.topPosition;
                }),
                (e.prototype.addImpulse = function (e, t, n) {
                    this.module._blobAddImpulse(this.blobPointer, e, t, n);
                }),
                (e.prototype.destroy = function () {
                    this.module._deleteBlob(this.blobPointer);
                    var e = this.gl;
                    e.deleteBuffer(this.positionsBuffer),
                        e.deleteBuffer(this.uvsBuffer),
                        e.deleteBuffer(this.normalsBuffer),
                        e.deleteBuffer(this.indexBuffer),
                        e.deleteBuffer(this.speedsBuffer);
                }),
                (e.INITIAL_FALL_SPEED = -0.02),
                (e.GRAVITY = -0.002),
                (e.INITIAL_RISE_SPEED = 0),
                (e.RISE_ACCELERATION = 0.006),
                e
            );
        })();
        function N(e, t) {
            return (e.a = -t[1] + t[3]), (e.b = -t[5] + t[7]), (e.c = -t[9] + t[11]), (e.d = -t[13] + t[15]), e;
        }
        function G(e, t) {
            return (e.a = t[1] + t[3]), (e.b = t[5] + t[7]), (e.c = t[9] + t[11]), (e.d = t[13] + t[15]), e;
        }
        function H(e, t) {
            return (e.a = -t[0] + t[3]), (e.b = -t[4] + t[7]), (e.c = -t[8] + t[11]), (e.d = -t[12] + t[15]), e;
        }
        function U(e, t) {
            return (e.a = t[0] + t[3]), (e.b = t[4] + t[7]), (e.c = t[8] + t[11]), (e.d = t[12] + t[15]), e;
        }
        function V(e, t, n) {
            var i = Object(d.s)(-10, 10),
                o = Object(d.s)(-10, 10),
                a = Object(d.s)(-10, 10);
            0 === n ? (i = (-t.d - t.b * o - t.c * a) / t.a) : 1 === n && (o = (-t.d - t.a * i - t.c * a) / t.b),
                (e[0] = i),
                (e[1] = o),
                (e[2] = a);
        }
        var Y,
            q = (function () {
                function e(e, t, n, i, o, a, r) {
                    (this.time = 0),
                        (this.nextSpawnIndex = 0),
                        (this.spawnedParticleCount = 0),
                        (this.plane = { a: 0, b: 0, c: 0, d: 0 }),
                        (this.spawnPosition = [0, 0, 0]),
                        (this.gl = e),
                        (this.particleCount = t),
                        (this.spawnDirections = n),
                        (this.useVelocity = i);
                    for (var s = [], l = [], c = 0; c < this.particleCount; ++c) {
                        l.push(-1, -1), l.push(1, -1), l.push(1, 1), l.push(-1, 1);
                        var h = 4 * c;
                        s.push(h + 0, h + 1, h + 2), s.push(h + 2, h + 3, h + 0);
                    }
                    (this.offsetBuffer = u(e, e.ARRAY_BUFFER, new Float32Array(l), e.STATIC_DRAW)),
                        (this.spawnTimeBuffer = u(
                            e,
                            e.ARRAY_BUFFER,
                            new Float32Array(4 * this.particleCount),
                            e.DYNAMIC_DRAW
                        )),
                        (this.spawnPositionBuffer = u(
                            e,
                            e.ARRAY_BUFFER,
                            new Float32Array(4 * this.particleCount * 3),
                            e.DYNAMIC_DRAW
                        )),
                        this.useVelocity &&
                            (this.spawnVelocityBuffer = u(
                                e,
                                e.ARRAY_BUFFER,
                                new Float32Array(4 * this.particleCount * 3),
                                e.DYNAMIC_DRAW
                            ));
                    var d = [];
                    for (c = 0; c < this.particleCount; ++c)
                        for (var p = [Math.random(), Math.random(), Math.random(), Math.random()], m = 0; m < 4; ++m)
                            d.push(Math.random(), p[1], p[2], p[3]);
                    (this.randomBuffer = u(e, e.ARRAY_BUFFER, new Float32Array(d), e.STATIC_DRAW)),
                        (this.indexBuffer = u(e, e.ELEMENT_ARRAY_BUFFER, new Uint16Array(s), e.STATIC_DRAW)),
                        (this.spawnTimeData = new Float32Array(4 * this.particleCount * 1)),
                        (this.spawnPositionData = new Float32Array(4 * this.particleCount * 3)),
                        this.useVelocity && (this.spawnVelocityData = new Float32Array(4 * this.particleCount * 3)),
                        o && this.spawn(0, this.particleCount, 0, r, 1 / a);
                }
                return (
                    (e.prototype.spawn = function (e, t, n, i, o) {
                        if (0 !== t) {
                            this.nextSpawnIndex + t >= this.particleCount && (this.nextSpawnIndex = 0);
                            for (var a = 0; a < t; ++a) {
                                var r = this.spawnDirections[Math.floor(Math.random() * this.spawnDirections.length)],
                                    s = 0.5 * Math.PI,
                                    l = Object(d.s)(-s / 2, s / 2),
                                    u = 0;
                                "left" === r
                                    ? (H(this.plane, i), (u = Math.PI + l))
                                    : "right" === r
                                    ? (U(this.plane, i), (u = 0 + l))
                                    : "top" === r
                                    ? (N(this.plane, i), (u = -Math.PI / 2 + l))
                                    : "bottom" === r && (G(this.plane, i), (u = Math.PI / 2 + l)),
                                    "left" === r || "right" === r
                                        ? V(this.spawnPosition, this.plane, 0)
                                        : ("bottom" !== r && "top" !== r) || V(this.spawnPosition, this.plane, 1);
                                for (
                                    var c = Object(d.s)(0.01, 0.1),
                                        h = e - Math.random() * n - (this.particleCount - 1 - a) * o,
                                        p = 0;
                                    p < 4;
                                    ++p
                                )
                                    (this.spawnTimeData[4 * a + p] = h),
                                        (this.spawnPositionData[4 * a * 3 + 3 * p + 0] = this.spawnPosition[0]),
                                        (this.spawnPositionData[4 * a * 3 + 3 * p + 1] = this.spawnPosition[1]),
                                        (this.spawnPositionData[4 * a * 3 + 3 * p + 2] = this.spawnPosition[2]),
                                        this.useVelocity &&
                                            ((this.spawnVelocityData[4 * a * 3 + 3 * p + 0] = Math.cos(u) * c),
                                            (this.spawnVelocityData[4 * a * 3 + 3 * p + 1] = Math.sin(u) * c),
                                            (this.spawnVelocityData[4 * a * 3 + 3 * p + 2] = 0));
                            }
                            var m = this.gl;
                            m.bindBuffer(m.ARRAY_BUFFER, this.spawnTimeBuffer),
                                m.bufferSubData(
                                    m.ARRAY_BUFFER,
                                    4 * this.nextSpawnIndex * 4,
                                    this.spawnTimeData.subarray(0, 4 * t)
                                ),
                                m.bindBuffer(m.ARRAY_BUFFER, this.spawnPositionBuffer),
                                m.bufferSubData(
                                    m.ARRAY_BUFFER,
                                    4 * this.nextSpawnIndex * 3 * 4,
                                    this.spawnPositionData.subarray(0, 4 * t * 3)
                                ),
                                this.useVelocity &&
                                    (m.bindBuffer(m.ARRAY_BUFFER, this.spawnVelocityBuffer),
                                    m.bufferSubData(
                                        m.ARRAY_BUFFER,
                                        4 * this.nextSpawnIndex * 3 * 4,
                                        this.spawnVelocityData.subarray(0, 4 * t * 3)
                                    )),
                                (this.nextSpawnIndex += t),
                                (this.spawnedParticleCount += t);
                        }
                    }),
                    (e.prototype.update = function (e, t, n) {
                        var i = Math.floor(e * t);
                        this.spawn(this.time, i, e, n, 0), (this.time += e);
                    }),
                    e
                );
            })(),
            W =
                ((Y = function (e, t) {
                    return (Y =
                        Object.setPrototypeOf ||
                        ({ __proto__: [] } instanceof Array &&
                            function (e, t) {
                                e.__proto__ = t;
                            }) ||
                        function (e, t) {
                            for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
                        })(e, t);
                }),
                function (e, t) {
                    function n() {
                        this.constructor = e;
                    }
                    Y(e, t), (e.prototype = null === t ? Object.create(t) : ((n.prototype = t.prototype), new n()));
                }),
            J = (function (e) {
                function t(t, n, i, o) {
                    return e.call(this, t, 1e4, ["top"], !1, n, i, o) || this;
                }
                return W(t, e), t;
            })(q);
        function K(e, t, n) {
            var i = [],
                o = 0;
            function a(e, t, n) {
                for (var a = 9 * e, r = 0; r < 16; ++r) i.push(r), i.push(a), i.push(t), i.push(n);
                o += 1;
            }
            for (var r = t ? 0.2 : 0, s = t ? 10 : 0, l = 0; l < s; ++l) {
                var c = l / (s - 1);
                a(c * r, (p = 1 + 0.2 * Math.sqrt(1 - Math.pow(2 * c - 1, 2))), 0);
            }
            for (l = 0; l < 10; ++l) {
                var h = l / 9,
                    p = Object(d.q)(1, 0.1, h);
                a(Object(d.q)(r, 1, h), p, 1);
            }
            for (l = 0; l < 10; ++l) {
                var m = l / 9;
                a(1 + m * n, (p = Math.sqrt(1 - Math.pow(2 * m - 1, 2)) * n * 2), 0);
            }
            for (var f = [], g = 0; g < o - 1; ++g)
                for (l = 0; l < 16; ++l) {
                    var b = 16 * g + l,
                        v = 16 * g + ((l + 1) % 16),
                        y = b + 16,
                        x = v + 16;
                    f.push(b, v, x), f.push(x, y, b);
                }
            var k = [];
            for (l = 0; l < 16; ++l) {
                var _ = (2 * Math.PI * l) / 16;
                k.push([-Math.cos(_), -Math.sin(_), 0]);
            }
            var w = [];
            for (l = 0; l < i.length / 4; ++l) {
                var P = i[4 * l + 0],
                    S = i[4 * l + 1];
                p = 0.3 * i[4 * l + 2];
                w.push(k[P][0] * p, k[P][1] * p, (0.8 * S) / 9);
            }
            var A = Object(d.c)(w, f, 2.1);
            return {
                dataBuffer: u(e, e.ARRAY_BUFFER, new Float32Array(i), e.STATIC_DRAW),
                normalsBuffer: u(e, e.ARRAY_BUFFER, new Float32Array(A), e.STATIC_DRAW),
                indexBuffer: u(e, e.ELEMENT_ARRAY_BUFFER, new Uint16Array(f), e.STATIC_DRAW),
                indexCount: f.length,
            };
        }
        function X(e) {
            return K(e, !0, 0.2);
        }
        function Z(e) {
            return K(e, !1, 0.1);
        }
        var Q = [1, 0.37, 0.3];
        function $(e, t) {
            for (var n = [], i = 0; i < 3; ++i) {
                var o = t / (0.001 + Q[i]);
                n[i] = Math.exp((-o * o) / (2 * e)) / (2 * Math.PI * e);
            }
            return n;
        }
        function ee(e, t) {
            var n = (function (e) {
                    for (var t = e > 20 ? 3 : 2, n = [], i = (2 * t) / (e - 1), o = 0; o < e; ++o) {
                        var a = o * i - t,
                            r = a < 0 ? -1 : 1;
                        n.push((t * r * Math.abs(Math.pow(a, 2))) / Math.pow(t, 2));
                    }
                    var s,
                        l = [];
                    for (o = 0; o < e; ++o) {
                        var u =
                            ((o > 0 ? Math.abs(n[o] - n[o - 1]) : 0) + (o < e - 1 ? Math.abs(n[o] - n[o + 1]) : 0)) / 2;
                        ((c = h.a.multiplyByScalar(
                            [],
                            ((s = n[o]),
                            h.a.addList(
                                [],
                                [
                                    h.a.multiplyByScalar([], $(0.0484, s), 0.1),
                                    h.a.multiplyByScalar([], $(0.187, s), 0.118),
                                    h.a.multiplyByScalar([], $(0.567, s), 0.113),
                                    h.a.multiplyByScalar([], $(1.99, s), 0.358),
                                    h.a.multiplyByScalar([], $(7.41, s), 0.078),
                                ]
                            )),
                            u
                        ))[3] = n[o]),
                            l.push(c);
                    }
                    var c = l[Math.floor(e / 2)];
                    for (o = Math.floor(e / 2); o > 0; --o) l[o] = l[o - 1];
                    l[0] = c;
                    var d = h.a.addList([], l);
                    for (o = 0; o < e; ++o) (l[o][0] /= d[0]), (l[o][1] /= d[1]), (l[o][2] /= d[2]);
                    return l;
                })(e),
                i = "vec3(" + n[0][0].toFixed(10) + "," + n[0][1].toFixed(10) + "," + n[0][2].toFixed(10) + ")",
                o = (function (e) {
                    for (var t = 1; t < e.length; ++t) if (!Object(d.a)(e[0], e[t])) return !1;
                    return !0;
                })(t),
                a =
                    "precision highp float;\n\n        varying vec2 v_coordinates;\n\n        uniform sampler2D u_colorTexture;\n\n        uniform vec2 u_direction;\n        uniform vec2 u_resolution;\n\n        uniform mat4 u_projectionMatrix;\n        uniform float u_near;\n        uniform float u_far;\n\n        uniform int u_gammaCorrect;\n        uniform float u_gamma;\n\n        #define SSS_INDEX_COUNT 8\n        float getSSSAlpha(int sssIndex) {\n            return float(sssIndex + 1) / float(SSS_INDEX_COUNT);\n        }\n\n        int sssAlphaToIndex(float sssAlpha) {\n            return int(sssAlpha * float(SSS_INDEX_COUNT) - 0.9);\n        }\n\n        float linearizeDepth (float depth, float near, float far) {\n            depth = 2.0 * depth - 1.0;\n            return 2.0 * near * far / (far + near - depth * (far - near));\n        }\n\n        float rand(vec2 co){\n            return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n        }\n\n        void main () {\n            vec4 color = texture2D(u_colorTexture, v_coordinates);\n\n            if (color.a == 0.0) discard;\n\n            vec3 colorM = color.rgb;\n            float z = 20.0;\n\n            float width = 0.1; //filter width in world space\n            width *= (1.0 + rand(gl_FragCoord.xy) * 0.3);\n\n            vec4 corner = vec4(width, width, z, 1.0);\n            corner = u_projectionMatrix * corner;\n            corner.xyz /= corner.w;\n            corner.xy *= 0.5;\n            corner.xy = abs(corner.xy);\n\n            int sssIndex = sssAlphaToIndex(color.a);\n            ";
            if (o) {
                a +=
                    "\n            vec3 strength = vec3(" +
                    (s = t[0])[0].toFixed(10) +
                    ", " +
                    s[1].toFixed(10) +
                    ", " +
                    s[2].toFixed(10) +
                    ");\n                    ";
            } else {
                a += "\n            vec3 strength = vec3(0.0);\n            ";
                for (var r = 0; r < t.length; ++r) {
                    var s = t[r];
                    a +=
                        "\n            " +
                        (0 === r ? "if" : "else if") +
                        "  (sssIndex == " +
                        r.toFixed(0) +
                        ") {\n                strength = vec3(" +
                        s[0].toFixed(10) +
                        ", " +
                        s[1].toFixed(10) +
                        ", " +
                        s[2].toFixed(10) +
                        ");\n            }\n                    ";
                }
            }
            (a +=
                "\n            vec3 kernel0 = " +
                i +
                ";\n            kernel0 = (1.0 - strength) + strength * kernel0;\n\n            vec3 colorBlurred = colorM;\n            colorBlurred *= kernel0;\n\n            vec2 delta = u_direction * corner.xy;\n    "),
                (a += "\n");
            for (r = 1; r < n.length; ++r) {
                var l = n[r],
                    u = "sample" + r.toFixed(0);
                if (
                    ((a +=
                        "\n            vec4 " +
                        u +
                        " = texture2D(u_colorTexture, v_coordinates + delta * " +
                        l[3].toFixed(10) +
                        ");\n            " +
                        u +
                        ".rgb = color.a == " +
                        u +
                        ".a ? " +
                        u +
                        ".rgb : colorM;\n        "),
                    o)
                ) {
                    s = t[0];
                    a +=
                        "\n            colorBlurred.rgb += vec3(" +
                        (l[0] * s[0]).toFixed(10) +
                        ", " +
                        (l[1] * s[1]).toFixed(10) +
                        ", " +
                        (l[2] * s[2]).toFixed(10) +
                        ") * " +
                        u +
                        ".rgb;\n            ";
                } else
                    a +=
                        "\n            colorBlurred.rgb += vec3(" +
                        l[0].toFixed(10) +
                        ", " +
                        l[1].toFixed(10) +
                        ", " +
                        l[2].toFixed(10) +
                        ") * " +
                        u +
                        ".rgb * strength;\n            ";
            }
            return (a +=
                "\n            if (u_gammaCorrect == 1) {\n                colorBlurred.rgb = pow(colorBlurred.rgb, 1.0 / vec3(u_gamma));\n            }\n            gl_FragColor = vec4(colorBlurred, color.a);\n        }");
        }
        var te = (function () {
                var e = function (t, n) {
                    return (e =
                        Object.setPrototypeOf ||
                        ({ __proto__: [] } instanceof Array &&
                            function (e, t) {
                                e.__proto__ = t;
                            }) ||
                        function (e, t) {
                            for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
                        })(t, n);
                };
                return function (t, n) {
                    function i() {
                        this.constructor = t;
                    }
                    e(t, n), (t.prototype = null === n ? Object.create(n) : ((i.prototype = n.prototype), new i()));
                };
            })(),
            ne = (function (e) {
                function t(t, n, i, o) {
                    return e.call(this, t, 1e4, ["left", "right", "bottom", "top"], !0, n, i, o) || this;
                }
                return te(t, e), t;
            })(q),
            ie = (function () {
                var e = function (t, n) {
                    return (e =
                        Object.setPrototypeOf ||
                        ({ __proto__: [] } instanceof Array &&
                            function (e, t) {
                                e.__proto__ = t;
                            }) ||
                        function (e, t) {
                            for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
                        })(t, n);
                };
                return function (t, n) {
                    function i() {
                        this.constructor = t;
                    }
                    e(t, n), (t.prototype = null === n ? Object.create(n) : ((i.prototype = n.prototype), new i()));
                };
            })();
        var oe = (function (e) {
                function t(t, n, i, o) {
                    for (
                        var a,
                            r,
                            s,
                            l = e.call(this, t, 1e4, ["top"], !1, n, i, o) || this,
                            c = [],
                            h = [0, 0, 0],
                            p = [0, 0, 0, 0],
                            m = 0;
                        m < l.particleCount;
                        ++m
                    ) {
                        (a = h),
                            (r = void 0),
                            (s = void 0),
                            (r = Object(d.s)(0, 2 * Math.PI)),
                            (s = Object(d.s)(-1, 1)),
                            (a[0] = Math.sqrt(1 - s * s) * Math.cos(r)),
                            (a[1] = Math.sqrt(1 - s * s) * Math.sin(r)),
                            (a[2] = s);
                        for (var f = 0; f < 4; ++f) c.push(h[0], h[1], h[2], p[3]);
                    }
                    return (l.rotationBuffer = u(t, t.ARRAY_BUFFER, new Float32Array(c), t.STATIC_DRAW)), l;
                }
                return ie(t, e), t;
            })(q),
            ae = (function () {
                function e(e, t, n, i) {
                    (this.gl = e), (this.particleCount = 1e3), (this.spawnPosition = t), (this.spawnTime = i);
                    for (
                        var o = h.a.normalize([], h.a.cross([], n, [0, 1, 0])), a = h.a.cross([], o, n), r = [], s = 0;
                        s < this.particleCount;
                        ++s
                    ) {
                        var l = 1 - 0.1 * Math.pow(Math.random(), 1.5),
                            c = 2 * Math.random() * Math.PI,
                            p = Math.sqrt(1 - l * l),
                            m = p * Math.cos(c),
                            f = p * Math.sin(c),
                            g = 10 * Object(d.s)(0.1, 4),
                            b = (m * o[0] + f * a[0] + l * n[0]) * g,
                            v = (m * o[1] + f * a[1] + l * n[1]) * g,
                            y = (m * o[2] + f * a[2] + l * n[2]) * g;
                        v = Math.max(v, 0);
                        for (var x = 0; x < 4; ++x) r.push(b, v, y);
                    }
                    this.spawnVelocityBuffer = u(e, e.ARRAY_BUFFER, new Float32Array(r), e.STATIC_DRAW);
                    var k = [];
                    for (s = 0; s < this.particleCount; ++s) {
                        var _ = [Math.random(), Math.random(), Math.random(), Math.random()];
                        for (x = 0; x < 4; ++x) k.push(Math.random(), _[1], _[2], _[3]);
                    }
                    this.randomBuffer = u(e, e.ARRAY_BUFFER, new Float32Array(k), e.STATIC_DRAW);
                    var w = [],
                        P = [];
                    for (s = 0; s < this.particleCount; ++s) {
                        P.push(-1, -1), P.push(1, -1), P.push(1, 1), P.push(-1, 1);
                        var S = 4 * s;
                        w.push(S + 0, S + 1, S + 2), w.push(S + 2, S + 3, S + 0);
                    }
                    (this.offsetBuffer = u(e, e.ARRAY_BUFFER, new Float32Array(P), e.STATIC_DRAW)),
                        (this.indexBuffer = u(e, e.ELEMENT_ARRAY_BUFFER, new Uint16Array(w), e.STATIC_DRAW));
                    var A = [],
                        T = [0, 0, 0],
                        E = [0, 0, 0, 0];
                    for (s = 0; s < this.particleCount; ++s) {
                        re(T);
                        for (x = 0; x < 4; ++x) A.push(T[0], T[1], T[2], E[3]);
                    }
                    this.rotationBuffer = u(e, e.ARRAY_BUFFER, new Float32Array(A), e.STATIC_DRAW);
                }
                return (
                    (e.prototype.destroy = function () {
                        this.gl.deleteBuffer(this.spawnVelocityBuffer),
                            this.gl.deleteBuffer(this.offsetBuffer),
                            this.gl.deleteBuffer(this.randomBuffer),
                            this.gl.deleteBuffer(this.rotationBuffer),
                            this.gl.deleteBuffer(this.indexBuffer);
                    }),
                    e
                );
            })();
        function re(e) {
            var t = Object(d.s)(0, 2 * Math.PI),
                n = Object(d.s)(-1, 1);
            (e[0] = Math.sqrt(1 - n * n) * Math.cos(t)), (e[1] = Math.sqrt(1 - n * n) * Math.sin(t)), (e[2] = n);
        }
        var se =
                "\nprecision highp float;\n\nattribute vec3 a_data;\nattribute vec3 a_normal;\nattribute vec2 a_uv;\n\nuniform int u_vertexCount;\nuniform vec3 u_positions[24];\n\nuniform mat4 u_modelMatrix;\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_viewMatrix;\n\nuniform float u_lipScale;\n\nvarying float v_linearPosition;\nvarying vec3 v_normal;\nvarying vec3 v_position;\nvarying vec2 v_uv;\nvarying vec3 v_localPosition;\n\n#ifdef SHADOW\nvarying vec4 v_clipSpacePosition;\n#endif\n\nvec3 sampleFilament(float filamentIndex, float vertexIndex) {\n    return u_positions[int(vertexIndex + 0.001)] + vec3(0.0, 0.0, 0.04);\n}\n\nvec3 evaluateCubicSpline(vec3 leftPosition, vec3 rightPosition, vec3 leftTangent, vec3 rightTangent, float t) {\n    float t2 = t * t;\n    float t3 = t2 * t;\n\n    return (2.0 * t3 - 3.0 * t2 + 1.0) * leftPosition + (t3 - 2.0 * t2 + t) * leftTangent + (-2.0 * t3 + 3.0 * t2) * rightPosition + (t3 - t2) * rightTangent;\n}\n\nvec3 evaluateCubicSplineTangent(vec3 leftPosition, vec3 rightPosition, vec3 leftTangent, vec3 rightTangent, float t) {\n    float t2 = t * t;\n    return (6.0 * t2 - 6.0 * t) * leftPosition + (3.0 * t2 - 4.0 * t + 1.0) * leftTangent + (-6.0 * t2 + 6.0 * t) * rightPosition + (3.0 * t2 - 2.0 * t) * rightTangent;\n}\n\nfloat posMod(float i, float n) {\n    return mod((n + mod(i, n)), n);\n}\n\nvoid main () {\n    float lipScale = u_lipScale * 0.032;\n    vec3 position = a_data.xyz * vec3(lipScale, lipScale, float(u_vertexCount - 1));\n    float filamentIndex = 0.0;\n\n    v_linearPosition = a_data.z;\n\n    float index = position.z;\n    float leftIndex = floor(position.z + 0.001);\n    float rightIndex = floor(mod(leftIndex + 1.0001, float(u_vertexCount)));\n    \n    float t = clamp(index - leftIndex, 0.0, 1.0);\n\n    vec3 leftLeftPosition = sampleFilament(filamentIndex, floor(posMod(leftIndex - 0.9999, float(u_vertexCount)))).xyz;\n    vec3 leftPosition = sampleFilament(filamentIndex, leftIndex).xyz;\n    vec3 rightPosition = sampleFilament(filamentIndex, rightIndex).xyz;\n    vec3 rightRightPosition = sampleFilament(filamentIndex, floor(posMod(rightIndex + 1.0001, float(u_vertexCount)))).xyz;\n\n    vec3 leftTangent = (rightPosition - leftLeftPosition) * 0.5;\n    vec3 rightTangent = (rightRightPosition - leftPosition) * 0.5;\n\n    //vec3 tangent = normalize(mix(leftTangent, rightTangent, t));\n    vec3 tangent = normalize(evaluateCubicSplineTangent(leftPosition, rightPosition, leftTangent, rightTangent, t));\n\n    vec3 right = normalize(cross(tangent, vec3(0.0, 0.0, 1.0)));\n    vec3 up = normalize(cross(right, tangent));\n\n    vec3 localNormal = normalize(vec3(a_data.x, a_data.y, 0.0));\n\n    localNormal = normalize(localNormal.x * right + localNormal.y * up);\n    v_normal = (u_modelMatrix * vec4(localNormal, 0.0)).xyz;\n\n    vec3 localPosition = evaluateCubicSpline(leftPosition, rightPosition, leftTangent, rightTangent, t) + position.x * right + position.y * up;\n    v_localPosition = localPosition;\n\n    vec3 worldPosition = (u_modelMatrix * vec4(localPosition, 1.0)).xyz;\n    v_position = worldPosition;\n    v_uv = a_uv;\n\n    #ifdef SHADOW\n    v_clipSpacePosition = u_projectionMatrix * u_viewMatrix * vec4(worldPosition, 1.0);\n    #endif\n\n    gl_Position = u_projectionMatrix * u_viewMatrix * vec4(worldPosition, 1.0);\n\n    //gl_Position = vec4(position.xz, 0.0, 1.0);\n}\n",
            le =
                "\nprecision highp float;\n\nvarying vec4 v_clipSpacePosition;\n\nconst float PackUpscale = 256.0 / 255.0;\nconst float UnpackDownscale = 255.0 / 256.0;\n\nconst vec3 PackFactors = vec3( 256.0 * 256.0 * 256.0, 256.0 * 256.0,  256.0);\nconst vec4 UnpackFactors = UnpackDownscale / vec4(PackFactors, 1.0);\n\nconst float ShiftRight8 = 1.0 / 256.0;\n\nvec4 packDepthToRGBA(const in float v) {\n    vec4 r = vec4(fract(v * PackFactors), v);\n    r.yzw -= r.xyz * ShiftRight8;\n    return r * PackUpscale;\n}\n\nvoid main () {\n\tfloat ndcDepth = v_clipSpacePosition.z / v_clipSpacePosition.w;\n\tgl_FragColor = packDepthToRGBA(ndcDepth * 0.5 + 0.5);\n}\n",
            ue =
                "\nprecision highp float;\n\nattribute vec2 a_position;\nvarying vec2 v_uv;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_viewMatrix;\n\nuniform mat4 u_referenceProjectionViewMatrix;\n\nvarying vec4 v_clipSpacePosition;\nvarying vec4 v_referenceClipSpacePosition;\n\nuniform float u_transitionT;\n\nvec2 rotate(vec2 v, float a) {\n\tfloat s = sin(a);\n\tfloat c = cos(a);\n\tmat2 m = mat2(c, -s, s, c);\n\treturn m * v;\n}\n\n#define PI 3.1415926535\n\nvoid main () {\n    v_uv = a_position * 0.5 + 0.5;\n\n    vec2 planarPosition = rotate(vec2(a_position.x, 0.0), 0.523599);\n\n    vec3 worldPosition = vec3(\n        planarPosition.x,\n        a_position.y,\n        planarPosition.y\n    );\n\n    worldPosition *= 1000.0;\n    worldPosition.z -= 0.0;\n\n    v_referenceClipSpacePosition = u_referenceProjectionViewMatrix * vec4(worldPosition, 1.0);\n    v_clipSpacePosition = u_projectionMatrix * u_viewMatrix * vec4(worldPosition, 1.0);\n\n    vec4 position = u_projectionMatrix * u_viewMatrix * vec4(worldPosition, 1.0);\n    position.z = position.w - 0.001;\n    gl_Position = position;\n}\n";
        function ce(e, t, n) {
            for (
                var i = 2 * e + 1,
                    o =
                        "\n    vec4 " +
                        n +
                        "(vec2 uv, float blurWidth) {\n        blurWidth *= 1.0 + rand(uv) * 0.25;\n        vec4 accumulate = vec4(0.0);\n    ",
                    a = -e;
                a <= e;
                ++a
            )
                o +=
                    "\n        accumulate += texture2D(" +
                    t +
                    ", uv + vec2(blurWidth * " +
                    (a / e).toFixed(8) +
                    ", 0.0));";
            return (o += "\n        accumulate /= " + i.toFixed(8) + ";\n        return accumulate;\n    }\n    ");
        }
        var he =
                "\nprecision highp float;\n\nattribute vec2 a_offset;\nattribute vec4 a_random;\nattribute vec4 a_rotation;\n\n#ifdef POP\n\nattribute vec3 a_spawnVelocity;\n\nuniform float u_spawnTime;\nuniform vec3 u_spawnPosition;\n\n#else\n\nattribute vec3 a_spawnPosition;\nattribute float a_spawnTime;\n\n#endif\n\nuniform float u_time;\nuniform vec3 u_cameraPosition;\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_viewMatrix;\nuniform float u_transitionT;\n\nvarying vec2 v_offset;\nvarying vec3 v_worldPosition;\nvarying vec4 v_random;\nvarying vec3 v_color;\nvarying vec3 v_normal;\n\n#define PI 3.14159265358979323846\n\nconst float floorY = 0.0 + 0.01; // Slight offset to put above ground\nconst float GRAVITY = -0.8;\n\nvarying float v_alpha;\n\nvec3 rotateVector(vec3 axis, float angle, vec3 v) { \n    vec4 q = vec4(axis * sin(angle * 0.5), cos(angle * 0.5));\n    return v + 2.0 * cross(q.xyz, cross(q.xyz, v) + q.w * v);\n}\n\nvec3 hsv2rgb(vec3 c) {\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvec3 evaluateCubicSpline(vec3 leftPosition, vec3 rightPosition, vec3 leftTangent, vec3 rightTangent, float t) {\n    float t2 = t * t;\n    float t3 = t2 * t;\n\n    return (2.0 * t3 - 3.0 * t2 + 1.0) * leftPosition + (t3 - 2.0 * t2 + t) * leftTangent + (-2.0 * t3 + 3.0 * t2) * rightPosition + (t3 - t2) * rightTangent;\n}\n\nvoid main () {\n    v_offset = a_offset;\n    v_random = a_random;\n\n    #ifdef POP\n    float spawnTime = u_spawnTime;\n    #else\n    float spawnTime = a_spawnTime;\n    #endif\n\n    float elapsedTime = u_time - spawnTime;\n\n    #ifdef POP\n    float PROJECTILE_GRAVITY = 15.5;\n    float timeToPeak = a_spawnVelocity.y / PROJECTILE_GRAVITY;\n\n    vec3 peakPosition = u_spawnPosition + a_spawnVelocity * timeToPeak + 0.5 * vec3(0.0, -PROJECTILE_GRAVITY, 0.0) * timeToPeak * timeToPeak;\n    vec3 finalVelocity = vec3(0.0, GRAVITY, 0.0);\n    vec3 particlePosition = evaluateCubicSpline(u_spawnPosition, peakPosition, a_spawnVelocity * timeToPeak, finalVelocity * timeToPeak, elapsedTime / timeToPeak);\n\n    if (elapsedTime > timeToPeak) {\n        particlePosition = peakPosition + vec3(0.0, GRAVITY, 0.0) * (elapsedTime - timeToPeak);\n    }\n\n    float timeToHit = timeToPeak + (floorY - peakPosition.y) / GRAVITY;\n    #else\n    vec3 particlePosition = a_spawnPosition + vec3(0.0, GRAVITY, 0.0) * elapsedTime;\n    float timeToHit = (floorY - a_spawnPosition.y) / GRAVITY;\n    #endif\n\n    particlePosition += vec3(sin(min(elapsedTime, timeToHit) * 0.3 + a_random.z * 2.0 * PI), 0.0, 0.0);\n    particlePosition.x += u_transitionT * 4.0;\n\n    float hitTime = spawnTime + timeToHit;\n    float timeSinceHit = u_time - hitTime;\n\n    float desiredRotationSpeed = mix(5.0, 15.0, a_random.y);\n    float quantizedRotationCount = floor((timeToHit * desiredRotationSpeed) / (2.0 * PI));\n    float rotationSpeed = 2.0 * PI * quantizedRotationCount / timeToHit;\n\n    bool hit = timeSinceHit > 0.0;\n    v_alpha = smoothstep(2.0, 1.0, timeSinceHit);\n\n    vec3 normal = vec3(0.0, 1.0, 0.0);\n    vec3 right = vec3(1.0, 0.0, 0.0);\n\n    float angle = min(elapsedTime * rotationSpeed, timeToHit * rotationSpeed);\n    normal = rotateVector(a_rotation.xyz, angle, normal);\n    right = rotateVector(a_rotation.xyz, angle, right);\n\n    vec3 up = normalize(cross(normal, right));\n\n    particlePosition.y = max(particlePosition.y, floorY);\n\n    vec2 size = vec2(mix(0.005, 0.01, a_random.x)) * 3.0 * (1.0 - abs(u_transitionT));\n    vec3 worldPosition = particlePosition + a_offset.x * right * size.x + a_offset.y * up * size.y;\n\n    float hue = floor(a_random.y * 4.0) / 4.0;\n    if (a_random.y < 0.33) {\n        v_color = vec3(1.4234, 1.2415, 0.4736);\n    } else if (a_random.y < 0.66) {\n        v_color = vec3(0.6801, 0.1871, 0.01559);\n    } else {\n        v_color = vec3(0.91809);\n    }\n    v_worldPosition = worldPosition;\n\n    if (dot(u_cameraPosition - particlePosition, normal) < 0.0) {\n        normal *= -1.0;\n    }\n\n    v_normal = normal;\n\n    gl_Position = u_projectionMatrix * u_viewMatrix * vec4(worldPosition, 1.0);\n}\n",
            de =
                "\nvarying vec2 v_offset;\nvarying vec3 v_color;\nvarying vec4 v_random;\nvarying vec3 v_worldPosition;\nvarying vec3 v_normal;\nvarying float v_alpha;\n\nvoid main() {\n    vec3 color = shadeSurfaceWithLightsWithoutShadow(v_worldPosition, v_normal, v_color, 0.05, 0.05);\n    float alpha = 0.9;\n    alpha *= v_alpha;\n    gl_FragColor = vec4(pow(color, vec3(1.0 / 2.2)) * alpha, alpha);\n}\n",
            pe =
                "\n#define PI 3.14159265358979323846\n#define SPLINE_POINT_COUNT 10\n#define PROFILE_POINT_COUNT 16\n\nprecision highp float;\n\nattribute vec4 a_parameters; //(aroundIndex, alongIndex, scale, material)\nattribute vec3 a_normal;\n\nvarying vec3 v_worldPosition;\nvarying vec3 v_color;\nvarying vec3 v_normal;\nvarying vec2 v_uv;\nvarying vec3 v_restPosition;\nvarying float v_material;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_viewMatrix;\nuniform mat4 u_modelMatrix;\n\nuniform vec3 u_profilePoints[PROFILE_POINT_COUNT];\nuniform float u_brimRadius;\n\nuniform vec3 u_splinePositions[SPLINE_POINT_COUNT];\nuniform vec3 u_splineTangents[SPLINE_POINT_COUNT];\nuniform vec3 u_splineNormals[SPLINE_POINT_COUNT];\n\n#ifdef SHADOW\nvarying vec4 v_clipSpacePosition;\n#endif\n\nfloat linearstep(float left, float right, float x) {\n    return clamp((x - left) / (right - left), 0.0, 1.0);\n}\n\nvoid main() {\n    float aroundIndex = a_parameters.x;\n    float alongIndex = a_parameters.y;\n    float scale = a_parameters.z;\n    float material = a_parameters.w;\n\n    float hatLength = u_brimRadius * 2.2; // TODO: Sync this with C++\n\n    float angle = 2.0 * PI * float(aroundIndex) / 16.0;\n    vec3 flatPlanarPosition = vec3(\n        -cos(angle),\n        -sin(angle),\n        0.0\n    ) * u_brimRadius;\n\n    v_restPosition = vec3(flatPlanarPosition.x, hatLength * alongIndex / float(SPLINE_POINT_COUNT), flatPlanarPosition.y);\n\n    vec3 planarPosition = u_profilePoints[int(mod(aroundIndex + 0.1, float(PROFILE_POINT_COUNT)))];\n    planarPosition = mix(planarPosition, flatPlanarPosition, linearstep(3.0, float(SPLINE_POINT_COUNT - 1), alongIndex));\n\n    vec3 planarNormal = a_normal;\n\n    vec3 framePosition = vec3(0.0);\n    vec3 frameTangent = vec3(0.0);\n    vec3 frameNormal = vec3(0.0);\n\n    float SPACING = 2.0 * hatLength / float(SPLINE_POINT_COUNT);\n\n    if (alongIndex >= float(SPLINE_POINT_COUNT - 1)) {\n        framePosition = u_splinePositions[SPLINE_POINT_COUNT - 1] + u_splineTangents[SPLINE_POINT_COUNT - 1] * SPACING * (alongIndex - float(SPLINE_POINT_COUNT - 1));\n        frameTangent = u_splineTangents[SPLINE_POINT_COUNT - 1];\n        frameNormal = u_splineNormals[SPLINE_POINT_COUNT - 1];\n    } else if (alongIndex <= 0.0) {\n        framePosition = u_splinePositions[0];\n        frameTangent = u_splineTangents[0];\n        frameNormal = u_splineNormals[0];\n    } else {\n        int leftIndex = int(alongIndex + 0.001);\n        int rightIndex = leftIndex + 1;\n\n        framePosition = mix(u_splinePositions[leftIndex], u_splinePositions[rightIndex], fract(alongIndex));\n        frameTangent = normalize(mix(u_splineTangents[leftIndex], u_splineTangents[rightIndex], fract(alongIndex)));\n        frameNormal = normalize(mix(u_splineNormals[leftIndex], u_splineNormals[rightIndex], fract(alongIndex)));\n    }\n\n    vec3 frameRight = normalize(cross(frameTangent, frameNormal));\n\n    vec3 localPosition = framePosition + planarPosition.x * frameRight * scale + planarPosition.y * frameNormal * scale + planarPosition.z * frameTangent;\n    vec3 localNormal = normalize(planarNormal.x * frameRight + planarNormal.y * frameNormal + planarNormal.z * frameTangent);\n\n    v_normal = (u_modelMatrix * vec4(localNormal, 0.0)).xyz;\n    v_color = material < 0.5 ? vec3(1.0, 1.0, 1.0) : vec3(1.0, vec2(0.03));\n    v_material = material;\n\n    vec3 worldPosition = (u_modelMatrix * vec4(localPosition, 1.0)).xyz;\n    v_worldPosition = worldPosition;\n\n    #ifdef SHADOW\n    v_clipSpacePosition = u_projectionMatrix * u_viewMatrix * vec4(worldPosition, 1.0);\n    #endif\n\n    // The net of the hat is a segment of a circle\n    // We compute a UV space with the center of this circle at the origin and using a segment at the bottom\n    // The angle of the segment is given by brim circumference / hat length\n\n    float segmentAngle = u_brimRadius * 2.0 * PI / hatLength;\n    float uvAngle = PI * 1.5 - segmentAngle * 0.5 + (aroundIndex / float(PROFILE_POINT_COUNT)) * segmentAngle;\n    float uvLength = hatLength * (1.0 - alongIndex / float(SPLINE_POINT_COUNT));\n    v_uv = vec2(cos(uvAngle), sin(uvAngle)) * uvLength;\n\n    gl_Position = u_projectionMatrix * u_viewMatrix * vec4(worldPosition, 1.0);\n}\n",
            me =
                "\nprecision highp float;\n\nattribute vec2 a_position;\n\nvarying vec2 v_coordinates;\n\nvoid main () {\n    v_coordinates = a_position * 0.5 + 0.5;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n}\n",
            fe = function (e, t, n, i, o, r) {
                (this.color = new Float32Array([o, o, o])), (this.shadowsEnabled = r);
                var s = [0, 4.25, 2];
                (this.position = new Float32Array([
                    s[0] + i * Math.sin(Math.PI / 2 - n) * Math.sin(-t),
                    s[1] + i * Math.cos(Math.PI / 2 - n),
                    s[2] + i * Math.sin(Math.PI / 2 - n) * Math.cos(-t),
                ])),
                    this.shadowsEnabled &&
                        ((this.viewMatrix = c.makeLookAt(new Float32Array(16), this.position, [0, 0.5, 0], [0, 1, 0])),
                        c.invert(this.viewMatrix, this.viewMatrix),
                        (this.projectionMatrix = c.makePerspective(new Float32Array(16), Math.PI / 8, 1, 0.5, 100)),
                        (this.projectionViewMatrix = c.premultiply(
                            new Float32Array(16),
                            this.viewMatrix,
                            this.projectionMatrix
                        )),
                        (this.shadowMapWidth = 512),
                        (this.depthColorTexture = a(
                            e,
                            0,
                            e.RGBA,
                            e.UNSIGNED_BYTE,
                            this.shadowMapWidth,
                            this.shadowMapWidth,
                            null,
                            e.CLAMP_TO_EDGE,
                            e.CLAMP_TO_EDGE,
                            e.LINEAR,
                            e.LINEAR
                        )),
                        (this.depthRenderbuffer = l(e, e.DEPTH_COMPONENT16, this.shadowMapWidth, this.shadowMapWidth)));
            };
        var ge = (function () {
                function e(e, t, n, o, r, s, h, m, f) {
                    (this.projectionMatrix = new Float32Array(16)),
                        (this.infiniteProjectionMatrix = new Float32Array(16)),
                        (this.referenceProjectionMatrix = new Float32Array(16)),
                        (this.inverseProjectionMatrix = new Float32Array(16)),
                        (this.viewMatrix = new Float32Array(16)),
                        (this.inverseViewMatrix = new Float32Array(16)),
                        (this.cameraPosition = new Float32Array(3)),
                        (this.projectionViewMatrix = new Float32Array(16)),
                        (this.lights = []),
                        (this.dustScale = new p.a(0)),
                        (this.paddingHeight = 0),
                        (this.festiveParticleSpawnRate = 0),
                        (this.festiveParticleTransitionT = 1),
                        (this.festiveParticleOffset = 0),
                        (this.balloonsYOffset = 0),
                        (this.backgroundIntensity = new p.a(0)),
                        (this.backgroundTransitionT = new p.a(1, function (e) {
                            return Object(d.w)(0, 1, e);
                        })),
                        (this.canvas = e),
                        (this.gl = t);
                    var g = t.getExtension("OES_standard_derivatives");
                    this.fov = Object(d.e)(h);
                    var b = (function (e) {
                        var t =
                            "\nprecision highp float;\n\n#define PI 3.14159265358979323846\n\nuniform vec3 u_cameraPosition;\n\nuniform float u_gamma;\n\nuniform vec3 u_lightPosition0;\nuniform vec3 u_lightColor0;\nuniform mat4 u_lightProjectionViewMatrix0;\nuniform sampler2D u_shadowDepthTexture0;\nuniform vec2 u_shadowResolution0;\n\nuniform vec3 u_lightPosition1;\nuniform vec3 u_lightColor1;\nuniform mat4 u_lightProjectionViewMatrix1;\nuniform sampler2D u_shadowDepthTexture1;\nuniform vec2 u_shadowResolution1;\n\nuniform vec3 u_lightPosition2;\nuniform vec3 u_lightColor2;\n\nfloat square (float x) {\n    return x * x;\n}\n\nfloat fresnel (float F0, float lDotH) {\n    float f = pow(1.0 - lDotH, 5.0);\n\n    return (1.0 - F0) * f + F0;\n}\n\nfloat GGX (float alpha, float nDotH) {\n    float a2 = square(alpha);\n\n    return a2 / (PI * square(square(nDotH) * (a2 - 1.0) + 1.0));\n}\n\nfloat GGGX (float alpha, float nDotL, float nDotV) {\n    float a2 = square(alpha);\n\n    float gl = nDotL + sqrt(a2 + (1.0 - a2) * square(nDotL));\n    float gv = nDotV + sqrt(a2 + (1.0 - a2) * square(nDotV));\n\n    return 1.0 / (gl * gv);\n}\n\nfloat saturate (float x) {\n    return clamp(x, 0.0, 1.0);\n}\n\nfloat specularBRDF (vec3 lightDirection, vec3 eyeDirection, vec3 normal, float roughness, float F0) {\n    vec3 halfVector = normalize(lightDirection + eyeDirection);\n\n    float nDotH = saturate(dot(normal, halfVector));\n    float nDotL = saturate(dot(normal, lightDirection));\n    float nDotV = saturate(dot(normal, eyeDirection));\n    float lDotH = saturate(dot(lightDirection, halfVector));\n\n    float D = GGX(roughness, nDotH);\n    float G = GGGX(roughness, nDotL, nDotV);\n    float F = fresnel(F0, lDotH);\n\n    return smoothstep(-0.2, 0.0, dot(lightDirection, normal)) * D * G * F;\n}\n\n\nconst float PackUpscale = 256.0 / 255.0;\nconst float UnpackDownscale = 255.0 / 256.0;\n\nconst vec3 PackFactors = vec3( 256.0 * 256.0 * 256.0, 256.0 * 256.0,  256.0);\nconst vec4 UnpackFactors = UnpackDownscale / vec4(PackFactors, 1.0);\n\nconst float ShiftRight8 = 1.0 / 256.0;\n\nfloat unpackRGBAToDepth(const in vec4 v) {\n    return dot(v, UnpackFactors);\n}\n\nfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n    return step(compare, unpackRGBAToDepth(texture2D( depths, uv)));\n}\n\nfloat texture2DShadow(sampler2D depths, vec2 size, vec2 uv, float compare) {\n    return texture2DCompare(depths, uv, compare);\n}\n\nfloat getShadow (vec3 worldPosition, vec3 worldNormal, mat4 projectionViewMatrix, sampler2D depthTexture, vec2 resolution) {\n    vec4 lightSpacePosition = projectionViewMatrix * vec4(worldPosition + worldNormal * 0.00001, 1.0);\n    lightSpacePosition /= lightSpacePosition.w;\n    lightSpacePosition = lightSpacePosition * 0.5 + 0.5;\n    vec2 lightSpaceCoordinates = lightSpacePosition.xy;\n\n    <shadow>\n}\n\nvec3 shadeSurfaceWithLightWithoutShadow(vec3 worldPosition, vec3 worldNormal, vec3 albedo, float roughness, float F0, vec3 lightPosition, vec3 lightColor) {\n    vec3 lightDirection = normalize(lightPosition - worldPosition);\n    vec3 eyeDirection = normalize(u_cameraPosition - worldPosition);\n\n    float diffuse = saturate(dot(lightDirection, worldNormal));\n    float specular = specularBRDF(lightDirection, eyeDirection, worldNormal, roughness, F0);\n\n    vec3 color = (diffuse * albedo + vec3(specular)) * lightColor;\n\n    return color;\n}\n\nvec3 shadeSurfaceWithLight (vec3 worldPosition, vec3 normal, vec3 albedo, float roughness, float F0, vec3 lightPosition, vec3 lightColor, mat4 projectionViewMatrix, sampler2D depthTexture, vec2 depthResolution) {\n    float shadow = getShadow(worldPosition, normal, projectionViewMatrix, depthTexture, depthResolution);\n    vec3 color = shadeSurfaceWithLightWithoutShadow(worldPosition, normal, albedo, roughness, F0, lightPosition, lightColor) * shadow;\n    return color;\n}\n\n#define AMBIENT 0.05\n\nvec3 shadeSurfaceWithLights(vec3 worldPosition, vec3 worldNormal, vec3 albedo, float roughness, float F0) {\n    vec3 total = vec3(0.0);\n    total += shadeSurfaceWithLight(worldPosition, worldNormal, albedo, roughness, F0, u_lightPosition0, u_lightColor0, u_lightProjectionViewMatrix0, u_shadowDepthTexture0, u_shadowResolution0);\n    total += shadeSurfaceWithLight(worldPosition, worldNormal, albedo, roughness, F0, u_lightPosition1, u_lightColor1, u_lightProjectionViewMatrix1, u_shadowDepthTexture1, u_shadowResolution1);\n    total += shadeSurfaceWithLightWithoutShadow(worldPosition, worldNormal, albedo, roughness, F0, u_lightPosition2, u_lightColor2);\n    total += AMBIENT * albedo;\n    return total;\n}\n\nvec3 shadeSurfaceWithLightsWithoutShadow(vec3 worldPosition, vec3 worldNormal, vec3 albedo, float roughness, float F0) {\n    vec3 total = vec3(0.0);\n    total += shadeSurfaceWithLightWithoutShadow(worldPosition, worldNormal, albedo, roughness, F0, u_lightPosition0, u_lightColor0);\n    total += shadeSurfaceWithLightWithoutShadow(worldPosition, worldNormal, albedo, roughness, F0, u_lightPosition1, u_lightColor1);\n    total += shadeSurfaceWithLightWithoutShadow(worldPosition, worldNormal, albedo, roughness, F0, u_lightPosition2, u_lightColor2);\n    total += AMBIENT * albedo;\n    return total;\n}\n\nfloat getShadowFromLights(vec3 worldPosition) {\n    float total = 1.0;\n    total *= getShadow(worldPosition, vec3(0.0, 1.0, 0.0), u_lightProjectionViewMatrix0, u_shadowDepthTexture0, u_shadowResolution0);\n    total *= getShadow(worldPosition, vec3(0.0, 1.0, 0.0), u_lightProjectionViewMatrix1, u_shadowDepthTexture1, u_shadowResolution1);\n    return total;\n}\n\n#define SSS_INDEX_COUNT 32\nfloat getSSSAlpha(int sssIndex) {\n    return float(sssIndex + 1) / float(SSS_INDEX_COUNT);\n}\n\nint sssAlphaToIndex(float sssAlpha) {\n    return int(sssAlpha * float(SSS_INDEX_COUNT) - 0.99);\n}\n\n#ifdef HAS_STANDARD_DERIVATIVES\nmat3 cotangentFrame(vec3 N, vec3 p, vec2 uv) {\n    // get edge vectors of the pixel triangle\n    vec3 dp1 = dFdx(p);\n    vec3 dp2 = dFdy(p);\n    vec2 duv1 = dFdx(uv);\n    vec2 duv2 = dFdy(uv);   \n    // solve the linear system \n    vec3 dp2perp = cross(dp2, N);\n    vec3 dp1perp = cross(N, dp1);\n    vec3 T = dp2perp * duv1.x + dp1perp * duv2.x;\n    vec3 B = dp2perp * duv1.y + dp1perp * duv2.y;\n    // construct a scale-invariant frame\n    float invmax = inversesqrt(max(dot(T, T), dot(B, B)));\n    return mat3(T * invmax, B * invmax, N);\n}\n#endif\n\n".replace(
                                "<shadow>",
                                (function (e, t) {
                                    for (
                                        var n = (function (e, t) {
                                                var n = [],
                                                    i = 0.5 / (e / 2) - 1,
                                                    o = 1 / (e / 2);
                                                (i *= t), (o *= t);
                                                for (var a = 0; a < e; ++a)
                                                    for (var r = 0; r < e; ++r) n.push([i + r * o, i + a * o]);
                                                return n;
                                            })(e, t / 1024),
                                            i = ["float shadow = 0.0;"],
                                            o = 1 / n.length,
                                            a = 0;
                                        a < n.length;
                                        ++a
                                    ) {
                                        var r = n[a],
                                            s = "vec2(" + r[0].toFixed(8) + "," + r[1].toFixed(8) + ")";
                                        i.push(
                                            "shadow += " +
                                                o.toFixed(8) +
                                                " * texture2DShadow(depthTexture, resolution, lightSpaceCoordinates + " +
                                                s +
                                                ", lightSpacePosition.z);"
                                        );
                                    }
                                    return (
                                        i.push("float ambient = 0.0;"),
                                        i.push("return ambient + shadow * (1.0 - ambient);"),
                                        i.join("\n")
                                    );
                                })(3, 10)
                            );
                        return (
                            e &&
                                (t =
                                    "#extension GL_OES_standard_derivatives : enable \n" +
                                    (t = "#define HAS_STANDARD_DERIVATIVES 1 \n" + t)),
                            t
                        );
                    })(null !== g);
                    (this.backgroundOriginalViewMatrix = s),
                        (this.blobProgram = i(
                            t,
                            "\nprecision highp float;\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec2 a_uv;\nattribute float a_speed;\n\nvarying vec3 v_normal;\nvarying vec3 v_position;\nvarying vec2 v_uv;\nvarying float v_speed;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_modelMatrix;\nuniform mat4 u_viewMatrix;\n\nfloat smin( float a, float b, float k ) {\n    float h = max( k-abs(a-b), 0.0 )/k;\n    return min( a, b ) - h*h*k*(1.0/4.0);\n}\n\nfloat smax(float a, float b, float k) {\n    return -smin(-a, -b, k);\n}\n\nvoid main () {\n    v_uv = a_uv;\n    vec3 worldPosition = (u_modelMatrix * vec4(a_position, 1.0)).xyz;\n    worldPosition.y = smax(worldPosition.y, 0.01, 0.1);\n    v_normal = (u_modelMatrix * vec4(-a_normal, 0.0)).xyz;\n    v_speed = a_speed;\n\n    v_position = worldPosition;\n    gl_Position = u_projectionMatrix * u_viewMatrix * vec4(worldPosition, 1.0);\n}\n",
                            b +
                                "\nvarying vec3 v_position;\nvarying vec3 v_normal;\nvarying vec2 v_uv;\nvarying float v_speed;\n\nuniform vec3 u_rimColor;\nuniform int u_blobIndex;\nuniform float u_normalScale;\nuniform float u_isSinging;\nuniform vec3 u_hsvShift;\nuniform float u_f0;\nuniform float u_roughnessScale;\n\nuniform sampler2D u_albedoTexture;\nuniform sampler2D u_materialMap;\n\nvec3 hsv2rgb(vec3 c) {\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvec3 rgb2hsv(vec3 c) {\n    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n    vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n    vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n    float d = q.x - min(q.w, q.y);\n    float e = 1.0e-10;\n    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\nvoid main () {\n    vec3 diffuseColor = texture2D(u_albedoTexture, v_uv).rgb;\n\n    vec3 diffuseHsv = rgb2hsv(diffuseColor);\n    diffuseHsv = diffuseHsv + u_hsvShift;\n    diffuseHsv.g = min(diffuseHsv.g, 1.1);\n    diffuseColor = hsv2rgb(diffuseHsv);\n\n    vec3 normal = normalize(v_normal);\n    float rim = abs(dot(normalize(u_cameraPosition - v_position), normal));\n\n    vec4 materialParameters = texture2D(u_materialMap, v_uv);\n    float roughness = max(materialParameters.b, 0.001) * u_roughnessScale;\n    float f0 = u_f0;\n\n    #ifdef HAS_STANDARD_DERIVATIVES\n    vec3 localNormal = vec3(materialParameters.r * 2.0 - 1.0, materialParameters.g * 2.0 - 1.0, 0.0);\n    localNormal.z = sqrt(1.0 - localNormal.x * localNormal.x - localNormal.y * localNormal.y);\n    mat3 frame = cotangentFrame(normal, v_position, v_uv);\n    normal = frame * localNormal;\n    #endif\n\n    vec3 color = shadeSurfaceWithLights(v_position, normal, diffuseColor, roughness, f0);\n\n    float shiftStrength = pow(rim, 5.0);\n    float shift = min(abs(v_speed) * 0.04, 0.2) * shiftStrength;\n    diffuseHsv.r += shift;\n\n    color += hsv2rgb(diffuseHsv) * abs(shift) * 3.0 * u_isSinging;\n\n    color.rgb += pow(1.0 - rim, 4.0) * u_rimColor;\n\n    gl_FragColor = vec4(color, getSSSAlpha(u_blobIndex));\n}\n",
                            { a_position: 0, a_normal: 1, a_uv: 2, a_speed: 3 }
                        )),
                        (this.eyeProgram = i(
                            t,
                            "\nprecision highp float;\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec3 a_restPosition;\nattribute vec2 a_uv;\n\nvarying vec3 v_normal;\nvarying vec3 v_localPosition;\nvarying vec3 v_restPosition;\nvarying vec3 v_position;\nvarying vec2 v_uv;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_modelMatrix;\nuniform mat4 u_viewMatrix;\n\nvoid main () {\n    vec3 worldPosition = (u_modelMatrix * vec4(a_position + vec3(0.0, 0.02, 0.0), 1.0)).xyz;\n    v_normal = (u_modelMatrix * vec4(-a_normal, 0.0)).xyz;\n    v_restPosition = a_restPosition;\n\n    v_localPosition = a_position;\n    v_position = worldPosition;\n    v_uv = a_uv;\n    gl_Position = u_projectionMatrix * u_viewMatrix * vec4(worldPosition, 1.0);\n}\n",
                            b +
                                "\nvarying vec3 v_normal;\nvarying vec3 v_position;\nvarying vec3 v_localPosition;\nvarying vec3 v_restPosition;\nvarying vec2 v_uv;\n\nuniform int u_blobIndex;\nuniform float u_time;\nuniform vec3 u_lookDirection;\nuniform vec3 u_eyePosition;\nuniform float u_pupilNoiseOffset;\nuniform bool u_hipnotized;\nuniform float u_bottomEyelidAngle;\nuniform float u_topEyelidAngle;\nuniform float u_pupilSize;\n\nuniform float u_f0;\nuniform float u_roughnessScale;\nuniform vec3 u_hsvShift;\n\nuniform sampler2D u_albedoTexture;\nuniform sampler2D u_materialMap;\n\nvec3 hsv2rgb(vec3 c) {\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvec3 rgb2hsv(vec3 c) {\n    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n    vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n    vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n    float d = q.x - min(q.w, q.y);\n    float e = 1.0e-10;\n    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\n\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : stegu\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//               https://github.com/stegu/webgl-noise\n// \n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n\t\t+ i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nvec3 closestPointOnAxis (vec3 base, vec3 direction, vec3 point) {\n    return base + dot(point - base, direction) * direction;\n}\n\nfloat distanceFromAxis (vec3 base, vec3 direction, vec3 point) {\n    return distance(point, closestPointOnAxis(base, direction, point));\n}\n\nfloat spiral(float theta, float r) {\n  float alpha = step(0.1 * (u_pupilSize / 0.045), r);\n  return mix(step(0.5, mod(r * 25.0 / (u_pupilSize / 0.045) + theta / (2.0 * PI) - u_time * 1.1, 1.0)), 1.0, alpha);\n}\n\nvec3 eyeColor (vec3 point) {\n    //closest point on cylinder axis\n    vec3 closestPoint = closestPointOnAxis(u_eyePosition, u_lookDirection, point);\n\n    if (dot(u_lookDirection, v_localPosition - u_eyePosition) < 0.0) return vec3(1.0);\n\n    vec3 offset = point - closestPoint;\n\n    //find plane of cylinder\n    vec3 right = normalize(cross(vec3(0.0, 1.0, 0.0), u_lookDirection));\n    vec3 up = cross(u_lookDirection, right);\n\n    //project onto cylinder plane\n    float x = dot(offset, right);\n    float y = dot(offset, up);\n\n    float theta = mod(atan(y, x) + PI + u_pupilNoiseOffset, 2.0 * PI);\n\n    if (u_hipnotized) {\n      return vec3(spiral(theta, length(vec2(x, y)))) * 2.0 - 1.0;\n    } else {\n      float PUPIL_FREQUENCY = 8.0;\n\n      float r = u_pupilSize;// + snoise(vec2(PUPIL_FREQUENCY * theta / (2.0 * PI), 0.0)) * 0.003;\n\n      vec3 color = length(vec2(x, y)) < r ? vec3(-1.0) : vec3(1.0);\n      color += smoothstep(r * 0.3, r * 0.2, distance(vec2(x, y), vec2(r) * 0.3)) * 10.0;\n      return color;\n    }\n}\n\nfloat linearstep(float left, float right, float x) {\n    return clamp((x - left) / (right - left), 0.0, 1.0);\n}\n\nvoid main () {\n    vec3 normal = normalize(v_normal);\n\n    vec3 albedo = eyeColor(v_localPosition);\n\n    float roughness = 0.1;\n    float F0 = 0.5;\n\n    vec3 restOffset = vec3(0.0, -0.03, 0.05);\n\n    float angle = atan(v_restPosition.y - restOffset.y, -v_restPosition.z - restOffset.z);\n    \n    bool isEyelid = angle > -PI + u_bottomEyelidAngle && angle < PI - u_topEyelidAngle;\n\n    float angleRange = 0.2;\n    float bottomEyelidness = linearstep(-PI + u_bottomEyelidAngle, -PI + u_bottomEyelidAngle + angleRange, angle);\n    float topEyelidness = linearstep(PI - u_topEyelidAngle, PI - u_topEyelidAngle - angleRange, angle);\n\n    if (v_restPosition.y > restOffset.y && isEyelid) {\n        normal.y -= (1.0 - topEyelidness) * 1.0;\n    } else if (isEyelid) {\n        normal.y += (1.0 - bottomEyelidness) * 0.4;\n    }\n    normal = normalize(normal);\n\n    if (isEyelid) {\n        albedo = texture2D(u_albedoTexture, v_uv).rgb;\n\n        vec3 diffuseHsv = rgb2hsv(albedo);\n        diffuseHsv = diffuseHsv + u_hsvShift;\n        diffuseHsv.g = min(diffuseHsv.g, 1.1);\n        albedo = hsv2rgb(diffuseHsv);\n\n        vec4 materialParameters = texture2D(u_materialMap, v_uv);\n        roughness = max(materialParameters.b, 0.001) * u_roughnessScale;\n\n        F0 = u_f0;\n    }\n\n    vec3 color = shadeSurfaceWithLights(v_position, normal, albedo, roughness, F0);\n\n    float alpha = 0.0;\n\n    if (!isEyelid) {\n        color += step(0.1, albedo.r) * 0.2;\n        color *= 1.5;\n        /*\n        alpha = getSSSAlpha(u_blobIndex) * step(0.1, albedo.r);\n        */\n        alpha = getSSSAlpha(5) * step(0.1, albedo.r);\n    } else {\n        alpha = getSSSAlpha(u_blobIndex);\n        //color += albedo * 0.3;\n    }\n\n    gl_FragColor = vec4(color, alpha);\n}\n",
                            { a_position: 0, a_normal: 1, a_restPosition: 2, a_uv: 3 }
                        )),
                        (this.mouthInsideProgram = i(
                            t,
                            "\nprecision highp float;\n\nattribute vec3 a_position;\n\nvarying vec3 v_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_modelMatrix;\nuniform mat4 u_viewMatrix;\n\nvoid main () {\n    vec3 worldPosition = (u_modelMatrix * vec4(a_position, 1.0)).xyz;\n    v_position = worldPosition;\n    gl_Position = u_projectionMatrix * u_viewMatrix * vec4(worldPosition, 1.0);\n}\n",
                            "\nprecision highp float;\n\nvarying vec3 v_position;\n\nvoid main () {\n    gl_FragColor = vec4(vec3(0.0), 0.0);\n}\n",
                            { a_position: 0 }
                        )),
                        (this.mouthProgram = i(
                            t,
                            se,
                            b +
                                "\nvarying vec3 v_position;\nvarying vec3 v_normal;\nvarying vec2 v_uv;\nvarying float v_linearPosition;\nvarying vec3 v_localPosition;\n\nuniform float u_normalScale;\nuniform vec3 u_restMouthCentroid;\n\nuniform vec3 u_color;\nuniform int u_blobIndex;\n\nuniform int u_blendSubsurface;\n\nvec3 rgb2hsv(vec3 c) {\n    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n    vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n    vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n    float d = q.x - min(q.w, q.y);\n    float e = 1.0e-10;\n    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\nvec3 hsv2rgb(vec3 c) {\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvoid main () {\n    vec3 diffuseColor = u_color;\n\n    vec3 hsv = rgb2hsv(diffuseColor);\n    //hsv.r += pow(1.0 - rim, 1.0);\n    //float shift = v_linearPosition < 0.5 ? v_linearPosition : 1.0 - v_linearPosition;\n    float shift = v_localPosition.y - u_restMouthCentroid.y;\n    hsv.r += shift * 0.2;\n    diffuseColor = hsv2rgb(hsv);\n\n    diffuseColor *= 1.5;\n\n    vec3 normal = normalize(v_normal);\n\n    float roughness = 0.1;\n    float f0 = 0.5;\n\n    vec3 color = shadeSurfaceWithLights(v_position, normal, diffuseColor, roughness, f0);\n\n    float rim = abs(dot(normalize(u_cameraPosition - v_position), normalize(normal)));\n\n    gl_FragColor = vec4(color, getSSSAlpha(u_blobIndex) + 0.05);\n}\n",
                            { a_data: 0 }
                        )),
                        (this.tongueProgram = i(
                            t,
                            "\nprecision highp float;\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\n\nvarying float v_z;\nvarying vec3 v_worldPosition;\nvarying vec3 v_normal;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_viewMatrix;\nuniform mat4 u_modelMatrix;\nuniform vec2 u_scale;\n\n#define SPLINE_POINT_COUNT 20\n\nuniform vec3 u_splinePositions[SPLINE_POINT_COUNT];\nuniform vec3 u_splineTangents[SPLINE_POINT_COUNT];\nuniform vec3 u_splineNormals[SPLINE_POINT_COUNT];\n\nfloat linearstep(float left, float right, float x) {\n    return clamp((x - left) / (right - left), 0.0, 1.0);\n}\n\nvoid main() {\n    v_z = a_position.z;\n    float alongIndex = a_position.z * float(SPLINE_POINT_COUNT - 1);\n\n    vec3 framePosition = vec3(0.0);\n    vec3 frameTangent = vec3(0.0);\n    vec3 frameNormal = vec3(0.0);\n\n    float SPACING = 0.13;\n\n    if (alongIndex >= float(SPLINE_POINT_COUNT - 1)) {\n        framePosition = u_splinePositions[SPLINE_POINT_COUNT - 1] + u_splineTangents[SPLINE_POINT_COUNT - 1] * SPACING * (alongIndex - float(SPLINE_POINT_COUNT - 1));\n        frameTangent = u_splineTangents[SPLINE_POINT_COUNT - 1];\n        frameNormal = u_splineNormals[SPLINE_POINT_COUNT - 1];\n    } else if (alongIndex <= 0.0) {\n        framePosition = u_splinePositions[0];\n        frameTangent = u_splineTangents[0];\n        frameNormal = u_splineNormals[0];\n    } else {\n        int leftIndex = int(alongIndex + 0.001);\n        int rightIndex = leftIndex + 1;\n\n        framePosition = mix(u_splinePositions[leftIndex], u_splinePositions[rightIndex], fract(alongIndex));\n        frameTangent = normalize(mix(u_splineTangents[leftIndex], u_splineTangents[rightIndex], fract(alongIndex)));\n        frameNormal = normalize(mix(u_splineNormals[leftIndex], u_splineNormals[rightIndex], fract(alongIndex)));\n    }\n\n    vec3 frameRight = normalize(cross(frameTangent, frameNormal));\n\n    vec3 position = a_position;\n    position.xy *= u_scale;\n\n    vec3 normal = a_normal;\n    normal.xy /= u_scale;\n    normal = normalize(normal);\n\n    vec3 localPosition = framePosition + position.x * frameRight + position.y * frameNormal;\n    vec3 localNormal = normalize(normal.x * frameRight + normal.y * frameNormal + normal.z * frameTangent);\n\n    v_normal = (u_modelMatrix * vec4(localNormal, 0.0)).xyz;\n\n    vec3 worldPosition = (u_modelMatrix * vec4(localPosition, 1.0)).xyz;\n    v_worldPosition = worldPosition;\n\n    gl_Position = u_projectionMatrix * u_viewMatrix * vec4(worldPosition, 1.0);\n}\n",
                            b +
                                "\nvarying float v_z;\nvarying vec3 v_worldPosition;\nvarying vec3 v_normal;\n\nvoid main () {\n    vec3 diffuseColor = vec3(1.0, 0.1, 0.1);\n\n    float roughness = 0.1;\n    float f0 = 0.05;\n\n    vec3 color = shadeSurfaceWithLights(v_worldPosition, normalize(v_normal), diffuseColor, roughness, f0);\n\n    color += diffuseColor * 0.1;\n\n    color = mix(vec3(0.0, 0.0, 0.0), color, smoothstep(0.0, 0.2, v_z));\n\n    gl_FragColor = vec4(color, 1.0);\n}\n",
                            { a_position: 0, a_normal: 1 }
                        )),
                        (this.floorProgram = i(
                            t,
                            "\nprecision highp float;\n\nattribute vec2 a_position;\n\nvarying vec3 v_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_viewMatrix;\nuniform float u_yOffset;\n\nvoid main () {\n    float scale = 10.0;\n    vec3 worldPosition = vec3(a_position.x * scale, u_yOffset, a_position.y * scale);\n    v_position = worldPosition;\n    gl_Position = u_projectionMatrix * u_viewMatrix * vec4(worldPosition, 1.0);\n}\n",
                            b +
                                "\nvarying vec3 v_position;\n\nuniform sampler2D u_texture;\n\nvoid main () {\n    float shadow = getShadowFromLights(v_position);\n    float alpha = smoothstep(10.0, 4.0, distance(v_position.xz, vec2(0.0, 0.0)));\n    alpha *= mix(0.8, 0.0, shadow);\n    gl_FragColor = vec4(vec3(0.1) * alpha, alpha);\n}\n",
                            { a_position: 0 }
                        )),
                        (this.throatProgram = i(
                            t,
                            "\nprecision highp float;\n\nattribute vec2 a_data;\n\nuniform int u_vertexCount;\nuniform vec3 u_positions[24];\nuniform vec2 u_uvs[24];\n\nuniform mat4 u_modelMatrix;\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_viewMatrix;\n\nvarying vec2 v_uv;\nvarying float v_z;\n\nvec3 sampleFilament(float filamentIndex, float vertexIndex) {\n    return u_positions[int(vertexIndex + 0.001)];\n}\n\nvec3 evaluateCubicSpline(vec3 leftPosition, vec3 rightPosition, vec3 leftTangent, vec3 rightTangent, float t) {\n    float t2 = t * t;\n    float t3 = t2 * t;\n\n    return (2.0 * t3 - 3.0 * t2 + 1.0) * leftPosition + (t3 - 2.0 * t2 + t) * leftTangent + (-2.0 * t3 + 3.0 * t2) * rightPosition + (t3 - t2) * rightTangent;\n}\n\nvec3 evaluateCubicSplineTangent(vec3 leftPosition, vec3 rightPosition, vec3 leftTangent, vec3 rightTangent, float t) {\n    float t2 = t * t;\n    return (6.0 * t2 - 6.0 * t) * leftPosition + (3.0 * t2 - 4.0 * t + 1.0) * leftTangent + (-6.0 * t2 + 6.0 * t) * rightPosition + (3.0 * t2 - 2.0 * t) * rightTangent;\n}\n\nfloat posMod(float i, float n) {\n    return mod((n + mod(i, n)), n);\n}\n\nvoid main () {\n    float filamentIndex = 0.0;\n\n    float index = a_data.x * float(u_vertexCount);\n    float leftIndex = floor(index + 0.001);\n    float rightIndex = floor(mod(leftIndex + 1.0001, float(u_vertexCount)));\n    \n    float t = clamp(index - leftIndex, 0.0, 1.0);\n\n    vec3 leftLeftPosition = sampleFilament(filamentIndex, floor(posMod(leftIndex - 0.9999, float(u_vertexCount)))).xyz;\n    vec3 leftPosition = sampleFilament(filamentIndex, leftIndex).xyz;\n    vec3 rightPosition = sampleFilament(filamentIndex, rightIndex).xyz;\n    vec3 rightRightPosition = sampleFilament(filamentIndex, floor(posMod(rightIndex + 1.0001, float(u_vertexCount)))).xyz;\n\n    vec3 leftTangent = (rightPosition - leftLeftPosition) * 0.5;\n    vec3 rightTangent = (rightRightPosition - leftPosition) * 0.5;\n\n    //vec3 tangent = normalize(mix(leftTangent, rightTangent, t));\n\n    v_uv = mix(u_uvs[int(leftIndex + 0.001)], u_uvs[int(rightIndex + 0.001)], t);\n    v_z = a_data.y;\n\n    vec3 localPosition = evaluateCubicSpline(leftPosition, rightPosition, leftTangent, rightTangent, t) + vec3(0.0, 0.0, -a_data.y * 0.3);\n    vec3 worldPosition = (u_modelMatrix * vec4(localPosition, 1.0)).xyz;\n\n    gl_Position = u_projectionMatrix * u_viewMatrix * vec4(worldPosition, 1.0);\n}\n",
                            b +
                                "\nuniform int u_blobIndex;\n\nvarying float v_z;\nvarying vec2 v_uv;\n\nuniform vec3 u_hsvShift;\n\nuniform sampler2D u_albedoTexture;\n\nfloat linearstep(float left, float right, float x) {\n    return clamp((x - left) / (right - left), 0.0, 1.0);\n}\n\nvec3 hsv2rgb(vec3 c) {\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvec3 rgb2hsv(vec3 c) {\n    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n    vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n    vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n    float d = q.x - min(q.w, q.y);\n    float e = 1.0e-10;\n    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\n\nvoid main () {\n    float fade = pow(linearstep(1.0, 0.0, v_z), 2.2);\n\n    vec3 color = texture2D(u_albedoTexture, v_uv).rgb;\n\n    vec3 diffuseHsv = rgb2hsv(color);\n    diffuseHsv = diffuseHsv + u_hsvShift;\n    diffuseHsv.g = min(diffuseHsv.g, 1.1);\n    color = hsv2rgb(diffuseHsv);\n\n    gl_FragColor = vec4(color * 0.02 * fade, getSSSAlpha(u_blobIndex));\n}\n",
                            { a_data: 0 }
                        ));
                    var v,
                        x =
                            "\nprecision highp float;\n\nvarying vec2 v_uv;\n\nvarying vec4 v_clipSpacePosition;\nvarying vec4 v_referenceClipSpacePosition;\nuniform sampler2D u_texture;\nuniform sampler2D u_newTexture;\n\nuniform float u_transitionT;\n\nuniform vec2 u_screenResolution;\nuniform vec2 u_imageResolution;\n\nuniform float u_zoom;\n\nuniform float u_intensity;\nuniform float u_time;\n\nuniform vec2 u_fov;\nuniform float u_yScale;\n\nvec3 hsv2rgb(vec3 c) {\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvec3 rgb2hsv(vec3 c) {\n    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n    vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n    vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n    float d = q.x - min(q.w, q.y);\n    float e = 1.0e-10;\n    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\nvec2 cover(vec2 uv, vec2 s, vec2 i) {\n    float imageRatio = i.y / i.x;\n    float screenRatio = s.y / s.x;\n\n    vec2 imageDimensions = screenRatio > imageRatio ?\n        vec2(s.y / imageRatio, s.y) :\n        vec2(s.x, s.x * imageRatio);\n\n    vec2 imageOrigin = s * 0.5 - imageDimensions * vec2(1.0, 1.0) * 0.5;\n    vec2 result = (((vec2(uv.x, 1.0 - uv.y) * s)) - imageOrigin) / imageDimensions;\n    result.y = result.y;\n    return result;\n}\n\nfloat rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n#ifdef BLUR\n<sample_blurred_u_texture>\n<sample_blurred_u_newTexture>\n#endif\n\nvoid main () {\n    vec2 referenceTextureCoordinates = (v_referenceClipSpacePosition.xy / v_referenceClipSpacePosition.w);\n\n    float targetFOV = 0.3926991 * 2.5;\n    referenceTextureCoordinates *= u_fov / targetFOV;\n    referenceTextureCoordinates.xy *= u_yScale;\n    referenceTextureCoordinates = referenceTextureCoordinates * 0.5 + 0.5;\n\n    referenceTextureCoordinates.y += 0.075;\n\n    #ifdef BLUR\n    float OFFSET = 0.3;\n    float BLUR_WIDTH = 0.12;\n    vec4 color = sampleBlurredTexture(referenceTextureCoordinates + vec2(u_transitionT * OFFSET, 0.0), u_transitionT * BLUR_WIDTH);\n    vec4 newColor = sampleBlurredNewTexture(referenceTextureCoordinates + vec2(-(1.0 - u_transitionT) * OFFSET, 0.0), (1.0 - u_transitionT) * BLUR_WIDTH);\n    //vec4 newColor = texture2D(u_newTexture, referenceTextureCoordinates);\n    color = mix(color, newColor, u_transitionT);\n    #else\n    vec4 color = texture2D(u_newTexture, referenceTextureCoordinates);\n    #endif\n\n    color.rgb = vec3(0.5) + (color.rgb - 0.5) * 1.0;\n\n    vec3 hsv = rgb2hsv(color.rgb);\n    hsv.g *= 0.85;\n    hsv.b *= 0.85;\n    hsv.g *= mix(1.0, 1.5, u_intensity * (1.0 - color.a));\n    //hsv.z *= mix(1.0, 0.5, u_intensity * (1.0 - color.a));\n\n    vec3 finalColor = hsv2rgb(hsv);\n\n    vec2 textureCoordinates = (v_clipSpacePosition.xy / v_clipSpacePosition.w) * 0.5 + 0.5;\n    vec3 direction = normalize(vec3(\n    \t(textureCoordinates * 2.0 - 1.0) * mix(0.001, 1.0, u_intensity),\n    \t-1.0));\n\n    float factor = pow(max(-direction.z, 0.0), 4.0);\n    finalColor *= mix(factor, 1.0, color.a);\n\n    gl_FragColor = vec4(finalColor, 1.0);\n\n   // gl_FragColor = vec4(vec3(factor * 0.3), 1.0);\n}\n"
                                .replace("<sample_blurred_u_texture>", ce((v = 5), "u_texture", "sampleBlurredTexture"))
                                .replace(
                                    "<sample_blurred_u_newTexture>",
                                    ce(v, "u_newTexture", "sampleBlurredNewTexture")
                                );
                    (this.backgroundProgram = i(t, ue, x, { a_position: 0 })),
                        (this.backgroundBlurProgram = i(t, ue, "#define BLUR \n " + x, { a_position: 0 })),
                        (this.colorProgram = i(
                            t,
                            "\nprecision highp float;\n\nattribute vec2 a_position;\n\nvoid main () {\n    gl_Position = vec4(a_position, 0.0, 1.0);\n}\n",
                            "\nprecision highp float;\n\nvarying vec2 v_uv;\n\nuniform vec4 u_color;\n\nvoid main () {\n    gl_FragColor = u_color;\n}\n",
                            { a_position: 0 }
                        )),
                        (this.blobDepthProgram = i(
                            t,
                            "\nprecision highp float;\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\n//attribute vec2 a_uv;\n\nvarying vec3 v_normal;\nvarying vec3 v_position;\n//varying vec2 v_uv;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_modelMatrix;\nuniform mat4 u_viewMatrix;\n\nvarying vec4 v_clipSpacePosition;\n\nvoid main () {\n    //v_uv = a_uv;\n    vec3 worldPosition = (u_modelMatrix * vec4(a_position, 1.0)).xyz;\n    v_normal = (u_modelMatrix * vec4(-a_normal, 0.0)).xyz;\n\n    v_position = worldPosition;\n    v_clipSpacePosition = u_projectionMatrix * u_viewMatrix * vec4(worldPosition, 1.0);\n    gl_Position = v_clipSpacePosition;\n}\n",
                            "\nprecision highp float;\n\nvarying vec4 v_clipSpacePosition;\n\nconst float PackUpscale = 256.0 / 255.0;\nconst float UnpackDownscale = 255.0 / 256.0;\n\nconst vec3 PackFactors = vec3( 256.0 * 256.0 * 256.0, 256.0 * 256.0,  256.0);\nconst vec4 UnpackFactors = UnpackDownscale / vec4(PackFactors, 1.0);\n\nconst float ShiftRight8 = 1.0 / 256.0;\n\nvec4 packDepthToRGBA(const in float v) {\n    vec4 r = vec4(fract(v * PackFactors), v);\n    r.yzw -= r.xyz * ShiftRight8;\n    return r * PackUpscale;\n}\n\nvoid main () {\n\tfloat ndcDepth = v_clipSpacePosition.z / v_clipSpacePosition.w;\n\tgl_FragColor = packDepthToRGBA(ndcDepth * 0.5 + 0.5);\n}\n",
                            { a_position: 0, a_normal: 1 }
                        )),
                        (this.mouthDepthProgram = i(t, "#define SHADOW \n " + se, le, { a_data: 0 })),
                        (this.uiProgram = i(
                            t,
                            "\nprecision highp float;\n\nattribute vec3 a_position;\nattribute vec4 a_color;\n\nvarying vec4 v_color;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_viewMatrix;\nuniform mat4 u_modelMatrix;\n\nvoid main () {\n    v_color = a_color;\n    gl_Position = u_projectionMatrix * u_viewMatrix * u_modelMatrix * vec4(a_position, 1.0);\n}\n",
                            "\nprecision highp float;\n\nuniform float u_alpha;\n\nvarying vec4 v_color;\n\nvoid main () {\n    gl_FragColor = v_color * vec4(1.0, 1.0, 1.0, u_alpha);\n}\n",
                            { a_position: 0, a_color: 1 }
                        )),
                        (this.dustProgram = i(
                            t,
                            "\nprecision highp float;\n\nattribute vec2 a_offset;\nattribute vec4 a_random;\nattribute vec3 a_spawnPosition;\nattribute vec3 a_spawnVelocity;\nattribute float a_spawnTime;\n\nuniform float u_time;\nuniform float u_scale;\nuniform vec3 u_cameraPosition;\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_viewMatrix;\n\nvarying vec2 v_offset;\nvarying vec3 v_worldPosition;\nvarying vec4 v_random;\n\nvarying float v_alpha;\n\nvoid main () {\n    v_offset = a_offset;\n    v_random = a_random;\n\n    float elapsedTime = u_time - a_spawnTime;\n    vec3 particlePosition = a_spawnPosition + a_spawnVelocity * elapsedTime;\n\n    v_alpha = 1.0;\n\n    vec3 toCamera = u_cameraPosition - particlePosition;\n    vec3 forwardDirection = toCamera;\n\n    vec3 right = normalize(cross(vec3(0.0, 1.0, 0.1), forwardDirection));\n    vec3 up = normalize(cross(forwardDirection, right));\n\n    vec2 size = vec2(mix(0.01, 0.015, a_random.w)) * u_scale;\n    vec3 worldPosition = particlePosition + a_offset.x * right * size.x + a_offset.y * up * size.y;\n\n    v_worldPosition = worldPosition;\n\n    gl_Position = u_projectionMatrix * u_viewMatrix * vec4(worldPosition, 1.0);\n}\n",
                            b +
                                "\nvarying vec2 v_offset;\nvarying vec4 v_random;\nvarying vec3 v_worldPosition;\nvarying float v_alpha;\n\nvoid main() {\n    vec3 color = vec3(1.0);// * getShadowFromLights(v_worldPosition);\n    float alpha = smoothstep(1.0, mix(0.0, 0.9, v_random.y), length(v_offset)) * mix(0.05, 0.1, v_random.z);\n    alpha *= v_alpha;\n    gl_FragColor = vec4(color * alpha, alpha);\n}\n",
                            { a_offset: 0, a_random: 1, a_spawnTime: 2, a_spawnPosition: 3, a_spawnVelocity: 4 }
                        )),
                        (this.sssBlurProgram = i(t, me, ee(17, m), { a_position: 0 })),
                        (this.fxaaProgram = i(
                            t,
                            me,
                            "\nprecision highp float;\n\nvarying vec2 v_coordinates;\n\nuniform sampler2D u_input;\n\nuniform float u_time;\nuniform vec2 u_resolution;\n\nconst float FXAA_SPAN_MAX = 8.0;\nconst float FXAA_REDUCE_MUL = 1.0 / 8.0;\nconst float FXAA_REDUCE_MIN = 1.0 / 128.0;\n\nvec3 getDither() {\n    vec3 vDither = vec3(dot(vec2(171.0,231.0), gl_FragCoord.xy + u_time));\n    vDither.rgb = fract(vDither.rgb/vec3(103.0,71.0,97.0))-vec3(0.5,0.5,0.5);\n    return vDither / 127.0;\n}\n\nvec4 sampleFXAA() {\n    vec2 delta = 1.0 / u_resolution;\n\n    vec3 rgbNW = texture2D(u_input, v_coordinates + vec2(-0.5, -0.5) * delta).rgb;\n    vec3 rgbNE = texture2D(u_input, v_coordinates + vec2(0.5, -0.5) * delta).rgb;\n    vec3 rgbSW = texture2D(u_input, v_coordinates + vec2(-0.5, 0.5) * delta).rgb;\n    vec3 rgbSE = texture2D(u_input, v_coordinates + vec2(0.5, 0.5) * delta).rgb;\n    vec3 rgbM = texture2D(u_input, v_coordinates).rgb;\n\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    vec2 dir = vec2(\n        -((lumaNW + lumaNE) - (lumaSW + lumaSE)),\n        ((lumaNW + lumaSW) - (lumaNE + lumaSE)));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) * (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX), max(vec2(-FXAA_SPAN_MAX), dir * rcpDirMin)) * delta.xy;\n\n    vec3 rgbA = 0.5 * (texture2D(u_input, v_coordinates.xy + dir * (1.0 / 3.0 - 0.5)).xyz + texture2D(u_input, v_coordinates.xy + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (texture2D(u_input, v_coordinates.xy + dir * -0.5).xyz + texture2D(u_input, v_coordinates.xy + dir * 0.5).xyz);\n    float lumaB = dot(rgbB, luma);\n\n    if (lumaB < lumaMin || lumaB > lumaMax) {\n        return vec4(rgbA, 1.0);\n    } else {\n        return vec4(rgbB, 1.0);\n    }\n}\n \nvoid main () {\n    vec4 sample = sampleFXAA();\n    #ifdef GL_FRAGMENT_PRECISION_HIGH\n    sample.rgb += getDither();\n    #endif\n    gl_FragColor = sample;\n}\n",
                            { a_position: 0 }
                        )),
                        (this.compositeBackgroundProgram = i(
                            t,
                            me,
                            "\nprecision highp float;\n\nuniform sampler2D u_backgroundTexture;\nuniform sampler2D u_maskTexture;\n\nvarying vec2 v_coordinates;\n\nvoid main () {\n    vec3 backgroundColor = texture2D(u_backgroundTexture, v_coordinates).rgb;\n    float mask = dot(texture2D(u_maskTexture, v_coordinates), vec4(0.299, 0.587, 0.114, 0.0));\n    gl_FragColor = vec4(backgroundColor, mask);\n}\n",
                            { a_position: 0 }
                        )),
                        (this.quadVertexBuffer = u(
                            t,
                            t.ARRAY_BUFFER,
                            new Float32Array([-1, -1, -1, 1, 1, -1, 1, 1]),
                            t.STATIC_DRAW
                        )),
                        (this.triangleVertexBuffer = u(
                            t,
                            t.ARRAY_BUFFER,
                            new Float32Array([-1, -1, 3, -1, -1, 3]),
                            t.STATIC_DRAW
                        )),
                        f.theme === y.Normal
                            ? (this.festiveScene = { kind: y.Normal })
                            : f.theme === y.Christmas
                            ? (this.festiveScene = {
                                  kind: y.Christmas,
                                  snow: new J(t, !1, 600, this.projectionViewMatrix),
                                  snowProgram: i(
                                      t,
                                      "\nprecision highp float;\n\nattribute vec2 a_offset;\nattribute vec4 a_random;\nattribute vec3 a_spawnPosition;\nattribute float a_spawnTime;\n\nuniform float u_time;\nuniform vec3 u_cameraPosition;\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_viewMatrix;\nuniform float u_transitionT; // 0 is center, -1 is off screen to left, 1 is off screen to right\n\nvarying vec2 v_offset;\nvarying vec3 v_worldPosition;\nvarying vec4 v_random;\n\nconst float floorY = 0.0 + 0.01; // Slight offset to put above ground\nconst float GRAVITY = -0.8;\n\nvarying float v_alpha;\n\nvoid main () {\n    v_offset = a_offset;\n    v_random = a_random;\n\n    float elapsedTime = u_time - a_spawnTime;\n    vec3 particlePosition = a_spawnPosition + vec3(0.0, GRAVITY, 0.0) * elapsedTime;\n    particlePosition.x += u_transitionT * 4.0;\n\n    float hitTime = a_spawnTime + (floorY - a_spawnPosition.y) / GRAVITY;\n    float timeSinceHit = u_time - hitTime;\n\n    bool hit = timeSinceHit > 0.0;\n    v_alpha = smoothstep(2.0, 1.0, timeSinceHit);\n\n    vec3 toCamera = u_cameraPosition - particlePosition;\n    vec3 forwardDirection = hit ? vec3(0.0, 1.0, 0.0) : toCamera;\n\n    vec3 right = normalize(cross(vec3(0.0, 1.0, 0.1), forwardDirection));\n    vec3 up = normalize(cross(forwardDirection, right));\n\n    particlePosition.y = max(particlePosition.y, floorY);\n\n    vec2 size = vec2(mix(0.005, 0.01, a_random.x)) * (1.0 - abs(u_transitionT));\n    if (hit) size *= 3.0;\n    vec3 worldPosition = particlePosition + a_offset.x * right * size.x + a_offset.y * up * size.y;\n\n    v_worldPosition = worldPosition;\n\n    gl_Position = u_projectionMatrix * u_viewMatrix * vec4(worldPosition, 1.0);\n}\n",
                                      b +
                                          "\nvarying vec2 v_offset;\nvarying vec4 v_random;\nvarying vec3 v_worldPosition;\nvarying float v_alpha;\n\nvoid main() {\n    vec3 color = vec3(1.0);// * getShadowFromLights(v_worldPosition);\n    float alpha = smoothstep(1.0, mix(0.0, 0.9, v_random.y), length(v_offset)) * mix(0.5, 1.0, v_random.z);\n    alpha *= v_alpha;\n    gl_FragColor = vec4(color * alpha, alpha);\n}\n",
                                      { a_offset: 0, a_random: 1, a_spawnTime: 2, a_spawnPosition: 3 }
                                  ),
                                  hatProgram: i(
                                      t,
                                      pe,
                                      b +
                                          "\nvarying vec3 v_worldPosition;\nvarying vec3 v_color;\nvarying vec3 v_normal;\nvarying vec3 v_restPosition;\nvarying float v_material;\n\nvoid main () {\n    vec3 diffuseColor = v_color;\n\n    float roughness = 0.8;\n    float f0 = 0.05;\n\n    vec3 color = shadeSurfaceWithLights(v_worldPosition, v_normal, diffuseColor, roughness, f0);\n\n    gl_FragColor = vec4(color, 0.99 + v_material * 0.01);\n}\n",
                                      { a_data: 0, a_normal: 1 }
                                  ),
                                  hatDepthProgram: i(t, "#define SHADOW \n" + pe, le, { a_data: 0 }),
                                  hatGeometry: X(t),
                              })
                            : f.theme === y.NewYears &&
                              (this.festiveScene = {
                                  kind: y.NewYears,
                                  confetti: new oe(t, !1, 600, this.projectionViewMatrix),
                                  confettiProgram: i(t, he, b + de, {
                                      a_offset: 0,
                                      a_random: 1,
                                      a_spawnTime: 2,
                                      a_spawnPosition: 3,
                                      a_rotation: 4,
                                  }),
                                  hatProgram: i(
                                      t,
                                      pe,
                                      b +
                                          "\n#define PI 3.14159265358979323846\n\nvarying vec3 v_worldPosition;\nvarying vec3 v_color;\nvarying vec3 v_normal;\nvarying vec2 v_uv;\nvarying vec3 v_restPosition;\n\nuniform float u_brimRadius;\nuniform float u_blobIndex;\nuniform float u_baseHue;\n\nvec3 hsv2rgb(vec3 c) {\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nfloat spiral(vec3 p) {\n    float hatLength = u_brimRadius * 2.2; // TODO: Sync this with C++\n    float theta = atan(p.z, p.x);\n    float r = p.y;\n    return step(0.5, mod((r / hatLength) * 2.0 + theta / (2.0 * PI), 1.0));\n}\n\nvoid main () {\n    float hatLength = u_brimRadius * 2.2; // TODO: Sync this with C++\n    vec2 coords = vec2(v_uv.x * u_brimRadius * 2.0 * PI, v_uv.y * hatLength);\n\n    float hue = u_baseHue;\n    float stripe = spiral(v_restPosition);\n    hue += step(0.5, stripe) * 0.1;\n\n    if (v_color.z > 0.5) {\n        hue = u_baseHue;\n    }\n\n    vec3 diffuseColor = pow(hsv2rgb(vec3(hue, 0.8, 1.0)), vec3(2.2));\n\n    float roughness = 0.1;\n    float f0 = 0.05;\n\n    vec3 color = shadeSurfaceWithLights(v_worldPosition, v_normal, diffuseColor, roughness, f0);\n\n    gl_FragColor = vec4(color, 0.99 + stripe * 0.01);\n}\n",
                                      { a_data: 0, a_normal: 1 }
                                  ),
                                  hatDepthProgram: i(t, "#define SHADOW \n" + pe, le, { a_data: 0 }),
                                  balloons: f.balloons,
                                  balloonProgram: i(
                                      t,
                                      "\nprecision highp float;\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec3 a_tangent;\nattribute vec2 a_uv;\n\nvarying vec3 v_normal;\nvarying vec3 v_position;\nvarying vec3 v_tangent;\nvarying vec2 v_uv;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_modelMatrix;\nuniform mat4 u_viewMatrix;\n\nvoid main () {\n    vec3 worldPosition = (u_modelMatrix * vec4(a_position, 1.0)).xyz;\n    v_normal = normalize((u_modelMatrix * vec4(a_normal, 0.0)).xyz);\n    v_tangent = normalize((u_modelMatrix * vec4(a_tangent, 0.0)).xyz);\n    v_uv = a_uv;\n\n    v_position = worldPosition;\n    gl_Position = u_projectionMatrix * u_viewMatrix * vec4(worldPosition, 1.0);\n}\n",
                                      b +
                                          "\nvarying vec3 v_position;\nvarying vec3 v_normal;\nvarying vec3 v_tangent;\nvarying vec2 v_uv;\n\nuniform sampler2D u_environmentMap;\nuniform sampler2D u_normalMap;\n\nuniform float u_intensity;\n\nuniform vec2 u_uvOffset;\n\n#define PI 3.14159265358979323846\n\nvec2 mapRectangular(vec3 direction) {\n    return vec2(\n        fract((atan(direction.z, direction.x) + PI) / (2.0 * PI)),\n        acos(direction.y) / PI\n    );\n}\n\nvoid main () {\n    vec3 viewRay = normalize(u_cameraPosition - v_position);\n\n    vec3 normal = v_normal;\n    vec2 uv = v_uv + u_uvOffset;\n    vec3 localNormal = texture2D(u_normalMap, uv).rgb * 2.0 - 1.0;\n    localNormal = normalize(localNormal * vec3(1.0, 1.0, 0.5));\n    mat3 frame = mat3(v_tangent, cross(v_tangent, v_normal), v_normal);\n    normal = frame * localNormal;\n\n    vec3 reflectedRay = reflect(viewRay, normal);\n\n    vec3 reflectedColor = texture2D(u_environmentMap, mapRectangular(reflectedRay)).rgb * 1.4;\n\n    vec3 albedo = vec3(0.9764, 0.9176, 0.5921);\n    vec3 color = shadeSurfaceWithLightsWithoutShadow(v_position, normal, albedo, 0.02, 0.05);\n    gl_FragColor = vec4(pow(mix(color, reflectedColor * albedo, 0.85) * mix(1.0, 0.7, u_intensity), vec3(1.0 / u_gamma)), 0.0);\n}\n",
                                      { a_position: 0, a_normal: 1, a_tangent: 2, a_uv: 3 }
                                  ),
                                  balloonStringProgram: i(
                                      t,
                                      "\nprecision highp float;\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_modelMatrix;\nuniform mat4 u_viewMatrix;\n\nuniform vec3 u_cameraPosition;\n\nuniform vec3 u_bottomPoint;\nuniform vec3 u_attachPoint;\n\nvoid main () {\n    vec3 worldBottomPoint = vec3(u_modelMatrix * vec4(u_bottomPoint, 1.0));\n    vec3 worldAttachPoint = vec3(u_modelMatrix * vec4(u_attachPoint, 1.0));\n    vec3 position = mix(worldAttachPoint, worldBottomPoint + vec3(0.0, 0.1, 0.0), a_position.y * 0.5 + 0.5);\n\n    vec3 toCamera = u_cameraPosition - position;\n    vec3 right = normalize(cross(worldBottomPoint - worldAttachPoint, toCamera));\n\n    vec3 worldPosition = position + a_position.x * right * 0.01;\n\n    gl_Position = u_projectionMatrix * u_viewMatrix * vec4(worldPosition, 1.0);\n}\n",
                                      "\nprecision highp float;\n\nuniform float u_intensity;\n\nvoid main () {\n    gl_FragColor = vec4(vec3(0.5, 0.4, 0.03) * 0.5 * mix(1.0, 0.7, u_intensity), 0.0);\n}\n",
                                      { a_position: 0 }
                                  ),
                                  hatGeometry: Z(t),
                                  poppers: [],
                                  poppedConfettiProgram: i(t, "#define POP \n" + he, b + de, {
                                      a_offset: 0,
                                      a_spawnVelocity: 1,
                                      a_random: 2,
                                      a_rotation: 3,
                                  }),
                              }),
                        this.setViewMatrix(c.makeTranslation([], -r[0], -r[1], -r[2])),
                        this.lights.push(new fe(t, 0.65 * -Math.PI, 0 * Math.PI, 20, 1.5, !0)),
                        this.lights.push(new fe(t, 0.2 * Math.PI, 0 * Math.PI, 20, 0.2, !0)),
                        this.lights.push(new fe(t, 0.75 * Math.PI, 0 * Math.PI, 20, 0.1, !1)),
                        (this.framebuffer = t.createFramebuffer()),
                        (this.shadowFramebuffer = t.createFramebuffer()),
                        (this.colorTexture = a(
                            t,
                            0,
                            t.RGBA,
                            t.UNSIGNED_BYTE,
                            this.canvas.width,
                            this.canvas.height,
                            null,
                            t.CLAMP_TO_EDGE,
                            t.CLAMP_TO_EDGE,
                            t.LINEAR,
                            t.LINEAR
                        )),
                        (this.colorTextureTemp = a(
                            t,
                            0,
                            t.RGBA,
                            t.UNSIGNED_BYTE,
                            this.canvas.width,
                            this.canvas.height,
                            null,
                            t.CLAMP_TO_EDGE,
                            t.CLAMP_TO_EDGE,
                            t.LINEAR,
                            t.LINEAR
                        )),
                        (this.renderbuffer = l(t, t.DEPTH_STENCIL, this.canvas.width, this.canvas.height)),
                        this.resize(),
                        (this.startTime = Date.now() / 1e3),
                        (this.lastTime = 0),
                        (this.dust = new ne(t, !0, 10, this.projectionViewMatrix)),
                        (this.tongueGeometry = (function (e) {
                            for (var t = [], n = 0; n < 20; ++n)
                                for (
                                    var i = n / 19.5,
                                        o = i < 0.5 ? 1 : Math.sqrt(1 - Math.pow(Object(d.o)(0.5, 1, i), 2)),
                                        a = 0;
                                    a < 16;
                                    ++a
                                ) {
                                    var r = (2 * Math.PI * a) / 16;
                                    t.push(0.15 * Math.cos(r) * o, 0.075 * Math.sin(r) * o, i);
                                }
                            for (var s = [], l = 0; l < 19; ++l)
                                for (a = 0; a < 16; ++a) {
                                    var c = 16 * l + a,
                                        h = 16 * l + ((a + 1) % 16),
                                        p = c + 16,
                                        m = h + 16;
                                    s.push(c, h, m), s.push(m, p, c);
                                }
                            for (a = 1; a < 15; ++a) s.push(304), s.push(304 + a), s.push(304 + a + 1);
                            var f = Object(d.c)(t, s, 0.3);
                            return {
                                positionsBuffer: u(e, e.ARRAY_BUFFER, new Float32Array(t), e.STATIC_DRAW),
                                normalsBuffer: u(e, e.ARRAY_BUFFER, new Float32Array(f), e.STATIC_DRAW),
                                indexBuffer: u(e, e.ELEMENT_ARRAY_BUFFER, new Uint16Array(s), e.STATIC_DRAW),
                                indexCount: s.length,
                            };
                        })(t)),
                        (this.mouthInsideGeometry = (function (e) {
                            for (var t = [], n = 0; n < 20; ++n) for (var i = 0; i < 16; ++i) t.push(i / 16, n / 19);
                            for (var o = [], a = 0; a < 19; ++a)
                                for (i = 0; i < 16; ++i) {
                                    var r = 16 * a + i,
                                        s = 16 * a + ((i + 1) % 16),
                                        l = r + 16,
                                        c = s + 16;
                                    o.push(r, s, c), o.push(c, l, r);
                                }
                            return {
                                vertexBuffer: u(e, e.ARRAY_BUFFER, new Float32Array(t), e.STATIC_DRAW),
                                indexBuffer: u(e, e.ELEMENT_ARRAY_BUFFER, new Uint16Array(o), e.STATIC_DRAW),
                                indexCount: o.length,
                            };
                        })(t)),
                        this.setStaticLightingUniforms(this.blobProgram),
                        this.setStaticLightingUniforms(this.eyeProgram),
                        this.setStaticLightingUniforms(this.mouthProgram),
                        this.setStaticLightingUniforms(this.tongueProgram),
                        this.setStaticLightingUniforms(this.floorProgram),
                        this.festiveScene.kind === y.Christmas
                            ? this.setStaticLightingUniforms(this.festiveScene.hatProgram)
                            : this.festiveScene.kind === y.NewYears &&
                              (this.setStaticLightingUniforms(this.festiveScene.hatProgram),
                              this.setStaticLightingUniforms(this.festiveScene.confettiProgram),
                              this.setStaticLightingUniforms(this.festiveScene.poppedConfettiProgram),
                              this.setStaticLightingUniforms(this.festiveScene.balloonProgram)),
                        (this.floorYOffset = new p.a(-10, function (e) {
                            return 1 - Math.pow(1 - e, 3);
                        })),
                        this.floorYOffset.change(0, 1.5),
                        (this.backgroundZoom = new p.a(1, function (e) {
                            return Object(d.w)(0, 1, e);
                        })),
                        this.backgroundZoom.change(1, 1.5),
                        this.dustScale.change(1, 1),
                        (this.backgroundTexture = this.generateBackgroundTexture(n, o)),
                        (this.newBackgroundTexture = this.generateBackgroundTexture(n, o));
                }
                return (
                    (e.prototype.resize = function () {
                        var e = this.canvas.clientWidth,
                            t = this.canvas.clientHeight;
                        (this.canvas.width === e && this.canvas.height === t) ||
                            ((this.canvas.width = e), (this.canvas.height = t), this.onResize()),
                            this.recalculateProjectionMatrix();
                    }),
                    (e.prototype.recalculateProjectionMatrix = function () {
                        var e = this.fov,
                            t = this.canvas.height - 2 * this.paddingHeight,
                            n = this.canvas.width / t;
                        if (n < 1) {
                            var i = 2 * Math.atan(1 * Math.tan(e / 2));
                            (e = 2 * Math.atan((1 / n) * Math.tan(i / 2))), (e = Math.min(e, 0.9 * Math.PI));
                        }
                        (this.currentVerticalFOV = e),
                            c.makePerspective(this.projectionMatrix, e, this.canvas.width / t, 0.01, 100),
                            c.invert(this.inverseProjectionMatrix, this.projectionMatrix),
                            c.makeInfinitePerspective(
                                this.infiniteProjectionMatrix,
                                e,
                                this.canvas.width / t,
                                0.01,
                                100
                            ),
                            c.makeInfinitePerspective(this.referenceProjectionMatrix, e, 1, 0.01, 100),
                            c.premultiply(this.projectionViewMatrix, this.viewMatrix, this.projectionMatrix);
                    }),
                    (e.prototype.setSSSColors = function (e) {
                        var t = this.gl;
                        (this.sssBlurProgram = i(t, me, ee(17, e), { a_position: 0 })), console.log(e);
                    }),
                    (e.prototype.onResize = function () {
                        var e = this.gl;
                        r(
                            e,
                            this.colorTexture,
                            0,
                            e.RGBA,
                            e.UNSIGNED_BYTE,
                            this.canvas.width,
                            this.canvas.height,
                            null,
                            e.CLAMP_TO_EDGE,
                            e.CLAMP_TO_EDGE,
                            e.LINEAR,
                            e.LINEAR
                        ),
                            r(
                                e,
                                this.colorTextureTemp,
                                0,
                                e.RGBA,
                                e.UNSIGNED_BYTE,
                                this.canvas.width,
                                this.canvas.height,
                                null,
                                e.CLAMP_TO_EDGE,
                                e.CLAMP_TO_EDGE,
                                e.LINEAR,
                                e.LINEAR
                            ),
                            e.bindRenderbuffer(e.RENDERBUFFER, this.renderbuffer),
                            e.renderbufferStorage(
                                e.RENDERBUFFER,
                                e.DEPTH_STENCIL,
                                this.canvas.width,
                                this.canvas.height
                            );
                    }),
                    (e.prototype.getWorldRayDirection = function (e, t, n) {
                        (e[0] = t), (e[1] = n), (e[2] = 1), (e[3] = 1);
                        var i = c.multiplyVector(e, this.inverseProjectionMatrix, e);
                        (i[0] /= i[3]), (i[1] /= i[3]), (i[2] /= i[3]), h.a.normalize(i, i);
                        var o = c.transformDirection(e, i, this.inverseViewMatrix);
                        return h.a.normalize(o, o), o;
                    }),
                    (e.prototype.getScreenPosition = function (e, t) {
                        var n = c.multiplyVector(e, this.viewMatrix, [t[0], t[1], t[2], 1]),
                            i = c.multiplyVector(e, this.projectionMatrix, n);
                        return (i[0] /= i[3]), (i[1] /= i[3]), e;
                    }),
                    (e.prototype.setStaticLightingUniforms = function (e) {
                        var t = this.gl;
                        t.useProgram(e.program),
                            t.uniform3f(
                                e.uniformLocations.u_cameraPosition,
                                this.inverseViewMatrix[12],
                                this.inverseViewMatrix[13],
                                this.inverseViewMatrix[14]
                            ),
                            t.uniform1f(e.uniformLocations.u_gamma, 2.2);
                        for (var n = 0; n < this.lights.length; ++n) {
                            var i = this.lights[n];
                            t.uniform3fv(e.uniformLocations["u_lightPosition" + n.toFixed(0)], i.position),
                                t.uniform3fv(e.uniformLocations["u_lightColor" + n.toFixed(0)], i.color),
                                i.shadowsEnabled &&
                                    (t.uniform2f(
                                        e.uniformLocations["u_shadowResolution" + n.toFixed(0)],
                                        i.shadowMapWidth,
                                        i.shadowMapWidth
                                    ),
                                    t.uniformMatrix4fv(
                                        e.uniformLocations["u_lightProjectionViewMatrix" + n.toFixed(0)],
                                        !1,
                                        i.projectionViewMatrix
                                    ),
                                    t.uniform1i(e.uniformLocations["u_shadowDepthTexture" + n.toFixed(0)], 3 + n));
                        }
                    }),
                    (e.prototype.unbindLightingTextures = function () {
                        for (var e = this.gl, t = 0; t < this.lights.length; ++t)
                            e.activeTexture(e.TEXTURE0 + 3 + t), e.bindTexture(e.TEXTURE_2D, null);
                    }),
                    (e.prototype.bindLightingTextures = function () {
                        for (var e = this.gl, t = 0; t < this.lights.length; ++t)
                            e.activeTexture(e.TEXTURE0 + 3 + t),
                                e.bindTexture(e.TEXTURE_2D, this.lights[t].depthColorTexture);
                    }),
                    (e.prototype.setViewMatrix = function (e) {
                        c.copy(this.viewMatrix, e),
                            c.invert(this.inverseViewMatrix, this.viewMatrix),
                            (this.cameraPosition[0] = this.inverseViewMatrix[12]),
                            (this.cameraPosition[1] = this.inverseViewMatrix[13]),
                            (this.cameraPosition[2] = this.inverseViewMatrix[14]),
                            c.premultiply(this.projectionViewMatrix, this.viewMatrix, this.projectionMatrix);
                    }),
                    (e.prototype.changeScene = function (e, t, n) {
                        this.gl.deleteTexture(this.backgroundTexture),
                            (this.backgroundTexture = this.newBackgroundTexture),
                            (this.newBackgroundTexture = this.generateBackgroundTexture(e, t)),
                            this.backgroundTransitionT.change(0, 0),
                            this.backgroundTransitionT.change(1, 0.5, n);
                    }),
                    (e.prototype.render = function (e) {
                        this.resize();
                        var t = Date.now() / 1e3 - this.startTime,
                            n = t - this.lastTime;
                        this.lastTime = t;
                        for (var i = !1, o = 0, a = e; o < a.length; o++) {
                            (J = a[o]).isDragging && (i = !0);
                        }
                        var r = this.gl;
                        this.unbindLightingTextures();
                        for (var s = 0, l = this.lights; s < l.length; s++) {
                            var u = l[s];
                            if (u.shadowsEnabled) {
                                r.bindFramebuffer(r.FRAMEBUFFER, this.shadowFramebuffer),
                                    r.framebufferTexture2D(
                                        r.FRAMEBUFFER,
                                        r.COLOR_ATTACHMENT0,
                                        r.TEXTURE_2D,
                                        u.depthColorTexture,
                                        0
                                    ),
                                    r.framebufferRenderbuffer(
                                        r.FRAMEBUFFER,
                                        r.DEPTH_ATTACHMENT,
                                        r.RENDERBUFFER,
                                        u.depthRenderbuffer
                                    ),
                                    r.viewport(0, 0, u.shadowMapWidth, u.shadowMapWidth),
                                    r.clearColor(1, 1, 1, 1),
                                    r.clear(r.COLOR_BUFFER_BIT | r.DEPTH_BUFFER_BIT),
                                    r.useProgram(this.blobDepthProgram.program),
                                    r.uniformMatrix4fv(
                                        this.blobDepthProgram.uniformLocations.u_projectionMatrix,
                                        !1,
                                        u.projectionMatrix
                                    ),
                                    r.uniformMatrix4fv(
                                        this.blobDepthProgram.uniformLocations.u_viewMatrix,
                                        !1,
                                        u.viewMatrix
                                    ),
                                    r.enableVertexAttribArray(0),
                                    r.enableVertexAttribArray(1),
                                    r.enable(r.DEPTH_TEST);
                                for (var h = 0, p = e; h < p.length; h++) {
                                    if ((J = p[h]).state !== E.Offscreen) {
                                        r.uniformMatrix4fv(
                                            this.blobDepthProgram.uniformLocations.u_modelMatrix,
                                            !1,
                                            J.modelMatrix
                                        ),
                                            r.bindBuffer(r.ARRAY_BUFFER, J.positionsBuffer),
                                            r.vertexAttribPointer(0, 3, r.FLOAT, !1, 0, 0),
                                            r.bindBuffer(r.ARRAY_BUFFER, J.normalsBuffer),
                                            r.vertexAttribPointer(1, 3, r.FLOAT, !1, 0, 0),
                                            r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, J.indexBuffer),
                                            r.enable(r.CULL_FACE),
                                            r.drawElements(r.TRIANGLES, J.renderingIndexCount, r.UNSIGNED_SHORT, 0),
                                            r.disable(r.CULL_FACE);
                                        for (var m = 0, f = J.eyes; m < f.length; m++) {
                                            var g = f[m];
                                            r.bindBuffer(r.ARRAY_BUFFER, g.positionsBuffer),
                                                r.vertexAttribPointer(0, 3, r.FLOAT, !1, 0, 0),
                                                r.bindBuffer(r.ARRAY_BUFFER, g.normalsBuffer),
                                                r.vertexAttribPointer(1, 3, r.FLOAT, !1, 0, 0),
                                                r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, g.indexBuffer),
                                                r.drawElements(r.TRIANGLES, g.indexCount, r.UNSIGNED_SHORT, 0);
                                        }
                                    }
                                }
                                r.disableVertexAttribArray(1),
                                    r.disable(r.CULL_FACE),
                                    r.useProgram(this.mouthDepthProgram.program),
                                    r.uniformMatrix4fv(
                                        this.mouthDepthProgram.uniformLocations.u_projectionMatrix,
                                        !1,
                                        u.projectionMatrix
                                    ),
                                    r.uniformMatrix4fv(
                                        this.mouthDepthProgram.uniformLocations.u_viewMatrix,
                                        !1,
                                        u.viewMatrix
                                    ),
                                    r.enableVertexAttribArray(0),
                                    r.enable(r.DEPTH_TEST);
                                for (var b = 0, v = e; b < v.length; b++) {
                                    (J = v[b]).state !== E.Offscreen &&
                                        (r.uniformMatrix4fv(
                                            this.mouthDepthProgram.uniformLocations.u_modelMatrix,
                                            !1,
                                            J.modelMatrix
                                        ),
                                        r.uniform1i(
                                            this.mouthDepthProgram.uniformLocations.u_vertexCount,
                                            J.mouthPositionCount
                                        ),
                                        r.uniform1f(
                                            this.mouthDepthProgram.uniformLocations.u_lipScale,
                                            1.25 * J.config.lipScale
                                        ),
                                        r.uniform3fv(
                                            this.mouthDepthProgram.uniformLocations["u_positions[0]"],
                                            J.getMouthPositions()
                                        ),
                                        r.bindBuffer(r.ARRAY_BUFFER, J.mouthGeometry.vertexBuffer),
                                        r.vertexAttribPointer(0, 3, r.FLOAT, !1, 0, 0),
                                        r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, J.mouthGeometry.indexBuffer),
                                        r.drawElements(r.TRIANGLES, J.mouthGeometry.indexCount, r.UNSIGNED_SHORT, 0));
                                }
                                if (this.festiveScene.kind === y.Christmas || this.festiveScene.kind === y.NewYears) {
                                    var x = this.festiveScene.hatDepthProgram,
                                        k = this.festiveScene.hatGeometry;
                                    r.useProgram(x.program),
                                        r.uniformMatrix4fv(
                                            x.uniformLocations.u_projectionMatrix,
                                            !1,
                                            u.projectionMatrix
                                        ),
                                        r.uniformMatrix4fv(x.uniformLocations.u_viewMatrix, !1, u.viewMatrix),
                                        r.enableVertexAttribArray(0),
                                        r.bindBuffer(r.ARRAY_BUFFER, k.dataBuffer),
                                        r.vertexAttribPointer(0, 4, r.FLOAT, !1, 0, 0),
                                        r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, k.indexBuffer),
                                        r.enable(r.DEPTH_TEST),
                                        r.enable(r.CULL_FACE);
                                    for (var _ = 0, w = e; _ < w.length; _++) {
                                        null !== (J = w[_]).hat &&
                                            1 !== J.hatOffset.evaluate() &&
                                            J.state !== E.Offscreen &&
                                            (r.uniformMatrix4fv(
                                                x.uniformLocations.u_modelMatrix,
                                                !1,
                                                J.getHatModelMatrix()
                                            ),
                                            r.uniform3fv(
                                                x.uniformLocations["u_profilePoints[0]"],
                                                J.hat.getBrimPositions()
                                            ),
                                            r.uniform3fv(
                                                x.uniformLocations["u_splinePositions[0]"],
                                                J.hat.getSplinePositions()
                                            ),
                                            r.uniform3fv(
                                                x.uniformLocations["u_splineTangents[0]"],
                                                J.hat.getSplineTangents()
                                            ),
                                            r.uniform3fv(
                                                x.uniformLocations["u_splineNormals[0]"],
                                                J.hat.getSplineNormals()
                                            ),
                                            r.uniform1f(
                                                x.uniformLocations.u_brimRadius,
                                                J.config.parameters.brimRadius
                                            ),
                                            r.drawElements(r.TRIANGLES, k.indexCount, r.UNSIGNED_SHORT, 0));
                                    }
                                    r.disable(r.CULL_FACE);
                                }
                            }
                        }
                        r.bindFramebuffer(r.FRAMEBUFFER, this.framebuffer),
                            r.framebufferTexture2D(
                                r.FRAMEBUFFER,
                                r.COLOR_ATTACHMENT0,
                                r.TEXTURE_2D,
                                this.colorTexture,
                                0
                            ),
                            r.framebufferRenderbuffer(
                                r.FRAMEBUFFER,
                                r.DEPTH_STENCIL_ATTACHMENT,
                                r.RENDERBUFFER,
                                this.renderbuffer
                            ),
                            r.clearColor(0, 0, 0, 0),
                            r.clearStencil(0),
                            r.clear(r.COLOR_BUFFER_BIT | r.DEPTH_BUFFER_BIT | r.STENCIL_BUFFER_BIT),
                            r.viewport(
                                0,
                                this.paddingHeight,
                                this.canvas.width,
                                this.canvas.height - 2 * this.paddingHeight
                            ),
                            this.bindLightingTextures(),
                            r.useProgram(this.blobProgram.program),
                            r.uniform3fv(this.blobProgram.uniformLocations.u_cameraPosition, this.cameraPosition),
                            r.uniformMatrix4fv(
                                this.blobProgram.uniformLocations.u_projectionMatrix,
                                !1,
                                this.projectionMatrix
                            ),
                            r.uniformMatrix4fv(this.blobProgram.uniformLocations.u_viewMatrix, !1, this.viewMatrix),
                            r.uniform1i(this.blobProgram.uniformLocations.u_albedoTexture, 0),
                            r.uniform1i(this.blobProgram.uniformLocations.u_materialMap, 1),
                            r.enableVertexAttribArray(0),
                            r.enableVertexAttribArray(1),
                            r.enableVertexAttribArray(2),
                            r.enableVertexAttribArray(3),
                            r.enable(r.DEPTH_TEST),
                            r.enable(r.CULL_FACE),
                            r.cullFace(r.FRONT);
                        for (var P = 0; P < e.length; ++P) {
                            if ((J = e[P]).state !== E.Offscreen) {
                                r.activeTexture(r.TEXTURE0),
                                    r.bindTexture(r.TEXTURE_2D, e[P].assets.bodyMaterial.albedoTexture),
                                    r.activeTexture(r.TEXTURE1),
                                    r.bindTexture(r.TEXTURE_2D, e[P].assets.bodyMaterial.materialMap),
                                    r.uniform1i(this.blobProgram.uniformLocations.u_blobIndex, P % 4),
                                    r.uniform1f(
                                        this.blobProgram.uniformLocations.u_normalScale,
                                        J.assets.bodyMaterial.normalScale
                                    ),
                                    r.uniform1f(
                                        this.blobProgram.uniformLocations.u_isSinging,
                                        J.smoothIsSinging.evaluate()
                                    ),
                                    r.uniform3f(
                                        this.blobProgram.uniformLocations.u_hsvShift,
                                        J.assets.bodyMaterial.hueShift,
                                        J.assets.bodyMaterial.saturationBoost,
                                        J.assets.bodyMaterial.lightnessBoost
                                    ),
                                    r.uniform1f(this.blobProgram.uniformLocations.u_f0, J.assets.bodyMaterial.f0),
                                    r.uniform1f(
                                        this.blobProgram.uniformLocations.u_roughnessScale,
                                        J.assets.bodyMaterial.roughnessScale
                                    );
                                var S = J.rimLevel.evaluate();
                                r.uniform3f(this.blobProgram.uniformLocations.u_rimColor, S, S, S),
                                    r.uniformMatrix4fv(
                                        this.blobProgram.uniformLocations.u_modelMatrix,
                                        !1,
                                        J.modelMatrix
                                    ),
                                    r.bindBuffer(r.ARRAY_BUFFER, J.positionsBuffer),
                                    r.vertexAttribPointer(0, 3, r.FLOAT, !1, 0, 0),
                                    r.bindBuffer(r.ARRAY_BUFFER, J.normalsBuffer),
                                    r.vertexAttribPointer(1, 3, r.FLOAT, !1, 0, 0),
                                    r.bindBuffer(r.ARRAY_BUFFER, J.uvsBuffer),
                                    r.vertexAttribPointer(2, 2, r.FLOAT, !1, 0, 0),
                                    r.bindBuffer(r.ARRAY_BUFFER, J.speedsBuffer),
                                    r.vertexAttribPointer(3, 1, r.FLOAT, !1, 0, 0),
                                    r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, J.indexBuffer),
                                    r.drawElements(r.TRIANGLES, J.renderingIndexCount, r.UNSIGNED_SHORT, 0);
                            }
                        }
                        r.disable(r.CULL_FACE),
                            r.cullFace(r.BACK),
                            r.disableVertexAttribArray(1),
                            r.disableVertexAttribArray(2),
                            r.disableVertexAttribArray(3),
                            r.useProgram(this.eyeProgram.program),
                            r.uniform3fv(this.eyeProgram.uniformLocations.u_cameraPosition, this.cameraPosition),
                            r.uniformMatrix4fv(
                                this.eyeProgram.uniformLocations.u_projectionMatrix,
                                !1,
                                this.projectionMatrix
                            ),
                            r.uniformMatrix4fv(this.eyeProgram.uniformLocations.u_viewMatrix, !1, this.viewMatrix),
                            r.uniform1f(this.eyeProgram.uniformLocations.u_time, t),
                            r.uniform1i(this.eyeProgram.uniformLocations.u_albedoTexture, 0),
                            r.uniform1i(this.eyeProgram.uniformLocations.u_materialMap, 1),
                            r.enableVertexAttribArray(0),
                            r.enableVertexAttribArray(1),
                            r.enableVertexAttribArray(2),
                            r.enableVertexAttribArray(3),
                            r.enable(r.DEPTH_TEST);
                        for (P = 0; P < e.length; ++P) {
                            if ((J = e[P]).state !== E.Offscreen) {
                                r.uniform1i(this.eyeProgram.uniformLocations.u_blobIndex, P % 4),
                                    r.uniformMatrix4fv(
                                        this.eyeProgram.uniformLocations.u_modelMatrix,
                                        !1,
                                        J.modelMatrix
                                    ),
                                    r.uniform1i(
                                        this.eyeProgram.uniformLocations.u_hipnotized,
                                        J.overrideHipnotized ? 1 : 0
                                    ),
                                    r.uniform1f(
                                        this.eyeProgram.uniformLocations.u_bottomEyelidAngle,
                                        J.getBottomEyelidAngle()
                                    ),
                                    r.uniform1f(
                                        this.eyeProgram.uniformLocations.u_topEyelidAngle,
                                        J.getTopEyelidAngle()
                                    ),
                                    r.uniform1f(
                                        this.eyeProgram.uniformLocations.u_pupilSize,
                                        0.085 * Math.pow(J.config.parameters.leftEyeScale[0], 0.5)
                                    ),
                                    r.activeTexture(r.TEXTURE0),
                                    r.bindTexture(r.TEXTURE_2D, e[P].assets.bodyMaterial.albedoTexture),
                                    r.activeTexture(r.TEXTURE1),
                                    r.bindTexture(r.TEXTURE_2D, e[P].assets.bodyMaterial.materialMap),
                                    r.uniform3f(
                                        this.eyeProgram.uniformLocations.u_hsvShift,
                                        J.assets.bodyMaterial.hueShift,
                                        J.assets.bodyMaterial.saturationBoost,
                                        J.assets.bodyMaterial.lightnessBoost
                                    ),
                                    r.uniform1f(this.eyeProgram.uniformLocations.u_f0, J.assets.bodyMaterial.f0),
                                    r.uniform1f(
                                        this.eyeProgram.uniformLocations.u_roughnessScale,
                                        J.assets.bodyMaterial.roughnessScale
                                    );
                                for (var A = J.eyes.length - 1; A >= 0; --A) {
                                    g = J.eyes[A];
                                    r.uniform3fv(this.eyeProgram.uniformLocations.u_eyePosition, g.attachPosition),
                                        r.uniform3fv(this.eyeProgram.uniformLocations.u_lookDirection, g.lookDirection),
                                        r.bindBuffer(r.ARRAY_BUFFER, g.positionsBuffer),
                                        r.vertexAttribPointer(0, 3, r.FLOAT, !1, 0, 0),
                                        r.bindBuffer(r.ARRAY_BUFFER, g.normalsBuffer),
                                        r.vertexAttribPointer(1, 3, r.FLOAT, !1, 0, 0),
                                        r.bindBuffer(r.ARRAY_BUFFER, g.restPositionsBuffer),
                                        r.vertexAttribPointer(2, 3, r.FLOAT, !1, 0, 0),
                                        r.bindBuffer(r.ARRAY_BUFFER, g.uvsBuffer),
                                        r.vertexAttribPointer(3, 2, r.FLOAT, !1, 0, 0),
                                        r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, g.indexBuffer),
                                        r.drawElements(r.TRIANGLES, g.indexCount, r.UNSIGNED_SHORT, 0);
                                }
                            }
                        }
                        r.depthMask(!0),
                            r.disableVertexAttribArray(1),
                            r.disableVertexAttribArray(2),
                            r.disableVertexAttribArray(3),
                            r.useProgram(this.mouthProgram.program),
                            r.uniform3fv(this.mouthProgram.uniformLocations.u_cameraPosition, this.cameraPosition),
                            r.uniformMatrix4fv(
                                this.mouthProgram.uniformLocations.u_projectionMatrix,
                                !1,
                                this.projectionMatrix
                            ),
                            r.uniformMatrix4fv(this.mouthProgram.uniformLocations.u_viewMatrix, !1, this.viewMatrix),
                            r.uniform1i(this.mouthProgram.uniformLocations.u_albedoTexture, 0),
                            r.enableVertexAttribArray(0),
                            r.enableVertexAttribArray(1),
                            r.enableVertexAttribArray(2),
                            r.enable(r.DEPTH_TEST);
                        for (P = 0; P < e.length; ++P) {
                            (J = e[P]).state !== E.Offscreen &&
                                (r.uniform1i(this.mouthProgram.uniformLocations.u_blobIndex, P % 4),
                                r.uniform3fv(this.mouthProgram.uniformLocations.u_color, J.assets.mouthColor),
                                r.uniform3fv(
                                    this.mouthProgram.uniformLocations.u_restMouthCentroid,
                                    J.restMouthCentroid
                                ),
                                r.uniform1f(this.mouthProgram.uniformLocations.u_lipScale, J.config.lipScale),
                                r.uniformMatrix4fv(this.mouthProgram.uniformLocations.u_modelMatrix, !1, J.modelMatrix),
                                r.uniform1i(this.mouthProgram.uniformLocations.u_vertexCount, J.mouthPositionCount),
                                r.uniform3fv(
                                    this.mouthProgram.uniformLocations["u_positions[0]"],
                                    J.getMouthPositions()
                                ),
                                r.bindBuffer(r.ARRAY_BUFFER, J.mouthGeometry.vertexBuffer),
                                r.vertexAttribPointer(0, 3, r.FLOAT, !1, 0, 0),
                                r.bindBuffer(r.ARRAY_BUFFER, J.mouthGeometry.normalsBuffer),
                                r.vertexAttribPointer(1, 3, r.FLOAT, !1, 0, 0),
                                r.bindBuffer(r.ARRAY_BUFFER, J.mouthGeometry.uvsBuffer),
                                r.vertexAttribPointer(2, 2, r.FLOAT, !1, 0, 0),
                                r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, J.mouthGeometry.indexBuffer),
                                r.drawElements(r.TRIANGLES, J.mouthGeometry.indexCount, r.UNSIGNED_SHORT, 0));
                        }
                        r.disableVertexAttribArray(1),
                            r.disableVertexAttribArray(2),
                            r.enable(r.STENCIL_TEST),
                            r.stencilOp(r.KEEP, r.KEEP, r.REPLACE),
                            r.useProgram(this.mouthInsideProgram.program),
                            r.uniformMatrix4fv(
                                this.mouthInsideProgram.uniformLocations.u_projectionMatrix,
                                !1,
                                this.projectionMatrix
                            ),
                            r.uniformMatrix4fv(
                                this.mouthInsideProgram.uniformLocations.u_viewMatrix,
                                !1,
                                this.viewMatrix
                            ),
                            r.enableVertexAttribArray(0),
                            r.enable(r.DEPTH_TEST);
                        for (P = 0; P < e.length; ++P) {
                            (J = e[P]).state !== E.Offscreen &&
                                (r.uniformMatrix4fv(
                                    this.mouthInsideProgram.uniformLocations.u_modelMatrix,
                                    !1,
                                    J.modelMatrix
                                ),
                                r.bindBuffer(r.ARRAY_BUFFER, J.positionsBuffer),
                                r.vertexAttribPointer(0, 3, r.FLOAT, !1, 0, 0),
                                r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, J.mouthTriangleIndexBuffer),
                                r.stencilFunc(r.ALWAYS, 1 << (e.length - 1 - P), 1 << (e.length - 1 - P)),
                                r.drawElements(r.TRIANGLES, J.mouthTriangleIndexCount, r.UNSIGNED_SHORT, 0));
                        }
                        r.depthMask(!0),
                            r.stencilOp(r.KEEP, r.KEEP, r.KEEP),
                            r.useProgram(this.throatProgram.program),
                            r.uniformMatrix4fv(
                                this.throatProgram.uniformLocations.u_projectionMatrix,
                                !1,
                                this.projectionMatrix
                            ),
                            r.uniformMatrix4fv(this.throatProgram.uniformLocations.u_viewMatrix, !1, this.viewMatrix),
                            r.uniform1i(this.throatProgram.uniformLocations.u_albedoTexture, 0),
                            r.enableVertexAttribArray(0),
                            r.bindBuffer(r.ARRAY_BUFFER, this.mouthInsideGeometry.vertexBuffer),
                            r.vertexAttribPointer(0, 2, r.FLOAT, !1, 0, 0),
                            r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, this.mouthInsideGeometry.indexBuffer),
                            r.disable(r.DEPTH_TEST);
                        for (P = 0; P < e.length; ++P) {
                            (J = e[P]).state !== E.Offscreen &&
                                (r.uniformMatrix4fv(
                                    this.throatProgram.uniformLocations.u_modelMatrix,
                                    !1,
                                    J.modelMatrix
                                ),
                                r.uniform1i(this.throatProgram.uniformLocations.u_blobIndex, P % 4),
                                r.uniform1i(this.throatProgram.uniformLocations.u_vertexCount, J.mouthPositionCount),
                                r.uniform3fv(
                                    this.throatProgram.uniformLocations["u_positions[0]"],
                                    J.getMouthPositions()
                                ),
                                r.uniform2fv(this.throatProgram.uniformLocations["u_uvs[0]"], J.mouthUVs),
                                r.uniform3f(
                                    this.throatProgram.uniformLocations.u_hsvShift,
                                    J.assets.bodyMaterial.hueShift,
                                    J.assets.bodyMaterial.saturationBoost,
                                    J.assets.bodyMaterial.lightnessBoost
                                ),
                                r.activeTexture(r.TEXTURE0),
                                r.bindTexture(r.TEXTURE_2D, J.assets.bodyMaterial.albedoTexture),
                                r.stencilFunc(r.EQUAL, 1 << (e.length - 1 - P), 4294967295),
                                r.drawElements(r.TRIANGLES, this.mouthInsideGeometry.indexCount, r.UNSIGNED_SHORT, 0));
                        }
                        r.useProgram(this.tongueProgram.program),
                            r.uniform3fv(this.tongueProgram.uniformLocations.u_cameraPosition, this.cameraPosition),
                            r.uniformMatrix4fv(
                                this.tongueProgram.uniformLocations.u_projectionMatrix,
                                !1,
                                this.projectionMatrix
                            ),
                            r.uniformMatrix4fv(this.tongueProgram.uniformLocations.u_viewMatrix, !1, this.viewMatrix),
                            r.enableVertexAttribArray(0),
                            r.enableVertexAttribArray(1),
                            r.bindBuffer(r.ARRAY_BUFFER, this.tongueGeometry.positionsBuffer),
                            r.vertexAttribPointer(0, 3, r.FLOAT, !1, 0, 0),
                            r.bindBuffer(r.ARRAY_BUFFER, this.tongueGeometry.normalsBuffer),
                            r.vertexAttribPointer(1, 3, r.FLOAT, !1, 0, 0),
                            r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, this.tongueGeometry.indexBuffer);
                        for (P = 0; P < e.length; ++P) {
                            (J = e[P]).state !== E.Offscreen &&
                                (r.uniformMatrix4fv(
                                    this.tongueProgram.uniformLocations.u_modelMatrix,
                                    !1,
                                    J.modelMatrix
                                ),
                                r.uniform2fv(this.tongueProgram.uniformLocations.u_scale, J.tongueScale),
                                r.uniform3fv(
                                    this.tongueProgram.uniformLocations["u_splinePositions[0]"],
                                    J.getTonguePositions()
                                ),
                                r.uniform3fv(
                                    this.tongueProgram.uniformLocations["u_splineTangents[0]"],
                                    J.getTongueTangents()
                                ),
                                r.uniform3fv(
                                    this.tongueProgram.uniformLocations["u_splineNormals[0]"],
                                    J.getTongueNormals()
                                ),
                                r.stencilFunc(r.EQUAL, 1 << (e.length - 1 - P), 4294967295),
                                r.drawElements(r.TRIANGLES, this.tongueGeometry.indexCount, r.UNSIGNED_SHORT, 0));
                        }
                        if (
                            (r.disableVertexAttribArray(1),
                            r.disable(r.STENCIL_TEST),
                            this.festiveScene.kind === y.Christmas || this.festiveScene.kind === y.NewYears)
                        ) {
                            var T = this.festiveScene.hatProgram;
                            k = this.festiveScene.hatGeometry;
                            r.useProgram(T.program),
                                r.uniform3fv(T.uniformLocations.u_cameraPosition, this.cameraPosition),
                                r.uniformMatrix4fv(T.uniformLocations.u_projectionMatrix, !1, this.projectionMatrix),
                                r.uniformMatrix4fv(T.uniformLocations.u_viewMatrix, !1, this.viewMatrix),
                                r.enableVertexAttribArray(0),
                                r.enableVertexAttribArray(1),
                                r.bindBuffer(r.ARRAY_BUFFER, k.dataBuffer),
                                r.vertexAttribPointer(0, 4, r.FLOAT, !1, 0, 0),
                                r.bindBuffer(r.ARRAY_BUFFER, k.normalsBuffer),
                                r.vertexAttribPointer(1, 3, r.FLOAT, !1, 0, 0),
                                r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, k.indexBuffer),
                                r.enable(r.DEPTH_TEST);
                            for (var M = 0, R = e; M < R.length; M++) {
                                null !== (J = R[M]).hat &&
                                    1 !== J.hatOffset.evaluate() &&
                                    J.state !== E.Offscreen &&
                                    (r.uniformMatrix4fv(T.uniformLocations.u_modelMatrix, !1, J.getHatModelMatrix()),
                                    r.uniform3fv(T.uniformLocations["u_profilePoints[0]"], J.hat.getBrimPositions()),
                                    r.uniform3fv(
                                        T.uniformLocations["u_splinePositions[0]"],
                                        J.hat.getSplinePositions()
                                    ),
                                    r.uniform3fv(T.uniformLocations["u_splineTangents[0]"], J.hat.getSplineTangents()),
                                    r.uniform3fv(T.uniformLocations["u_splineNormals[0]"], J.hat.getSplineNormals()),
                                    r.uniform1f(T.uniformLocations.u_brimRadius, J.config.parameters.brimRadius),
                                    r.uniform1f(
                                        T.uniformLocations.u_baseHue,
                                        J.config.partyHatHue ? J.config.partyHatHue : 0
                                    ),
                                    r.drawElements(r.TRIANGLES, k.indexCount, r.UNSIGNED_SHORT, 0));
                            }
                            r.disableVertexAttribArray(1);
                        }
                        if (
                            this.festiveScene.kind === y.NewYears &&
                            this.festiveParticleTransitionT > -1 &&
                            this.festiveParticleTransitionT < 1 &&
                            this.balloonsYOffset < 1
                        ) {
                            var z = this.festiveScene.balloons,
                                C = this.festiveScene.balloonProgram,
                                B = this.festiveScene.balloonStringProgram;
                            r.useProgram(C.program),
                                r.uniform3fv(C.uniformLocations.u_cameraPosition, this.cameraPosition),
                                r.uniformMatrix4fv(C.uniformLocations.u_projectionMatrix, !1, this.projectionMatrix),
                                r.uniformMatrix4fv(C.uniformLocations.u_viewMatrix, !1, this.viewMatrix),
                                r.uniform1f(C.uniformLocations.u_time, t),
                                r.uniform1f(C.uniformLocations.u_intensity, this.backgroundIntensity.evaluate()),
                                r.uniform1i(C.uniformLocations.u_environmentMap, 0),
                                r.activeTexture(r.TEXTURE0),
                                r.bindTexture(r.TEXTURE_2D, z.environmentMap),
                                r.uniform1i(C.uniformLocations.u_normalMap, 1),
                                r.activeTexture(r.TEXTURE1),
                                r.bindTexture(r.TEXTURE_2D, z.normalMap),
                                r.enableVertexAttribArray(0),
                                r.enableVertexAttribArray(1),
                                r.enableVertexAttribArray(2),
                                r.enableVertexAttribArray(3),
                                r.enable(r.DEPTH_TEST);
                            for (P = 0; P < z.balloons.length; ++P) {
                                var j = z.balloons[P];
                                r.uniformMatrix4fv(
                                    C.uniformLocations.u_modelMatrix,
                                    !1,
                                    j.getModelMatrix(7 * this.festiveParticleTransitionT, 0, 0)
                                ),
                                    r.uniform2fv(C.uniformLocations.u_uvOffset, j.uvOffset),
                                    r.bindBuffer(r.ARRAY_BUFFER, j.rigidMesh.positionsBuffer),
                                    r.vertexAttribPointer(0, 3, r.FLOAT, !1, 0, 0),
                                    r.bindBuffer(r.ARRAY_BUFFER, j.rigidMesh.normalsBuffer),
                                    r.vertexAttribPointer(1, 3, r.FLOAT, !1, 0, 0),
                                    r.bindBuffer(r.ARRAY_BUFFER, j.rigidMesh.tangentsBuffer),
                                    r.vertexAttribPointer(2, 3, r.FLOAT, !1, 0, 0),
                                    r.bindBuffer(r.ARRAY_BUFFER, j.rigidMesh.uvsBuffer),
                                    r.vertexAttribPointer(3, 2, r.FLOAT, !1, 0, 0),
                                    r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, j.rigidMesh.indexBuffer),
                                    r.drawElements(r.TRIANGLES, j.rigidMesh.indexCount, r.UNSIGNED_SHORT, 0);
                            }
                            r.disableVertexAttribArray(1),
                                r.disableVertexAttribArray(2),
                                r.disableVertexAttribArray(3),
                                r.useProgram(B.program),
                                r.uniform3fv(B.uniformLocations.u_cameraPosition, this.cameraPosition),
                                r.uniformMatrix4fv(B.uniformLocations.u_projectionMatrix, !1, this.projectionMatrix),
                                r.uniformMatrix4fv(B.uniformLocations.u_viewMatrix, !1, this.viewMatrix),
                                r.uniform1f(B.uniformLocations.u_intensity, this.backgroundIntensity.evaluate()),
                                r.enableVertexAttribArray(0),
                                r.bindBuffer(r.ARRAY_BUFFER, this.quadVertexBuffer),
                                r.vertexAttribPointer(0, 2, r.FLOAT, !1, 0, 0),
                                r.enable(r.DEPTH_TEST);
                            for (P = 0; P < z.balloons.length; ++P) {
                                j = z.balloons[P];
                                r.uniformMatrix4fv(
                                    B.uniformLocations.u_modelMatrix,
                                    !1,
                                    j.getModelMatrix(7 * this.festiveParticleTransitionT, 0, 0)
                                ),
                                    r.uniform3fv(B.uniformLocations.u_bottomPoint, j.rigidMesh.bottomPoint),
                                    r.uniform3fv(B.uniformLocations.u_attachPoint, j.attachPoint),
                                    r.drawArrays(r.TRIANGLE_STRIP, 0, 4);
                            }
                            r.disable(r.DEPTH_TEST);
                        }
                        r.framebufferTexture2D(
                            r.FRAMEBUFFER,
                            r.COLOR_ATTACHMENT0,
                            r.TEXTURE_2D,
                            this.colorTextureTemp,
                            0
                        ),
                            r.framebufferRenderbuffer(r.FRAMEBUFFER, r.DEPTH_STENCIL_ATTACHMENT, r.RENDERBUFFER, null),
                            r.clear(r.COLOR_BUFFER_BIT),
                            r.viewport(0, 0, this.canvas.width, this.canvas.height),
                            r.enableVertexAttribArray(0),
                            r.bindBuffer(r.ARRAY_BUFFER, this.triangleVertexBuffer),
                            r.vertexAttribPointer(0, 2, r.FLOAT, !1, 0, 0),
                            r.useProgram(this.sssBlurProgram.program),
                            r.uniform1i(this.sssBlurProgram.uniformLocations.u_colorTexture, 0),
                            r.uniform2f(
                                this.sssBlurProgram.uniformLocations.u_resolution,
                                this.canvas.width,
                                this.canvas.height
                            ),
                            r.uniformMatrix4fv(
                                this.sssBlurProgram.uniformLocations.u_projectionMatrix,
                                !1,
                                this.projectionMatrix
                            ),
                            r.framebufferTexture2D(
                                r.FRAMEBUFFER,
                                r.COLOR_ATTACHMENT0,
                                r.TEXTURE_2D,
                                this.colorTextureTemp,
                                0
                            ),
                            r.activeTexture(r.TEXTURE0),
                            r.bindTexture(r.TEXTURE_2D, this.colorTexture),
                            r.uniform2f(this.sssBlurProgram.uniformLocations.u_direction, 1, 0),
                            r.uniform1i(this.sssBlurProgram.uniformLocations.u_gammaCorrect, 0),
                            r.drawArrays(r.TRIANGLES, 0, 3),
                            r.framebufferTexture2D(
                                r.FRAMEBUFFER,
                                r.COLOR_ATTACHMENT0,
                                r.TEXTURE_2D,
                                this.colorTexture,
                                0
                            ),
                            r.activeTexture(r.TEXTURE0),
                            r.bindTexture(r.TEXTURE_2D, this.colorTextureTemp),
                            r.uniform2f(this.sssBlurProgram.uniformLocations.u_direction, 0, 1),
                            r.uniform1i(this.sssBlurProgram.uniformLocations.u_gammaCorrect, 1),
                            r.uniform1f(this.sssBlurProgram.uniformLocations.u_gamma, 2.2),
                            r.drawArrays(r.TRIANGLES, 0, 3),
                            r.framebufferTexture2D(
                                r.FRAMEBUFFER,
                                r.COLOR_ATTACHMENT0,
                                r.TEXTURE_2D,
                                this.colorTexture,
                                0
                            ),
                            r.framebufferRenderbuffer(
                                r.FRAMEBUFFER,
                                r.DEPTH_STENCIL_ATTACHMENT,
                                r.RENDERBUFFER,
                                this.renderbuffer
                            ),
                            r.viewport(0, 0, this.canvas.width, this.canvas.height),
                            r.enable(r.SCISSOR_TEST),
                            r.scissor(
                                0,
                                this.paddingHeight,
                                this.canvas.width,
                                this.canvas.height - 2 * this.paddingHeight
                            ),
                            r.enable(r.DEPTH_TEST),
                            r.depthMask(!1);
                        var F = c.premultiply(
                            new Float32Array(16),
                            this.backgroundOriginalViewMatrix,
                            this.projectionMatrix
                        );
                        i ? this.backgroundIntensity.change(1, 2.5) : this.backgroundIntensity.change(0, 1);
                        var L =
                            this.backgroundTransitionT.evaluate() < 1
                                ? this.backgroundBlurProgram
                                : this.backgroundProgram;
                        r.useProgram(L.program),
                            r.uniformMatrix4fv(L.uniformLocations.u_projectionMatrix, !1, this.projectionMatrix),
                            r.uniformMatrix4fv(L.uniformLocations.u_viewMatrix, !1, this.viewMatrix),
                            r.uniformMatrix4fv(L.uniformLocations.u_referenceProjectionViewMatrix, !1, F),
                            r.uniform1f(L.uniformLocations.u_time, t),
                            r.uniform1f(L.uniformLocations.u_intensity, this.backgroundIntensity.evaluate()),
                            r.uniform1f(L.uniformLocations.u_zoom, 1),
                            r.uniform2f(
                                L.uniformLocations.u_fov,
                                (this.currentVerticalFOV * this.canvas.width) / this.canvas.height,
                                this.currentVerticalFOV
                            ),
                            r.uniform1f(L.uniformLocations.u_transitionT, this.backgroundTransitionT.evaluate()),
                            r.uniform1f(
                                L.uniformLocations.u_yScale,
                                this.canvas.height / (this.canvas.height - 2 * this.paddingHeight)
                            ),
                            r.uniform2f(L.uniformLocations.u_screenResolution, this.canvas.width, this.canvas.height),
                            r.uniform2f(
                                L.uniformLocations.u_imageResolution,
                                this.backgroundTextureResolution[0],
                                this.backgroundTextureResolution[1]
                            ),
                            r.uniform1i(L.uniformLocations.u_texture, 0),
                            r.activeTexture(r.TEXTURE0),
                            r.bindTexture(r.TEXTURE_2D, this.backgroundTexture),
                            r.uniform1i(L.uniformLocations.u_newTexture, 1),
                            r.activeTexture(r.TEXTURE1),
                            r.bindTexture(r.TEXTURE_2D, this.newBackgroundTexture),
                            r.enableVertexAttribArray(0),
                            r.bindBuffer(r.ARRAY_BUFFER, this.quadVertexBuffer),
                            r.vertexAttribPointer(0, 2, r.FLOAT, !1, 0, 0),
                            r.drawArrays(r.TRIANGLE_STRIP, 0, 4),
                            r.disable(r.DEPTH_TEST),
                            r.depthMask(!0),
                            r.disable(r.SCISSOR_TEST),
                            r.viewport(
                                0,
                                this.paddingHeight,
                                this.canvas.width,
                                this.canvas.height - 2 * this.paddingHeight
                            ),
                            r.useProgram(this.floorProgram.program),
                            r.uniform3fv(this.floorProgram.uniformLocations.u_cameraPosition, this.cameraPosition),
                            r.uniformMatrix4fv(
                                this.floorProgram.uniformLocations.u_projectionMatrix,
                                !1,
                                this.projectionMatrix
                            ),
                            r.uniformMatrix4fv(this.floorProgram.uniformLocations.u_viewMatrix, !1, this.viewMatrix),
                            r.uniform1f(this.floorProgram.uniformLocations.u_yOffset, this.floorYOffset.evaluate()),
                            r.enable(r.DEPTH_TEST),
                            r.enable(r.BLEND),
                            r.blendFunc(r.ONE, r.ONE_MINUS_SRC_ALPHA),
                            r.bindBuffer(r.ARRAY_BUFFER, this.quadVertexBuffer),
                            r.vertexAttribPointer(0, 2, r.FLOAT, !1, 0, 0),
                            r.drawArrays(r.TRIANGLE_STRIP, 0, 4),
                            r.disable(r.BLEND),
                            r.disable(r.SCISSOR_TEST),
                            r.enable(r.DEPTH_TEST),
                            r.framebufferTexture2D(
                                r.FRAMEBUFFER,
                                r.COLOR_ATTACHMENT0,
                                r.TEXTURE_2D,
                                this.colorTexture,
                                0
                            ),
                            r.framebufferRenderbuffer(
                                r.FRAMEBUFFER,
                                r.DEPTH_STENCIL_ATTACHMENT,
                                r.RENDERBUFFER,
                                this.renderbuffer
                            ),
                            r.depthMask(!1),
                            this.festiveParticleSpawnRate > 0
                                ? this.dustScale.change(0, 5)
                                : this.dustScale.change(1, 2);
                        var D = c.premultiply(new Float32Array(16), this.viewMatrix, this.projectionMatrix);
                        if (
                            (this.dust.update(n, 10, D),
                            r.useProgram(this.dustProgram.program),
                            r.uniform3fv(this.dustProgram.uniformLocations.u_cameraPosition, this.cameraPosition),
                            r.uniformMatrix4fv(
                                this.dustProgram.uniformLocations.u_projectionMatrix,
                                !1,
                                this.projectionMatrix
                            ),
                            r.uniformMatrix4fv(this.dustProgram.uniformLocations.u_viewMatrix, !1, this.viewMatrix),
                            r.uniform1f(this.dustProgram.uniformLocations.u_scale, this.dustScale.evaluate()),
                            r.uniform1f(this.dustProgram.uniformLocations.u_time, t),
                            r.enableVertexAttribArray(0),
                            r.enableVertexAttribArray(1),
                            r.enableVertexAttribArray(2),
                            r.enableVertexAttribArray(3),
                            r.enableVertexAttribArray(4),
                            r.enable(r.DEPTH_TEST),
                            r.enable(r.BLEND),
                            r.blendFunc(r.ONE, r.ONE_MINUS_SRC_ALPHA),
                            r.bindBuffer(r.ARRAY_BUFFER, this.dust.offsetBuffer),
                            r.vertexAttribPointer(0, 2, r.FLOAT, !1, 0, 0),
                            r.bindBuffer(r.ARRAY_BUFFER, this.dust.randomBuffer),
                            r.vertexAttribPointer(1, 4, r.FLOAT, !1, 0, 0),
                            r.bindBuffer(r.ARRAY_BUFFER, this.dust.spawnTimeBuffer),
                            r.vertexAttribPointer(2, 1, r.FLOAT, !1, 0, 0),
                            r.bindBuffer(r.ARRAY_BUFFER, this.dust.spawnPositionBuffer),
                            r.vertexAttribPointer(3, 3, r.FLOAT, !1, 0, 0),
                            r.bindBuffer(r.ARRAY_BUFFER, this.dust.spawnVelocityBuffer),
                            r.vertexAttribPointer(4, 3, r.FLOAT, !1, 0, 0),
                            r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, this.dust.indexBuffer),
                            r.drawElements(r.TRIANGLES, 6 * this.dust.particleCount, r.UNSIGNED_SHORT, 0),
                            r.disableVertexAttribArray(1),
                            r.disableVertexAttribArray(2),
                            r.disableVertexAttribArray(3),
                            r.disableVertexAttribArray(4),
                            r.disable(r.DEPTH_TEST),
                            r.depthMask(!0),
                            r.disable(r.BLEND),
                            this.festiveScene.kind === y.Christmas)
                        ) {
                            if (this.festiveParticleTransitionT > -1 && this.festiveParticleTransitionT < 1) {
                                this.festiveScene.snow.update(n, this.festiveParticleSpawnRate, D);
                                var O = this.festiveScene.snowProgram,
                                    I = this.festiveScene.snow;
                                r.depthMask(!1),
                                    r.useProgram(O.program),
                                    r.uniform3fv(O.uniformLocations.u_cameraPosition, this.cameraPosition),
                                    r.uniformMatrix4fv(
                                        O.uniformLocations.u_projectionMatrix,
                                        !1,
                                        this.projectionMatrix
                                    ),
                                    r.uniformMatrix4fv(O.uniformLocations.u_viewMatrix, !1, this.viewMatrix),
                                    r.uniform1f(O.uniformLocations.u_time, this.festiveScene.snow.time),
                                    r.uniform1f(O.uniformLocations.u_transitionT, this.festiveParticleTransitionT),
                                    r.uniform1f(O.uniformLocations.u_offset, this.festiveParticleOffset),
                                    r.enableVertexAttribArray(0),
                                    r.enableVertexAttribArray(1),
                                    r.enableVertexAttribArray(2),
                                    r.enableVertexAttribArray(3),
                                    r.enable(r.DEPTH_TEST),
                                    r.enable(r.BLEND),
                                    r.blendFunc(r.ONE, r.ONE_MINUS_SRC_ALPHA),
                                    r.bindBuffer(r.ARRAY_BUFFER, I.offsetBuffer),
                                    r.vertexAttribPointer(0, 2, r.FLOAT, !1, 0, 0),
                                    r.bindBuffer(r.ARRAY_BUFFER, I.randomBuffer),
                                    r.vertexAttribPointer(1, 4, r.FLOAT, !1, 0, 0),
                                    r.bindBuffer(r.ARRAY_BUFFER, I.spawnTimeBuffer),
                                    r.vertexAttribPointer(2, 1, r.FLOAT, !1, 0, 0),
                                    r.bindBuffer(r.ARRAY_BUFFER, I.spawnPositionBuffer),
                                    r.vertexAttribPointer(3, 3, r.FLOAT, !1, 0, 0),
                                    r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, I.indexBuffer),
                                    I.spawnedParticleCount > 0 &&
                                        r.drawElements(
                                            r.TRIANGLES,
                                            6 * Math.min(I.spawnedParticleCount, I.particleCount),
                                            r.UNSIGNED_SHORT,
                                            0
                                        ),
                                    r.disableVertexAttribArray(1),
                                    r.disableVertexAttribArray(2),
                                    r.disableVertexAttribArray(3),
                                    r.disable(r.DEPTH_TEST),
                                    r.depthMask(!0),
                                    r.disable(r.BLEND);
                            }
                        } else if (
                            this.festiveScene.kind === y.NewYears &&
                            this.festiveParticleTransitionT > -1 &&
                            this.festiveParticleTransitionT < 1
                        ) {
                            var N = this.festiveScene.confettiProgram,
                                G = this.festiveScene.confetti;
                            G.update(n, this.festiveParticleSpawnRate, D),
                                this.festiveScene.balloons.step(7 * this.balloonsYOffset),
                                r.depthMask(!1),
                                r.useProgram(N.program),
                                r.uniform3fv(N.uniformLocations.u_cameraPosition, this.cameraPosition),
                                r.uniformMatrix4fv(N.uniformLocations.u_projectionMatrix, !1, this.projectionMatrix),
                                r.uniformMatrix4fv(N.uniformLocations.u_viewMatrix, !1, this.viewMatrix),
                                r.uniform1f(N.uniformLocations.u_time, G.time),
                                r.uniform1f(N.uniformLocations.u_transitionT, this.festiveParticleTransitionT),
                                r.uniform1f(N.uniformLocations.u_offset, this.festiveParticleOffset),
                                r.enableVertexAttribArray(0),
                                r.enableVertexAttribArray(1),
                                r.enableVertexAttribArray(2),
                                r.enableVertexAttribArray(3),
                                r.enableVertexAttribArray(4),
                                r.enable(r.DEPTH_TEST),
                                r.enable(r.BLEND),
                                r.blendFunc(r.ONE, r.ONE_MINUS_SRC_ALPHA),
                                r.bindBuffer(r.ARRAY_BUFFER, G.offsetBuffer),
                                r.vertexAttribPointer(0, 2, r.FLOAT, !1, 0, 0),
                                r.bindBuffer(r.ARRAY_BUFFER, G.randomBuffer),
                                r.vertexAttribPointer(1, 4, r.FLOAT, !1, 0, 0),
                                r.bindBuffer(r.ARRAY_BUFFER, G.spawnTimeBuffer),
                                r.vertexAttribPointer(2, 1, r.FLOAT, !1, 0, 0),
                                r.bindBuffer(r.ARRAY_BUFFER, G.spawnPositionBuffer),
                                r.vertexAttribPointer(3, 3, r.FLOAT, !1, 0, 0),
                                r.bindBuffer(r.ARRAY_BUFFER, G.rotationBuffer),
                                r.vertexAttribPointer(4, 4, r.FLOAT, !1, 0, 0),
                                r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, G.indexBuffer),
                                G.spawnedParticleCount > 0 &&
                                    r.drawElements(
                                        r.TRIANGLES,
                                        6 * Math.min(G.spawnedParticleCount, G.particleCount),
                                        r.UNSIGNED_SHORT,
                                        0
                                    ),
                                r.disableVertexAttribArray(1),
                                r.disableVertexAttribArray(2),
                                r.disableVertexAttribArray(3),
                                r.disableVertexAttribArray(4),
                                r.disable(r.DEPTH_TEST),
                                r.depthMask(!0),
                                r.disable(r.BLEND);
                            var H = this.festiveScene.poppedConfettiProgram;
                            for (P = this.festiveScene.poppers.length - 1; P >= 0; --P)
                                t - this.festiveScene.poppers[P].spawnTime > 20 &&
                                    (this.festiveScene.poppers[P].destroy(), this.festiveScene.poppers.splice(P, 1));
                            r.depthMask(!1),
                                r.enable(r.DEPTH_TEST),
                                r.enable(r.BLEND),
                                r.blendFunc(r.ONE, r.ONE_MINUS_SRC_ALPHA),
                                r.useProgram(H.program),
                                r.uniform3fv(H.uniformLocations.u_cameraPosition, this.cameraPosition),
                                r.uniformMatrix4fv(H.uniformLocations.u_projectionMatrix, !1, this.projectionMatrix),
                                r.uniformMatrix4fv(H.uniformLocations.u_viewMatrix, !1, this.viewMatrix),
                                r.uniform1f(H.uniformLocations.u_time, t),
                                r.uniform1f(H.uniformLocations.u_transitionT, this.festiveParticleTransitionT),
                                r.uniform1f(H.uniformLocations.u_offset, this.festiveParticleOffset),
                                r.enableVertexAttribArray(0),
                                r.enableVertexAttribArray(1),
                                r.enableVertexAttribArray(2),
                                r.enableVertexAttribArray(3);
                            for (var U = 0, V = this.festiveScene.poppers; U < V.length; U++) {
                                var Y = V[U];
                                r.uniform3fv(H.uniformLocations.u_spawnPosition, Y.spawnPosition),
                                    r.uniform1f(H.uniformLocations.u_spawnTime, Y.spawnTime),
                                    r.bindBuffer(r.ARRAY_BUFFER, Y.offsetBuffer),
                                    r.vertexAttribPointer(0, 2, r.FLOAT, !1, 0, 0),
                                    r.bindBuffer(r.ARRAY_BUFFER, Y.spawnVelocityBuffer),
                                    r.vertexAttribPointer(1, 3, r.FLOAT, !1, 0, 0),
                                    r.bindBuffer(r.ARRAY_BUFFER, Y.randomBuffer),
                                    r.vertexAttribPointer(2, 4, r.FLOAT, !1, 0, 0),
                                    r.bindBuffer(r.ARRAY_BUFFER, Y.rotationBuffer),
                                    r.vertexAttribPointer(3, 4, r.FLOAT, !1, 0, 0),
                                    r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, Y.indexBuffer),
                                    r.drawElements(r.TRIANGLES, 6 * Y.particleCount, r.UNSIGNED_SHORT, 0);
                            }
                            r.disableVertexAttribArray(1),
                                r.disableVertexAttribArray(2),
                                r.disableVertexAttribArray(3),
                                r.disable(r.DEPTH_TEST),
                                r.depthMask(!0),
                                r.disable(r.BLEND);
                        }
                        r.bindFramebuffer(r.FRAMEBUFFER, null),
                            r.viewport(0, 0, this.canvas.width, this.canvas.height),
                            r.useProgram(this.fxaaProgram.program),
                            r.enableVertexAttribArray(0),
                            r.bindBuffer(r.ARRAY_BUFFER, this.triangleVertexBuffer),
                            r.vertexAttribPointer(0, 2, r.FLOAT, !1, 0, 0),
                            r.uniform1i(this.fxaaProgram.uniformLocations.u_input, 0),
                            r.activeTexture(r.TEXTURE0),
                            r.bindTexture(r.TEXTURE_2D, this.colorTexture),
                            r.uniform2f(
                                this.fxaaProgram.uniformLocations.u_resolution,
                                this.canvas.width,
                                this.canvas.height
                            ),
                            r.uniform1f(this.fxaaProgram.uniformLocations.u_time, t),
                            r.drawArrays(r.TRIANGLES, 0, 3),
                            r.useProgram(this.uiProgram.program),
                            r.uniformMatrix4fv(
                                this.uiProgram.uniformLocations.u_projectionMatrix,
                                !1,
                                this.projectionMatrix
                            ),
                            r.uniformMatrix4fv(this.uiProgram.uniformLocations.u_viewMatrix, !1, this.viewMatrix),
                            r.enableVertexAttribArray(0),
                            r.enableVertexAttribArray(1),
                            r.disable(r.DEPTH_TEST),
                            r.enable(r.BLEND),
                            r.blendFunc(r.SRC_ALPHA, r.ONE_MINUS_SRC_ALPHA);
                        for (var q = 0, W = e; q < W.length; q++) {
                            var J;
                            if ((J = W[q]).state !== E.Offscreen)
                                for (var K = 0, X = [J.pitchUI, J.vowelUI]; K < X.length; K++) {
                                    var Z = X[K];
                                    0 !== Z.alpha.evaluate() &&
                                        (r.uniform1f(
                                            this.uiProgram.uniformLocations.u_alpha,
                                            Z.alpha.evaluate() * Z.overrideAlpha.evaluate()
                                        ),
                                        r.uniformMatrix4fv(
                                            this.uiProgram.uniformLocations.u_modelMatrix,
                                            !1,
                                            Z.getModelMatrix()
                                        ),
                                        r.bindBuffer(r.ARRAY_BUFFER, Z.lines.positionsBuffer),
                                        r.vertexAttribPointer(0, 3, r.FLOAT, !1, 0, 0),
                                        r.bindBuffer(r.ARRAY_BUFFER, Z.lines.colorsBuffer),
                                        r.vertexAttribPointer(1, 4, r.FLOAT, !1, 0, 0),
                                        r.drawArrays(r.LINES, 0, Z.lines.vertexCount),
                                        r.bindBuffer(r.ARRAY_BUFFER, Z.triangles.positionsBuffer),
                                        r.vertexAttribPointer(0, 3, r.FLOAT, !1, 0, 0),
                                        r.bindBuffer(r.ARRAY_BUFFER, Z.triangles.colorsBuffer),
                                        r.vertexAttribPointer(1, 4, r.FLOAT, !1, 0, 0),
                                        r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, Z.triangles.indexBuffer),
                                        r.drawArrays(r.TRIANGLES, 0, Z.triangles.vertexCount));
                                }
                        }
                        r.disableVertexAttribArray(1), r.disable(r.BLEND);
                        var Q = Object(d.w)(this.startTime, this.startTime + 1, Date.now() / 1e3);
                        Q < 1 &&
                            (r.disable(r.DEPTH_TEST),
                            r.enable(r.BLEND),
                            r.blendFunc(r.SRC_ALPHA, r.ONE_MINUS_SRC_ALPHA),
                            r.useProgram(this.colorProgram.program),
                            r.uniform4f(this.colorProgram.uniformLocations.u_color, 0, 0, 0, 1 - Q),
                            r.enableVertexAttribArray(0),
                            r.bindBuffer(r.ARRAY_BUFFER, this.triangleVertexBuffer),
                            r.vertexAttribPointer(0, 2, r.FLOAT, !1, 0, 0),
                            r.disable(r.BLEND));
                    }),
                    (e.prototype.getGl = function () {
                        return this.gl;
                    }),
                    (e.prototype.generateBackgroundTexture = function (e, t) {
                        var n = this.gl,
                            i = s(n, 0, e, n.CLAMP_TO_EDGE, n.CLAMP_TO_EDGE, n.LINEAR, n.LINEAR, !0),
                            o = s(n, 0, t, n.CLAMP_TO_EDGE, n.CLAMP_TO_EDGE, n.LINEAR, n.LINEAR, !0),
                            r = a(
                                n,
                                0,
                                n.RGBA,
                                n.UNSIGNED_BYTE,
                                e.width,
                                e.height,
                                null,
                                n.CLAMP_TO_EDGE,
                                n.CLAMP_TO_EDGE,
                                n.LINEAR,
                                n.LINEAR
                            );
                        return (
                            (this.backgroundTextureResolution = [e.width, e.height]),
                            n.bindFramebuffer(n.FRAMEBUFFER, this.framebuffer),
                            n.framebufferTexture2D(n.FRAMEBUFFER, n.COLOR_ATTACHMENT0, n.TEXTURE_2D, r, 0),
                            n.framebufferRenderbuffer(n.FRAMEBUFFER, n.DEPTH_STENCIL_ATTACHMENT, n.RENDERBUFFER, null),
                            n.viewport(0, 0, e.width, e.height),
                            n.useProgram(this.compositeBackgroundProgram.program),
                            n.uniform1i(this.compositeBackgroundProgram.uniformLocations.u_backgroundTexture, 0),
                            n.activeTexture(n.TEXTURE0),
                            n.bindTexture(n.TEXTURE_2D, i),
                            n.uniform1i(this.compositeBackgroundProgram.uniformLocations.u_maskTexture, 1),
                            n.activeTexture(n.TEXTURE1),
                            n.bindTexture(n.TEXTURE_2D, o),
                            n.enableVertexAttribArray(0),
                            n.bindBuffer(n.ARRAY_BUFFER, this.quadVertexBuffer),
                            n.vertexAttribPointer(0, 2, n.FLOAT, !1, 0, 0),
                            n.drawArrays(n.TRIANGLE_STRIP, 0, 4),
                            n.deleteTexture(i),
                            n.deleteTexture(o),
                            r
                        );
                    }),
                    (e.prototype.popConfetti = function () {
                        if (this.festiveScene.kind === y.NewYears) {
                            var e = H({ a: 0, b: 0, c: 0, d: 0 }, this.projectionViewMatrix),
                                t = U({ a: 0, b: 0, c: 0, d: 0 }, this.projectionViewMatrix),
                                n = (-e.d - 1 * e.b - 3 * e.c) / e.a,
                                i = (-t.d - 1 * t.b - 3 * t.c) / t.a;
                            this.festiveScene.poppers.push(
                                new ae(
                                    this.gl,
                                    new Float32Array([n, 1, 3]),
                                    h.a.normalize([], [-1, 2, 0]),
                                    this.lastTime
                                )
                            ),
                                this.festiveScene.poppers.push(
                                    new ae(
                                        this.gl,
                                        new Float32Array([i, 1, 3]),
                                        h.a.normalize([], [1, 2, 0]),
                                        this.lastTime
                                    )
                                );
                        }
                    }),
                    e
                );
            })(),
            be = n(11),
            ve = n(9),
            ye = n(36);
        var xe = (function () {
                function e(e) {
                    (this.chunks = []), (this.currentChunkIndex = 0);
                    var t = ye.RecordedLibrettos.decode(e);
                    !(function (e) {
                        var t, n, i;
                        for (i = e.length - 1; i > 0; i--)
                            (t = Math.floor(Math.random() * (i + 1))), (n = e[i]), (e[i] = e[t]), (e[t] = n);
                    })(t.librettos);
                    for (var n = [], i = 0, o = t.librettos; i < o.length; i++)
                        for (var a = 0, r = o[i].notes; a < r.length; a++) {
                            var s = r[a];
                            if (s.name !== ye.RecordedLibrettos.Phoneme.sil) {
                                var l = s.endTimeSeconds - s.startTimeSeconds;
                                n.push({ name: s.name, duration: l });
                            }
                        }
                    for (var u = 0; u < n.length - 1; ++u)
                        Object(d.n)(n[u].name) && !Object(d.n)(n[u + 1].name) && (n[u].duration = 0.2),
                            Object(d.n)(n[u].name) && Object(d.n)(n[u + 1].name) && (n[u].duration = 0.05);
                    for (var c = 0; !Object(d.n)(n[c].name) || Object(d.n)(n[c + 1].name); ) c++;
                    var h = n[c],
                        p = [];
                    do {
                        (c += 1),
                            Object(d.n)(n[c].name) && !Object(d.n)(n[c + 1].name)
                                ? (this.chunks.push({ vowel: h, suffix: p }), (h = n[c]), (p = []))
                                : Object(d.n)(n[c].name) || p.push(n[c]);
                    } while (c < n.length - 2);
                }
                return (
                    (e.prototype.getNextChunk = function (e) {
                        this.currentChunkIndex += 1;
                        var t = this.chunks[this.currentChunkIndex];
                        return (t.vowel.name = e), t;
                    }),
                    e
                );
            })(),
            ke = (function () {
                function e(e, t, n) {
                    (this.frames = []),
                        (this.secondsInCurrentFrame = 0),
                        (this.onFrameUsed = null),
                        (this.clock = e),
                        (this.timestepSeconds = t),
                        (this.delaySeconds = n);
                }
                return (
                    (e.prototype.update = function () {
                        if (this.frames.length >= 2)
                            for (
                                this.secondsInCurrentFrame += this.clock.getDeltaTimeS();
                                this.secondsInCurrentFrame >= this.timestepSeconds && this.frames.length >= 2;

                            )
                                this.onFrameUsed && this.onFrameUsed(this.frames[0].buffer),
                                    this.frames.splice(0, 1),
                                    (this.secondsInCurrentFrame -= this.timestepSeconds);
                        else this.secondsInCurrentFrame = this.timestepSeconds - this.delaySeconds;
                    }),
                    (e.prototype.addFrame = function (e) {
                        this.frames.push(e);
                    }),
                    (e.prototype.getCurrentFrame = function () {
                        return this.frames.length > 0 ? this.frames[0] : null;
                    }),
                    e
                );
            })(),
            _e = (function () {
                function e(e) {
                    (this.fromValue = []), (this.targetValue = []);
                    for (var t = 0; t < e.length; ++t) (this.fromValue[t] = e[t]), (this.targetValue[t] = e[t]);
                    (this.tweenDuration = 1), (this.tweenStartTime = -99999);
                }
                return (
                    (e.prototype.change = function (e, t) {
                        if (!Object(d.a)(this.targetValue, e)) {
                            this.evaluate(this.fromValue);
                            for (var n = 0; n < this.targetValue.length; ++n) this.targetValue[n] = e[n];
                            (this.tweenDuration = 1e3 * t), (this.tweenStartTime = Date.now());
                        }
                    }),
                    (e.prototype.evaluate = function (e) {
                        if (0 === this.tweenDuration) return this.targetValue;
                        for (
                            var t = Object(d.w)(
                                    this.tweenStartTime,
                                    this.tweenStartTime + this.tweenDuration,
                                    Date.now()
                                ),
                                n = 0;
                            n < this.fromValue.length;
                            ++n
                        )
                            e[n] = Object(d.q)(this.fromValue[n], this.targetValue[n], t);
                        return e;
                    }),
                    e
                );
            })(),
            we = (function () {
                function e() {
                    (this.timeMs = 0), (this.deltaTimeMs = 0);
                }
                return (
                    (e.prototype.tick = function (e) {
                        (this.deltaTimeMs = e), (this.timeMs += e);
                    }),
                    (e.prototype.getTimeMs = function () {
                        return this.timeMs;
                    }),
                    (e.prototype.getTimeS = function () {
                        return this.timeMs / 1e3;
                    }),
                    (e.prototype.getDeltaTimeMs = function () {
                        return this.deltaTimeMs;
                    }),
                    (e.prototype.getDeltaTimeS = function () {
                        return this.deltaTimeMs / 1e3;
                    }),
                    e
                );
            })(),
            Pe =
                '<svg width="100%" height="100%" viewBox="-10 -10 70 70" xmlns="http://www.w3.org/2000/svg"> <mask id="silence-line-$MASK" width="200%"> <rect x="-10" y="-10" width="160" height="100" fill="white"></rect> <use class="silence-line" xlink:href="#silence-line" stroke="black" stroke-width="6"></use> </mask> <use class="silence-line" xlink:href="#silence-line" stroke="white" stroke-width="4"></use> <use mask="url(#silence-line-$MASK)" xlink:href="#silence-icon"></use> </svg>';
        function Se(e, t) {
            return ((e % t) + t) % t;
        }
        var Ae = (function () {
                function e() {
                    this.gradients = [];
                    for (var e = 0; e < 1024; ++e) this.gradients.push(16 * Math.random() - 8);
                }
                return (
                    (e.prototype.evaluate = function (e) {
                        var t = Math.floor(e),
                            n = t + 1,
                            i = this.gradients[Se(t, this.gradients.length)],
                            o = this.gradients[Se(n, this.gradients.length)],
                            a = e % 1;
                        return 0.188 * Object(d.q)(i * a, o * (a - 1), Object(d.v)(0, 1, a));
                    }),
                    e
                );
            })(),
            Te = [0, 1, 0];
        function Ee(e, t) {
            for (var n = e._malloc(t.length), i = e.HEAPU8.subarray(n, n + t.length), o = 0; o < t.length; ++o)
                i[o] = t[o];
            return n;
        }
        var Me,
            Re,
            ze,
            Ce = function (e, t, n) {
                (this.module = t),
                    (this.pointer = n),
                    (this.vertexCount = this.module._rigidMeshGetVertexCount(this.pointer)),
                    (this.indexCount = this.module._rigidMeshGetIndexCount(this.pointer));
                var i = this.module.HEAPU16.subarray(
                    this.module._rigidMeshGetIndices(this.pointer) >> 1,
                    (this.module._rigidMeshGetIndices(this.pointer) >> 1) + this.indexCount
                );
                this.indexBuffer = u(e, e.ELEMENT_ARRAY_BUFFER, i, e.STATIC_DRAW);
                var o = this.module.HEAPF32.subarray(
                    this.module._rigidMeshGetPositions(this.pointer) >> 2,
                    (this.module._rigidMeshGetPositions(this.pointer) >> 2) + 3 * this.vertexCount
                );
                this.positionsBuffer = u(e, e.ARRAY_BUFFER, o, e.STATIC_DRAW);
                var a = this.module.HEAPF32.subarray(
                    this.module._rigidMeshGetNormals(this.pointer) >> 2,
                    (this.module._rigidMeshGetNormals(this.pointer) >> 2) + 3 * this.vertexCount
                );
                this.normalsBuffer = u(e, e.ARRAY_BUFFER, a, e.STATIC_DRAW);
                var r = this.module.HEAPF32.subarray(
                    this.module._rigidMeshGetTangents(this.pointer) >> 2,
                    (this.module._rigidMeshGetTangents(this.pointer) >> 2) + 3 * this.vertexCount
                );
                this.tangentsBuffer = u(e, e.ARRAY_BUFFER, r, e.STATIC_DRAW);
                var s = this.module.HEAPF32.subarray(
                    this.module._rigidMeshGetUVs(this.pointer) >> 2,
                    (this.module._rigidMeshGetUVs(this.pointer) >> 2) + 2 * this.vertexCount
                );
                (this.uvsBuffer = u(e, e.ARRAY_BUFFER, s, e.STATIC_DRAW)),
                    (this.bottomPoint = this.module.HEAPF32.subarray(
                        this.module._rigidMeshGetBottomPoint(this.pointer) >> 2,
                        3 + (this.module._rigidMeshGetBottomPoint(this.pointer) >> 2)
                    ).slice(0));
            },
            Be =
                ((Me = new Float32Array(16)),
                (Re = new Float32Array(16)),
                (ze = new Float32Array(16)),
                function (e, t, n, i) {
                    c.makeScale(Me, i, i, i),
                        c.fromQuaternion(Re, n),
                        c.makeTranslation(ze, t[0], t[1], t[2]),
                        c.copy(e, Me),
                        c.premultiply(e, e, Re),
                        c.premultiply(e, e, ze);
                }),
            je = (function () {
                function e(e, t, n, i, o) {
                    (this.attachPoint = new Float32Array(3)),
                        (this.tempMatrix = new Float32Array(16)),
                        (this.baseModelMatrix = new Float32Array(16)),
                        (this.inverseBaseModelMatrix = new Float32Array(16)),
                        (this.modelMatrix = new Float32Array(16)),
                        (this.frame = 0),
                        (this.rigidMesh = e),
                        (this.uvOffset = new Float32Array([Math.random(), Math.random()])),
                        (this.position = new Float32Array([t, n, i])),
                        (this.rotation = v.a.fromAxisAngle(new Float32Array(4), Te, 0.53)),
                        (this.worldAttachPoint = new Float32Array([t, 0, i])),
                        (this.restDistance = n),
                        (this.scale = o),
                        (this.noise = new Ae());
                }
                return (
                    (e.prototype.getModelMatrix = function (e, t, n) {
                        return (
                            c.premultiply(
                                this.modelMatrix,
                                c.makeTranslation(this.tempMatrix, 0 + e, this.yOffset + t, n),
                                this.baseModelMatrix
                            ),
                            this.modelMatrix
                        );
                    }),
                    (e.prototype.update = function () {
                        v.a.fromAxisAngle(this.rotation, Te, 0.53 + 0.5 * this.noise.evaluate(0.001 * this.frame));
                        var e = 0.05 * this.noise.evaluate(0.001 * this.frame + 200),
                            t = 0.05 * this.noise.evaluate(0.001 * this.frame + 400);
                        (this.position[0] = this.worldAttachPoint[0] + Math.sin(e) * Math.cos(t) * this.restDistance),
                            (this.position[1] = this.worldAttachPoint[1] + Math.cos(e) * this.restDistance),
                            (this.position[2] =
                                this.worldAttachPoint[2] + Math.sin(e) * Math.sin(t) * this.restDistance),
                            Be(this.baseModelMatrix, this.position, this.rotation, this.scale),
                            c.invert(this.inverseBaseModelMatrix, this.baseModelMatrix),
                            c.transformPosition(this.attachPoint, this.worldAttachPoint, this.inverseBaseModelMatrix),
                            (this.frame += 1);
                    }),
                    e
                );
            })(),
            Fe = Object(d.e)(-30);
        var Le = (function () {
                function e(e, t, n) {
                    for (var i in ((this.rigidMeshes = {}),
                    (this.balloons = []),
                    (this.module = t),
                    (this.normalMap = n.normalMap),
                    (this.environmentMap = n.environmentMap),
                    n.rigidMeshData)) {
                        var o = n.rigidMeshData[i],
                            a = Ee(t, o),
                            r = this.module._createRigidMesh(a, o.length);
                        this.rigidMeshes[i] = new Ce(e, t, r);
                    }
                    for (
                        var s = (function (e) {
                                for (var t = [], n = (-2.4 * e) / 2, i = 0; i < e; ++i) {
                                    var o = n + 1.2,
                                        a = [o * Math.cos(Fe), 3, o * Math.sin(Fe) - 3];
                                    (n += 2.4), t.push(a);
                                }
                                return t;
                            })(n.year.length),
                            l = 0;
                        l < n.year.length;
                        ++l
                    ) {
                        i = n.year.charAt(l);
                        var u = s[l][0],
                            c = s[l][2];
                        this.balloons.push(new je(this.rigidMeshes[i], u, 4, c, 4));
                    }
                }
                return (
                    (e.prototype.step = function (e) {
                        for (var t = 0, n = this.balloons; t < n.length; t++) {
                            var i = n[t];
                            (i.yOffset = e), i.update();
                        }
                    }),
                    e
                );
            })(),
            De = Math.floor(20),
            Oe = -3;
        function Ie(e, t, n) {
            var i = n.getBoundingClientRect();
            (e.x = t.clientX - i.left), (e.y = t.clientY - i.top);
        }
        function Ne(e, t) {
            return Math.ceil(e.duration / t);
        }
        var Ge = (function () {
                function e() {
                    (this.buffersBySize = {}), (this.buffersCreated = 0);
                }
                return (
                    (e.prototype.getBuffersOfSize = function (e) {
                        var t = e.toFixed(0);
                        return t in this.buffersBySize || (this.buffersBySize[t] = []), this.buffersBySize[t];
                    }),
                    (e.prototype.allocateBuffers = function (e, t) {
                        for (var n = this.getBuffersOfSize(e), i = 0; i < t; ++i)
                            (this.buffersCreated += 1), n.push(new ArrayBuffer(e));
                    }),
                    (e.prototype.getBuffer = function (e) {
                        var t = this.getBuffersOfSize(e),
                            n = null;
                        return t.length > 0 ? (n = t.pop()) : ((this.buffersCreated += 1), (n = new ArrayBuffer(e))), n;
                    }),
                    (e.prototype.returnBuffer = function (e) {
                        this.getBuffersOfSize(e.byteLength).push(e);
                    }),
                    (e.prototype.returnBuffers = function (e) {
                        for (var t = 0, n = e; t < n.length; t++) {
                            var i = n[t];
                            this.returnBuffer(i);
                        }
                    }),
                    e
                );
            })(),
            He = (function () {
                function e(e) {
                    (this.sampleCount = e), (this.samples = []);
                }
                return (
                    (e.prototype.add = function (e) {
                        this.samples.length === this.sampleCount && this.samples.splice(0, 1), this.samples.push(e);
                    }),
                    (e.prototype.get = function () {
                        if (0 === this.samples.length) return 0;
                        for (var e = 0, t = 0; t < this.samples.length; ++t) e += this.samples[t];
                        return e / this.samples.length;
                    }),
                    (e.prototype.enoughSamples = function () {
                        return this.samples.length === this.sampleCount;
                    }),
                    (e.prototype.reset = function () {
                        this.samples.length = 0;
                    }),
                    e
                );
            })(),
            Ue = (function () {
                function e(e, t, n, i, o, a, r) {
                    (this.previousChunk = {
                        vowel: { name: _.b.a, duration: 0.2 },
                        suffix: [{ name: _.b.m, duration: 0.05 }],
                    }),
                        (this.currentChunk = {
                            vowel: { name: _.b.a, duration: 0.2 },
                            suffix: [{ name: _.b.m, duration: 0.05 }],
                        }),
                        (this.frameInCurrentPhoneme = 0),
                        (this.streamIndex = e),
                        (this.singerIndex = r),
                        (this.audioParameters = n),
                        (this.currentMidiNote = o),
                        (this.currentMuted = !0),
                        (this.voiceNet = t),
                        (this.bufferPool = i),
                        (this.epoch = a),
                        (this.frameInCurrentPhoneme = Ne(
                            this.currentChunk.vowel,
                            this.audioParameters.frameHopSeconds
                        ));
                }
                return (
                    (e.prototype.singNote = function (e, t, n, i, o, a, r) {
                        var s = this;
                        void 0 === a && (a = 0.2), void 0 === r && (r = !1);
                        var l = this.audioParameters.frameHopSeconds * o,
                            u = 0,
                            c = Math.round(a / l),
                            h = Ne(this.currentChunk.vowel, l) - this.frameInCurrentPhoneme - Math.ceil(c / 2),
                            p = function (a, r, p, m, f, g, b) {
                                for (var v = Ne(f, l), y = a; y < r; ++y) {
                                    var x = Object(d.q)(s.currentMidiNote, t, Object(d.o)(h, h + c, u)),
                                        k = new be.a(s.bufferPool.getBuffer(be.a.getSizeBytes()));
                                    k.setPhoneme(f.name),
                                        k.setPreviousPhoneme(m.name),
                                        k.setNextPhoneme(g.name),
                                        k.setPhonemePosition(y / (v - 1)),
                                        k.setF0(Object(d.p)(x)),
                                        k.setSingerIndex(s.singerIndex),
                                        k.setMidiNote(t),
                                        k.setMuted(p ? s.currentMuted : n),
                                        k.setVowel(p ? s.currentChunk.vowel.name : e.vowel.name),
                                        k.setControlled(i),
                                        k.setSubsteps(o),
                                        k.setSendTime(Date.now() - s.epoch + u * l * 1e3),
                                        k.setSkip(b ? 1 : 0);
                                    for (var _ = o, w = [], P = 0; P < _; ++P) {
                                        var S = Object(d.q)(
                                                s.currentMidiNote,
                                                t,
                                                Object(d.o)(h * _, (h + c) * _, u * _ + P)
                                            ),
                                            A = new ve.a(s.bufferPool.getBuffer(ve.a.getSizeBytes()));
                                        A.setPhoneme(f.name), A.setPreviousPhoneme(m.name), A.setNextPhoneme(g.name);
                                        var T = (y * _ + P) / (v * _ - 1);
                                        A.setPhonemePosition(T),
                                            A.setF0(Object(d.p)(S)),
                                            A.setSingerIndex(s.singerIndex),
                                            A.setMidiNote(t),
                                            A.setMuted(p ? s.currentMuted : n),
                                            A.setVowel(p ? s.currentChunk.vowel.name : e.vowel.name),
                                            A.setControlled(i),
                                            A.setSkip(b ? 1 : 0),
                                            w.push(A);
                                    }
                                    s.voiceNet.generate(s.streamIndex, k, w), (u += 1);
                                }
                            };
                        p(
                            this.frameInCurrentPhoneme,
                            Ne(this.currentChunk.vowel, l),
                            !0,
                            this.previousChunk.suffix[this.previousChunk.suffix.length - 1],
                            this.currentChunk.vowel,
                            this.currentChunk.suffix[0],
                            !0
                        );
                        for (var m = 0; m < this.currentChunk.suffix.length; ++m) {
                            var f = this.currentChunk.suffix[m];
                            p(
                                0,
                                Ne(f, l),
                                !1,
                                0 === m ? this.currentChunk.vowel : this.currentChunk.suffix[m - 1],
                                f,
                                m === this.currentChunk.suffix.length - 1 ? e.vowel : this.currentChunk.suffix[m + 1],
                                !1
                            );
                        }
                        var g = Ne(e.vowel, l),
                            b = Math.floor(g * (e.vowel.name === _.b.sil ? 0.9 : 0.3));
                        p(
                            0,
                            b,
                            !1,
                            this.currentChunk.suffix[this.currentChunk.suffix.length - 1],
                            e.vowel,
                            e.suffix[0],
                            !1
                        ),
                            (this.frameInCurrentPhoneme = b),
                            (this.previousChunk = this.currentChunk),
                            (this.currentChunk = e),
                            (this.currentMidiNote = t),
                            (this.currentMuted = n);
                    }),
                    e
                );
            })(),
            Ve = [
                [60, 88],
                [60, 83],
                [45, 72],
                [36, 66],
            ];
        function Ye(e, t) {
            for (var n = 0; n < 4; ++n) if (!(t < Ve[n][0] || t > Ve[n][1]) && t > e[n]) return n;
            return t >= Ve[3][0] && t <= Ve[3][1] ? 3 : -1;
        }
        var qe = [
            _.b.n,
            _.b.r,
            _.b.l,
            _.b.t,
            _.b.s,
            _.b.d,
            _.b.m,
            _.b.p,
            _.b.v,
            _.b.c,
            _.b.ch,
            _.b.f,
            _.b.j,
            _.b.b,
            _.b.qu,
            _.b.h,
            _.b.g,
        ];
        function We() {
            return qe[Math.floor(Math.random() * qe.length)];
        }
        var Je = [_.b.u, _.b.o, _.b.i, _.b.e, _.b.a];
        function Ke(e) {
            var t = Math.floor(e / 20);
            return Je[Object(d.b)(t, 0, Je.length - 1)];
        }
        var Xe = (function () {
                function e(e, t) {
                    (this.lastActiveNotes = []),
                        (this.activeNotes = []),
                        (this.singingNotes = [
                            { pitch: 0, vowel: _.b.a },
                            { pitch: 0, vowel: _.b.a },
                            { pitch: 0, vowel: _.b.a },
                            { pitch: 0, vowel: _.b.a },
                        ]),
                        (this.singers = e),
                        (this.opera = t);
                }
                return (
                    (e.prototype.onNote = function (e) {
                        var t = this,
                            n = e.pitch,
                            i = e.velocity;
                        i > 0
                            ? this.activeNotes.push({ pitch: n, vowel: Ke(i) })
                            : 0 === i &&
                              (this.activeNotes = this.activeNotes.filter(function (e) {
                                  return e.pitch !== n;
                              })),
                            (this.activeNotes = this.activeNotes.sort(function (e, t) {
                                return t.pitch - e.pitch;
                            })),
                            window.clearTimeout(this.timeout),
                            (this.timeout = window.setTimeout(function () {
                                for (
                                    var e = [],
                                        n = [],
                                        i = function (n) {
                                            t.activeNotes.find(function (e) {
                                                return e.pitch === t.lastActiveNotes[n].pitch;
                                            }) || e.push(t.lastActiveNotes[n]);
                                        },
                                        o = 0;
                                    o < t.lastActiveNotes.length;
                                    ++o
                                )
                                    i(o);
                                var a = function (e) {
                                    t.lastActiveNotes.find(function (n) {
                                        return n.pitch === t.activeNotes[e].pitch;
                                    }) || n.push(t.activeNotes[e]);
                                };
                                for (o = 0; o < t.activeNotes.length; ++o) a(o);
                                for (
                                    var r = t.singingNotes.map(function (e) {
                                            return { pitch: e.pitch, vowel: e.vowel };
                                        }),
                                        s = 0,
                                        l = e;
                                    s < l.length;
                                    s++
                                ) {
                                    var u = l[s];
                                    for (o = 0; o < 4; ++o)
                                        if (r[o].pitch === u.pitch) {
                                            r[o].pitch = 0;
                                            break;
                                        }
                                }
                                for (var c = 0, h = n; c < h.length; c++) {
                                    u = h[c];
                                    var d = Ye(
                                        r.map(function (e) {
                                            return e.pitch;
                                        }),
                                        u.pitch
                                    );
                                    d > -1 && (r[d] = u);
                                }
                                var p = t.opera.clock.getTimeMs();
                                for (o = 0; o < 4; ++o)
                                    if (r[o].pitch !== t.singingNotes[o].pitch)
                                        if (0 === r[o].pitch) {
                                            var m = {
                                                vowel: { name: _.b.sil, duration: 0 },
                                                suffix: [{ name: We(), duration: 0.05 }],
                                            };
                                            t.singers[o].singNote(m, t.singingNotes[o].pitch, !0, !1, 1, 0.1, !0),
                                                t.opera.addNoteToRecording(o, p, t.singingNotes[o].pitch, m, !1);
                                        } else {
                                            m = {
                                                vowel: { name: r[o].vowel, duration: 0.1 },
                                                suffix: [{ name: We(), duration: 0.05 }],
                                            };
                                            t.singers[o].singNote(m, r[o].pitch, !1, !1, 1, 0.1, !0),
                                                t.opera.addNoteToRecording(o, p, r[o].pitch, m, !1);
                                        }
                                (t.singingNotes = r), (t.lastActiveNotes = t.activeNotes.slice(0));
                            }, 50));
                    }),
                    e
                );
            })(),
            Ze = (function () {
                function e(e) {
                    (this.desiredNote = null), (this.singingNote = { pitch: 0, vowel: _.b.a }), (this.singer = e);
                }
                return (
                    (e.prototype.onNote = function (e) {
                        var t = e.pitch,
                            n = e.velocity;
                        if (
                            (n > 0
                                ? (this.desiredNote = { pitch: t, vowel: Ke(n) })
                                : 0 === n &&
                                  this.desiredNote &&
                                  this.desiredNote.pitch === t &&
                                  (this.desiredNote = { pitch: 0, vowel: _.b.a }),
                            this.desiredNote.pitch !== this.singingNote.pitch)
                        )
                            if (0 === this.desiredNote.pitch) {
                                var i = {
                                    vowel: { name: _.b.sil, duration: 0 },
                                    suffix: [{ name: We(), duration: 0.05 }],
                                };
                                this.singer.singNote(i, this.singingNote.pitch, !0, !1, 1, 0.1, !0);
                            } else {
                                i = {
                                    vowel: { name: this.desiredNote.vowel, duration: 0.1 },
                                    suffix: [{ name: We(), duration: 0.05 }],
                                };
                                this.singer.singNote(i, this.desiredNote.pitch, !1, !1, 1, 0.1, !0);
                            }
                        this.singingNote = this.desiredNote;
                    }),
                    e
                );
            })();
        !(function () {
            function e(e) {
                this.channelControllers = [];
                for (var t = 0; t < e.length; ++t) this.channelControllers.push(new Ze(e[t]));
            }
            e.prototype.onNote = function (e) {
                e.channel < this.channelControllers.length && this.channelControllers[e.channel].onNote(e);
            };
        })();
        !(function () {
            function e(e) {
                this.channelControllers = [];
                for (var t = 0; t < e.length; ++t) this.channelControllers.push(new Ze(e[t]));
            }
            e.prototype.onNote = function (e) {
                if (0 === e.velocity)
                    for (var t = 0, n = this.channelControllers; t < n.length; t++) {
                        var i = n[t];
                        i.singingNote.pitch === e.pitch && i.onNote(e);
                    }
                else {
                    for (
                        var o = (c = e.pitch) >= 72 ? 0 : c >= 60 ? 1 : c >= 48 ? 2 : 3,
                            a = this.channelControllers.filter(function (e) {
                                return o === e.singer.audioParameters.singers[e.singer.singerIndex].voiceType;
                            }),
                            r = !1,
                            s = 0,
                            l = a;
                        s < l.length;
                        s++
                    ) {
                        var u = l[s];
                        if (0 === u.singingNote.pitch) {
                            u.onNote(e), (r = !0);
                            break;
                        }
                    }
                    r || a[0].onNote(e);
                }
                var c;
            };
        })();
        var Qe,
            $e = (function () {
                function e(e) {
                    var t = this;
                    this.mapper = e;
                    try {
                        navigator.requestMIDIAccess &&
                            navigator
                                .requestMIDIAccess()
                                .then(function (e) {
                                    e.inputs.forEach(function (e) {
                                        e.onmidimessage = t.onMidiMessage.bind(t);
                                    });
                                })
                                .catch(function (e) {});
                    } catch (e) {}
                }
                return (
                    (e.prototype.onMidiMessage = function (e) {
                        if (!(e.data[0] >= 240)) {
                            var t = e.data[0] >> 4,
                                n = 15 & e.data[0],
                                i = 0,
                                o = 0;
                            if (9 === t) (i = e.data[1]), (o = e.data[2]);
                            else {
                                if (8 !== t) return;
                                (i = e.data[1]), (o = 0);
                            }
                            this.mapper.onNote({ pitch: i, velocity: o, channel: n });
                        }
                    }),
                    e
                );
            })();
        function et(e) {
            for (var t = [0, 0, 0], n = 0, i = e; n < i.length; n++) {
                var o = i[n];
                h.a.add(t, t, o);
            }
            return h.a.multiplyByScalar(t, t, 1 / e.length), t;
        }
        function tt(e) {
            for (var t = 0; t < e.length; ++t) e[t] *= 0.85;
            for (var n = 0, i = 0, o = e; i < o.length; i++) {
                n += o[i];
            }
            var a = [],
                r = -n / 2;
            for (t = 0; t < 4; ++t) {
                var s = r + e[t] / 2,
                    l = [s * Math.cos(at), 0, s * Math.sin(at)];
                (r += e[t]), a.push(l);
            }
            return a;
        }
        function nt(e) {
            for (var t = [], n = 0; n < 4; ++n) {
                var i = et(e.slice(n)),
                    o = Object(d.o)(0, 3, n),
                    a = 0.8 * Object(d.q)(19.5, 15, o),
                    r = Object(d.q)(4.25, 3.25, o) - 0.6;
                t.push(h.a.add([], i, [0, r, a]));
            }
            return t;
        }
        !(function (e) {
            (e[(e.Main = 0)] = "Main"), (e[(e.Playing = 1)] = "Playing");
        })(Qe || (Qe = {}));
        var it,
            ot = ["c", "c#", "d", "d#", "e", "f", "f#", "g", "g#", "a", "a#", "b"],
            at = Object(d.e)(-30),
            rt = [0, 0, 2.5],
            st = at + Math.PI / 2,
            lt = [Math.cos(st), 0, Math.sin(st)],
            ut = [0, 0.7, 0],
            ct = [
                [1, 1, 1, 1],
                [1, 1, 2, 3],
                [2, 2, 3, 4],
                [2, 3, 6, 5],
            ],
            ht = (function () {
                function e(e, t, n, i, o, a, r, s, l, u, m, f, g, b, v, x, k) {
                    var _ = this;
                    (this.stateChangeListeners = []),
                        (this.singers = []),
                        (this.blobs = []),
                        (this.state = Qe.Main),
                        (this.isRecording = !1),
                        (this.currentRecording = null),
                        (this.recordingStartTime = 0),
                        (this.playing = !1),
                        (this.playingRecording = null),
                        (this.playbackStartTime = 0),
                        (this.mouseX = 0.5),
                        (this.mouseY = 0.5),
                        (this.firstNoteTime = 0),
                        (this.cameraPositionCache = [0, 0, 0]),
                        (this.rendererPadding = new p.a(0, function (e) {
                            return Object(d.v)(0, 1, e);
                        })),
                        (this.prompts = []),
                        (this.lastSungNote = { midiPitch: 0, vowel: null }),
                        (this.blobController = null),
                        (this.lastControlledIndex = -1),
                        (this.tutorialState = { kind: "Pitch", pitchesChanged: 0, notesSung: 0 }),
                        (this.personIndicators = []),
                        (this.suspended = !0),
                        (this.requestedFrame = -1),
                        (this.showingPrompts = !0),
                        (this.viewMatrix = new Float32Array(16)),
                        (this.onTutorialFinished = null),
                        (this.onBlobInteraction = null),
                        (this.pitchPrompt = {
                            element: document.getElementById("pitch-prompt"),
                            text: "",
                            visible: !1,
                            sounding: !1,
                        }),
                        (this.vowelPrompt = {
                            element: document.getElementById("vowel-prompt"),
                            text: "",
                            visible: !1,
                            sounding: !1,
                        }),
                        (this.epoch = Date.now()),
                        (this.averageGenerationTime = new He(200)),
                        (this.lastConfettiPopTime = -9999999),
                        (this.worldRayDirection = [0, 0, 0, 0]),
                        (this.pos = { x: 0, y: 0 }),
                        (this.lookPosition = [0, 0, 0]),
                        (this.tempScreenPosition = [0, 0, 0, 0]),
                        (this.config = e),
                        (this.blobModule = i),
                        (this.qualitySettings = f),
                        (this.eyeBuffer = v),
                        (this.eyeBufferIsJSON = x),
                        (this.substepLevel = g),
                        (this.substeps = ct[this.substepLevel]),
                        (this.disableUI = e.disableUI),
                        (this.clock = new we()),
                        (this.frameHopSeconds = m),
                        (this.festiveTheme = u.festiveTheme),
                        (this.festiveEnabled = !1),
                        "Recording" === u.kind && u.recording.theme !== y.Normal && (this.festiveEnabled = !0),
                        (this.festiveParticlesSpawnRate = new p.a(0)),
                        (this.festiveParticleTransitionT = new p.a(0, function (e) {
                            return Object(d.w)(0, 1, e);
                        })),
                        (this.balloonsOffset = new p.a(1, function (e) {
                            return Object(d.w)(0, 1, e);
                        })),
                        (this.canvas = t),
                        (this.harmonizer = o),
                        (this.voiceNet = a),
                        this.voiceNet.setParameters(r.synthRunner.audioParameters),
                        (this.audio = r),
                        (this.audio.synthRunner.onFrameUsed = function (e) {
                            _.bufferPool.returnBuffer(e);
                        }),
                        "Recording" === u.kind &&
                            this.audio.synthRunner.setPans(this.audio.synthRunner.audioParameters.pans[0]),
                        (this.libretto = new xe(s)),
                        (this.bufferPool = new Ge()),
                        this.bufferPool.allocateBuffers(ve.a.getSizeBytes(), 1e3),
                        this.bufferPool.allocateBuffers(be.a.getSizeBytes(), 1e3);
                    var w = tt(
                        b.blobs.map(function (e) {
                            return e.width;
                        })
                    );
                    if ("relative" === e.positioningMode) this.cameraPositions = nt(w);
                    else {
                        this.cameraPositions = [];
                        for (var P = 0; P < 4; ++P)
                            this.cameraPositions.push(h.a.mix([], b.endCameraPosition, b.startCameraPosition, P / 3));
                    }
                    var S = c.makeTranslation(
                        new Float32Array(16),
                        -this.cameraPositions[0][0],
                        -this.cameraPositions[0][1],
                        -this.cameraPositions[0][2]
                    );
                    this.renderer = new ge(
                        this.canvas,
                        n,
                        l.environmentAssets.backgroundImage,
                        l.environmentAssets.backgroundMaskImage,
                        b.startCameraPosition,
                        S,
                        e.cameraFOVDegrees,
                        b.blobs.map(function (e) {
                            return Object(d.i)(e.subsurfaceColor);
                        }),
                        this.festiveTheme === y.NewYears
                            ? { theme: y.NewYears, balloons: new Le(n, i, k) }
                            : { theme: this.festiveTheme }
                    );
                    var A = function (t) {
                            var n = b.blobs[t],
                                o = "relative" === e.positioningMode,
                                a = b.name === T.config.scenes[0].name ? T.festiveTheme : y.Normal,
                                s = new I(
                                    T.renderer.gl,
                                    i,
                                    v,
                                    T.eyeBufferIsJSON,
                                    l.blobAssets[t],
                                    r.synthRunner.audioParameters.voiceTypes[
                                        r.synthRunner.audioParameters.singers[n.singerIndex].voiceType
                                    ].scale,
                                    f.blobSubdivisions,
                                    b.blobs[t],
                                    w[t],
                                    o,
                                    a
                                ),
                                u = new ke(
                                    T.clock,
                                    r.synthRunner.audioParameters.frameHopSeconds,
                                    r.synthRunner.audioParameters.scriptProcessorBufferSize / r.sampleRate
                                );
                            u.onFrameUsed = function (e) {
                                _.bufferPool.returnBuffer(e);
                            };
                            var c = document.createElement("div");
                            c.classList.add("silence-button"),
                                c.classList.add("hideable-clickable"),
                                (c.innerHTML = Pe.replace(/\$MASK/g, "mask-" + t.toFixed(0))),
                                document.body.appendChild(c);
                            var h = function (e) {
                                e.preventDefault(),
                                    _.blobs[t].silenced
                                        ? (_.blobs[t].silenced = !1)
                                        : (_.sendSilence(t), (_.blobs[t].silenced = !0));
                            };
                            c.addEventListener("click", h), c.addEventListener("touchstart", h);
                            var d = { element: c, visible: !0, silenced: !1, hideTime: 0 };
                            T.blobs.push({
                                blob: s,
                                frameTracker: u,
                                silenceButton: d,
                                silenceWorldPosition: [0, 0, 0],
                                silenced: !1,
                                lastSentF0: 440,
                                harmonizationTimeout: "Empty",
                                playbackIndex: 0,
                                oldBlob: null,
                                overrideLookPosition: [0, 0, 0],
                            });
                        },
                        T = this;
                    for (P = 0; P < b.blobs.length; ++P) A(P);
                    if (this.festiveEnabled)
                        for (var E = 0, M = this.blobs; E < M.length; E++) {
                            M[E].blob.hatOffset.change(0, 0);
                        }
                    t.addEventListener("mousedown", this.onMouseDown.bind(this)),
                        t.addEventListener("mousemove", this.onMouseMove.bind(this)),
                        window.addEventListener("mouseup", this.onMouseUp.bind(this)),
                        t.addEventListener("touchstart", this.onTouchStart.bind(this)),
                        t.addEventListener("touchmove", this.onTouchMove.bind(this)),
                        t.addEventListener("touchend", this.onTouchEnd.bind(this)),
                        t.addEventListener("touchcancel", this.onTouchCancel.bind(this));
                    var R = function (e) {
                        a.addListener(e, function (t, n) {
                            var i = Date.now() - _.epoch - t.getSendTime();
                            (i /= t.getSubsteps()),
                                _.averageGenerationTime.add(i),
                                _.averageGenerationTime.enoughSamples() &&
                                    (_.averageGenerationTime.get() > 30
                                        ? ((_.substepLevel += 1),
                                          (_.substepLevel = Math.min(_.substepLevel, 3)),
                                          (_.substeps = ct[_.substepLevel]),
                                          _.averageGenerationTime.reset())
                                        : _.averageGenerationTime.get() < 0 &&
                                          ((_.substepLevel -= 1),
                                          (_.substepLevel = Math.max(_.substepLevel, 0)),
                                          (_.substeps = ct[_.substepLevel]),
                                          _.averageGenerationTime.reset())),
                                _.onGeneratedFrame(e, t, n);
                        });
                    };
                    for (P = 0; P < this.blobs.length; ++P) R(P);
                    for (P = 0; P < this.blobs.length; ++P) {
                        var z = this.audio.synthRunner.audioParameters,
                            C = z.voiceTypes[z.singers[this.blobs[P].blob.config.singerIndex].voiceType].scale[3];
                        this.singers.push(
                            new Ue(
                                P,
                                a,
                                this.audio.synthRunner.audioParameters,
                                this.bufferPool,
                                C,
                                this.epoch,
                                this.blobs[P].blob.config.singerIndex
                            )
                        );
                    }
                    this.audio.start(),
                        (this.prompts = [
                            document.getElementById("soprano-prompt"),
                            document.getElementById("alto-prompt"),
                            document.getElementById("tenor-prompt"),
                            document.getElementById("bass-prompt"),
                        ]);
                    if ("Default" === u.kind)
                        (this.rendererPadding = new p.a(0, function (e) {
                            return Object(d.w)(0, 1, e);
                        })),
                            (this.cameraPosition = new _e(this.cameraPositions[0])),
                            e.disableDrop || this.blobs[3].blob.startFalling(0),
                            (this.state = Qe.Main);
                    else if ("Recording" === u.kind) {
                        (this.state = Qe.Playing),
                            (this.cameraPosition = new _e(this.cameraPositions[0])),
                            (this.rendererPadding = new p.a(0, function (e) {
                                return Object(d.w)(0, 1, e);
                            })),
                            (this.playingRecording = u.recording),
                            (this.currentRecording = null),
                            (this.playing = !1);
                        for (P = 0; P < this.blobs.length; ++P) this.blobs[P].blob.startFalling(10 * P);
                        this.startPlayback(2);
                    }
                    document.addEventListener("keypress", function (e) {
                        "u" === e.key || "U" === e.key
                            ? (_.disableUI = !_.disableUI)
                            : " " === e.key && _.togglePlayback();
                        for (var t = 0; t < 4; ++t)
                            e.key === (t + 1).toFixed(0) &&
                                (_.blobs[t].silenced
                                    ? (_.blobs[t].silenced = !1)
                                    : (_.sendSilence(t), (_.blobs[t].silenced = !0)));
                    });
                    var B = new Xe(this.singers, this);
                    (this.midiController = new $e(B)), this.resume(), e.skipTutorial && this.skipTutorial(10);
                }
                return (
                    (e.prototype.onMouseDown = function (e) {
                        Ie(this.pos, e, this.canvas),
                            (this.mouseX = this.pos.x / this.canvas.width),
                            (this.mouseY = 1 - this.pos.y / this.canvas.height);
                        var t = this.renderer.cameraPosition,
                            n = this.renderer.getWorldRayDirection(
                                this.worldRayDirection,
                                2 * this.mouseX - 1,
                                2 * this.mouseY - 1
                            );
                        if (!this.blobController)
                            for (var i = 0; i < this.blobs.length; ++i) {
                                var o = L(this.blobs[i].blob, t, n);
                                if (o) {
                                    "Finished" === this.tutorialState.kind && (this.tutorialState.hasInteracted = !0),
                                        (o.draggingRestPosition[1] -= 0.2),
                                        (this.blobController = new O(this.blobs[i].blob, o.draggingRestPosition)),
                                        this.onBlobInteraction && this.onBlobInteraction(i);
                                    break;
                                }
                            }
                        this.audio.tryUnlock();
                    }),
                    (e.prototype.onMouseMove = function (e) {
                        Ie(this.pos, e, this.canvas),
                            (this.mouseX = this.pos.x / this.canvas.width),
                            (this.mouseY = 1 - this.pos.y / this.canvas.height);
                    }),
                    (e.prototype.onMouseUp = function () {
                        this.blobController && (this.blobController = null);
                    }),
                    (e.prototype.onTouchStart = function (e) {
                        e.preventDefault(), 1 === e.touches.length && this.onMouseDown(e.targetTouches[0]);
                    }),
                    (e.prototype.onTouchMove = function (e) {
                        e.preventDefault(), this.onMouseMove(e.targetTouches[0]);
                    }),
                    (e.prototype.onTouchEnd = function (e) {
                        e.preventDefault(), e.touches.length > 0 || this.onMouseUp();
                    }),
                    (e.prototype.onTouchCancel = function (e) {
                        e.preventDefault(), e.touches.length > 0 || this.onMouseUp();
                    }),
                    (e.prototype.positionElementWorld = function (e, t, n, i) {
                        var o = this.renderer.getScreenPosition(this.tempScreenPosition, t),
                            a = this.canvas.width * (0.5 * o[0] + 0.5),
                            r = this.canvas.height * (1 - (0.5 * o[1] + 0.5)),
                            s = "translate(" + a.toFixed(0) + "px, " + r.toFixed(0) + "px) ";
                        "left" === n
                            ? (s += "translate(0, ")
                            : "right" === n
                            ? (s += "translate(-100%, ")
                            : "center" === n && (s += "translate(-50%, "),
                            "bottom" === i
                                ? (s += "-100%)")
                                : "center" === i
                                ? (s += "-50%)")
                                : "top" === i && (s += "0)"),
                            (e.style.transform = s);
                    }),
                    (e.prototype.update = function (e) {
                        var t = this;
                        this.clock.tick(e);
                        for (var n = 0, i = this.blobs; n < i.length; n++) {
                            (s = i[n]).frameTracker.update();
                        }
                        var o = this.renderer.cameraPosition,
                            a = this.renderer.getWorldRayDirection(
                                this.worldRayDirection,
                                2 * this.mouseX - 1,
                                2 * this.mouseY - 1
                            );
                        this.blobController && this.blobController.step(o, a),
                            Object(d.k)(this.lookPosition, rt, lt, o, a);
                        for (var r = 0; r < this.blobs.length; ++r) {
                            var s = this.blobs[r].blob;
                            this.festiveTheme === y.Christmas &&
                            0 === s.hatOffset.targetValue &&
                            s.hatOffset.evaluate() > 0 &&
                            s.hatOffset.evaluate() < 1
                                ? ((s.lookPosition[0] = s.modelMatrix[12]),
                                  (s.lookPosition[1] = s.modelMatrix[13] + 15),
                                  (s.lookPosition[2] = s.modelMatrix[14] + 5))
                                : Date.now() - this.lastConfettiPopTime < 3e3
                                ? (this.blobs[r].blob.lookPosition = this.blobs[r].overrideLookPosition)
                                : (this.blobs[r].blob.lookPosition = this.lookPosition);
                        }
                        for (r = 0; r < this.blobs.length; ++r) {
                            this.blobs[r].silenced
                                ? (this.blobs[r].blob.eyeTopOpenness.change(0, 0.3),
                                  this.blobs[r].blob.eyeBottomOpenness.change(0, 0.3))
                                : (this.blobs[r].blob.eyeTopOpenness.change(1, 0.3),
                                  this.blobs[r].blob.eyeBottomOpenness.change(0, 0.3));
                        }
                        for (r = 0; r < this.blobs.length; ++r) {
                            var l = this.blobs[r].frameTracker.getCurrentFrame(),
                                u = [];
                            if (
                                (this.blobController &&
                                    this.blobs[r].blob === this.blobController.blob &&
                                    u.push({
                                        yScale: this.blobController.yScale,
                                        zOffset: this.blobController.zOffset,
                                        isSelf: !0,
                                    }),
                                this.blobs[r].blob.step(u, l || null),
                                null !== this.blobs[r].oldBlob)
                            ) {
                                var p = this.blobs[r].oldBlob;
                                p.canDestroy()
                                    ? (p.destroy(), (this.blobs[r].oldBlob = null))
                                    : this.blobs[r].oldBlob.step(u, l || null);
                            }
                        }
                        for (r = 0; r < this.blobs.length; ++r)
                            this.blobs[r].blob.isDragging
                                ? ((this.blobs[r].silenced = !1),
                                  this.audio.synthRunner.setOverrideFrequency(r, !0),
                                  this.audio.synthRunner.addOverrideF0(
                                      r,
                                      Object(d.p)(this.blobs[r].blob.liveMidiNote.evaluate() + Oe)
                                  ))
                                : this.audio.synthRunner.setOverrideFrequency(r, !1);
                        if (null !== this.blobController) {
                            var m = this.blobController.blob,
                                f = this.blobs.findIndex(function (e) {
                                    return e.blob === m;
                                });
                            this.lastControlledIndex = f;
                            var g = 0 === this.lastSungNote.midiPitch,
                                b = g ? 0.05 : 0.2;
                            if (
                                !R(this.lastSungNote, m.currentPitchVowel) &&
                                m.getTimeOnCurrentNote() > b &&
                                this.voiceNet.framesBeingGenerated < De
                            ) {
                                var v = this.clock.getTimeMs();
                                if (this.state === Qe.Main)
                                    if ("Pitch" === this.tutorialState.kind)
                                        (this.tutorialState.notesSung += 1),
                                            m.currentPitchVowel.midiPitch !== this.lastSungNote.midiPitch &&
                                                ((this.tutorialState.pitchesChanged += 1),
                                                4 === this.tutorialState.pitchesChanged &&
                                                    this.blobs[2].blob.startFalling(0));
                                    else if ("Vowel" === this.tutorialState.kind && 2 === f) {
                                        (this.tutorialState.notesSung += 1),
                                            m.currentPitchVowel.vowel !== this.lastSungNote.vowel &&
                                                ((this.tutorialState.vowelsChanged += 1),
                                                3 === this.tutorialState.vowelsChanged &&
                                                    this.blobs[1].blob.startFalling(0));
                                    } else if ("Harmonization" === this.tutorialState.kind && 1 === f) {
                                        if (((this.tutorialState.notesSung += 1), 2 === this.tutorialState.notesSung)) {
                                            var x = 0;
                                            for (r = this.getUnlockedVoiceIndex() - 1; r >= 0; r -= 1)
                                                this.blobs[r].blob.startFalling(x), (x += 10);
                                            for (r = 4; r < this.blobs.length; ++r)
                                                this.blobs[r].blob.startFalling(x), (x += 10);
                                        }
                                    } else
                                        "Mute" === this.tutorialState.kind &&
                                            0 === f &&
                                            (this.tutorialState.notesSung += 1);
                                g && (this.firstNoteTime = v),
                                    f < 4 &&
                                        this.audio.synthRunner.setPans(this.audio.synthRunner.audioParameters.pans[f]);
                                var k =
                                        this.audio.synthRunner.audioParameters.singers[
                                            this.blobs[f].blob.config.singerIndex
                                        ].voiceType,
                                    w = m.currentPitchVowel;
                                this.lastSungNote = w;
                                var P = this.libretto.getNextChunk(w.vowel);
                                if (
                                    (this.singers[f].singNote(P, w.midiPitch + Oe, !1, !1, this.substeps[f]),
                                    this.addNoteToRecording(f, v, w.midiPitch + Oe, P, !0),
                                    this.state === Qe.Main)
                                ) {
                                    var S = w.midiPitch;
                                    (2 !== k && 3 !== k) || (S += 12),
                                        this.harmonizer.harmonize(S).then(function (e) {
                                            e[k].midiNote = w.midiPitch;
                                            for (
                                                var n = function (n) {
                                                        for (
                                                            var i = 200 * (n - k),
                                                                o = t.firstNoteTime + i,
                                                                a = function (a) {
                                                                    var r = t.blobs[a];
                                                                    t.audio.synthRunner.audioParameters.singers[
                                                                        r.blob.config.singerIndex
                                                                    ].voiceType === n &&
                                                                        a !== f &&
                                                                        ("Fired" !== r.harmonizationTimeout
                                                                            ? ("Empty" !== r.harmonizationTimeout &&
                                                                                  window.clearTimeout(
                                                                                      t.blobs[n].harmonizationTimeout
                                                                                  ),
                                                                              (r.harmonizationTimeout =
                                                                                  window.setTimeout(function () {
                                                                                      var o =
                                                                                          t.singers[f].previousChunk;
                                                                                      if (
                                                                                          !Object(d.a)(
                                                                                              o.suffix.map(function (
                                                                                                  e
                                                                                              ) {
                                                                                                  return e.name;
                                                                                              }),
                                                                                              t.singers[
                                                                                                  a
                                                                                              ].currentChunk.suffix.map(
                                                                                                  function (e) {
                                                                                                      return e.name;
                                                                                                  }
                                                                                              )
                                                                                          )
                                                                                      ) {
                                                                                          var s = {
                                                                                              vowel: {
                                                                                                  name: _.b.sil,
                                                                                                  duration:
                                                                                                      o.vowel.duration,
                                                                                              },
                                                                                              suffix: o.suffix,
                                                                                          };
                                                                                          t.singers[a].singNote(
                                                                                              s,
                                                                                              t.singers[a]
                                                                                                  .currentMidiNote,
                                                                                              !0,
                                                                                              !1,
                                                                                              1
                                                                                          );
                                                                                      }
                                                                                      t.singers[a].singNote(
                                                                                          t.singers[f].currentChunk,
                                                                                          e[n].midiNote + Oe,
                                                                                          !1,
                                                                                          !1,
                                                                                          t.substeps[n]
                                                                                      ),
                                                                                          t.addNoteToRecording(
                                                                                              a,
                                                                                              v + i,
                                                                                              e[n].midiNote + Oe,
                                                                                              t.singers[a].currentChunk,
                                                                                              !1
                                                                                          ),
                                                                                          (r.harmonizationTimeout =
                                                                                              "Fired");
                                                                                  }, o - t.clock.getTimeMs())))
                                                                            : "Fired" ===
                                                                                  t.blobs[a].harmonizationTimeout &&
                                                                              (t.singers[a].singNote(
                                                                                  P,
                                                                                  e[n].midiNote + Oe,
                                                                                  !1,
                                                                                  !1,
                                                                                  t.substeps[n]
                                                                              ),
                                                                              t.addNoteToRecording(
                                                                                  a,
                                                                                  v,
                                                                                  e[n].midiNote + Oe,
                                                                                  P,
                                                                                  !1
                                                                              )));
                                                                },
                                                                r = 0;
                                                            r < t.blobs.length;
                                                            ++r
                                                        )
                                                            a(r);
                                                    },
                                                    i = k;
                                                i < 4;
                                                ++i
                                            )
                                                n(i);
                                        });
                                }
                            }
                        }
                        if (null === this.blobController && 0 !== this.lastSungNote.midiPitch) {
                            var A = this.libretto.getNextChunk(_.b.sil),
                                T = this.clock.getTimeMs();
                            if (this.state === Qe.Main)
                                for (r = 0; r < this.blobs.length; ++r)
                                    this.singers[r].currentMuted ||
                                        (this.singers[r].singNote(
                                            A,
                                            this.singers[r].currentMidiNote,
                                            !0,
                                            !1,
                                            this.substeps[r]
                                        ),
                                        this.addNoteToRecording(r, T, this.singers[r].currentMidiNote, A, !1));
                            else if (this.state === Qe.Playing) {
                                var M = this.lastControlledIndex;
                                -1 !== M &&
                                    (this.singers[M].currentMuted ||
                                        this.singers[M].singNote(
                                            A,
                                            this.singers[M].currentMidiNote,
                                            !0,
                                            !1,
                                            this.substeps[M]
                                        ));
                            }
                            for (r = 0; r < this.blobs.length; ++r)
                                "Empty" !== this.blobs[r].harmonizationTimeout &&
                                    "Fired" !== this.blobs[r].harmonizationTimeout &&
                                    window.clearTimeout(this.blobs[r].harmonizationTimeout),
                                    (this.blobs[r].harmonizationTimeout = "Empty");
                            (this.lastSungNote = { midiPitch: 0, vowel: null }), (this.lastControlledIndex = -1);
                        }
                        if (this.state === Qe.Playing && this.playing) {
                            var z = Math.max(0, (this.clock.getTimeMs() - this.playbackStartTime) / 1e3);
                            for (r = 0; r < this.blobs.length; ++r)
                                for (
                                    var C = this.playingRecording.parts[r].notes;
                                    this.blobs[r].playbackIndex < C.length &&
                                    C[this.blobs[r].playbackIndex].timeSeconds < z;

                                ) {
                                    var B = C[this.blobs[r].playbackIndex],
                                        j = B.librettoChunk.vowel.duration <= 0.11;
                                    this.blobs[r].blob.isDragging ||
                                        this.singers[r].singNote(
                                            B.librettoChunk,
                                            B.midiPitch,
                                            B.librettoChunk.vowel.name === _.b.sil,
                                            B.controlled,
                                            this.substeps[r],
                                            j ? 0.1 : 0.2
                                        ),
                                        (this.blobs[r].playbackIndex += 1);
                                }
                            (function (e, t) {
                                for (var n = 0; n < t.length; ++n) if (t[n] < e.parts[n].notes.length) return !1;
                                return !0;
                            })(
                                this.playingRecording,
                                this.blobs.map(function (e) {
                                    return e.playbackIndex;
                                })
                            ) && this.startPlayback(1);
                        }
                        for (var F = !1, L = 0, D = this.blobs; L < D.length; L++) {
                            (s = D[L]).blob.isDragging && (F = !0);
                        }
                        for (var O = 0, I = this.blobs; O < I.length; O++) {
                            ((s = I[O]).blob.overrideHipnotized =
                                !this.playing && !s.blob.isDragging && s.blob.isSinging && F),
                                s.oldBlob && (s.oldBlob.overrideHipnotized = !1);
                        }
                        if ("Finished" === this.tutorialState.kind) {
                            for (r = 0; r < 4; ++r) this.prompts[r].classList.remove("visible");
                        } else
                            for (r = 0; r < 4; ++r) {
                                s = this.blobs[r].blob;
                                var N = c.transformPosition(
                                    [],
                                    h.a.add([], s.getMouthCentroid(), [-0.3, 0, 0]),
                                    s.modelMatrix
                                );
                                if (
                                    (this.positionElementWorld(this.prompts[r], N, "right", "center"),
                                    this.blobs[r].blob.state !== E.Falling)
                                ) {
                                    var G = !1;
                                    3 === r
                                        ? (G = "Pitch" === this.tutorialState.kind)
                                        : 2 === r
                                        ? (G = "Vowel" === this.tutorialState.kind)
                                        : 1 === r
                                        ? (G = "Harmonization" === this.tutorialState.kind)
                                        : 0 === r && (G = "Mute" === this.tutorialState.kind),
                                        G && this.state === Qe.Main && this.showingPrompts && !this.disableUI
                                            ? this.prompts[r].classList.add("visible")
                                            : this.prompts[r].classList.remove("visible");
                                }
                            }
                        for (r = 0; r < this.blobs.length; ++r) {
                            var H =
                                    (this.state === Qe.Main &&
                                        "Mute" === this.tutorialState.kind &&
                                        this.tutorialState.notesSung > 0) ||
                                    "Finished" === this.tutorialState.kind ||
                                    this.state === Qe.Playing,
                                U = this.blobs[r].silenceButton;
                            !H ||
                            (this.isDraggingBlob() && "Mute" !== this.tutorialState.kind) ||
                            !this.showingPrompts ||
                            this.disableUI
                                ? U.visible && (U.element.classList.remove("visible"), (U.visible = !1))
                                : U.visible || (U.element.classList.add("visible"), (U.visible = !0)),
                                this.blobs[r].silenced
                                    ? U.silenced || (U.element.classList.add("silenced"), (U.silenced = !0))
                                    : U.silenced &&
                                      (U.element.classList.remove("silenced"),
                                      (U.silenced = !1),
                                      (U.hideTime = Date.now())),
                                U.visible &&
                                    (h.a.add(
                                        this.blobs[r].silenceWorldPosition,
                                        this.blobs[r].blob.getTopPosition(),
                                        ut
                                    ),
                                    c.transformPosition(
                                        this.blobs[r].silenceWorldPosition,
                                        this.blobs[r].silenceWorldPosition,
                                        this.blobs[r].blob.modelMatrix
                                    ),
                                    this.positionElementWorld(
                                        this.blobs[r].silenceButton.element,
                                        this.blobs[r].silenceWorldPosition,
                                        "left",
                                        "bottom"
                                    ));
                        }
                        if (
                            (this.rendererPadding.change(this.state === Qe.Playing ? 60 : 0, 1),
                            (this.renderer.paddingHeight = Math.round(this.rendererPadding.evaluate())),
                            "Pitch" === this.tutorialState.kind &&
                                this.state === Qe.Main &&
                                null !== this.blobController &&
                                this.showingPrompts)
                        ) {
                            this.pitchPrompt.visible ||
                                (this.pitchPrompt.element.classList.add("visible"), (this.pitchPrompt.visible = !0));
                            s = this.blobController.blob;
                            var V = c.transformPosition(
                                    [],
                                    [0.3, s.pitchUI.indicatorY.evaluate(), 0],
                                    s.pitchUI.getModelMatrix()
                                ),
                                Y = ot[(s.pitchUI.currentDraggedValue + Oe) % 12].toUpperCase();
                            this.pitchPrompt.text !== Y &&
                                ((document.getElementById("pitch-prompt-pitch").innerText = Y),
                                (this.pitchPrompt.text = Y)),
                                this.positionElementWorld(this.pitchPrompt.element, V, "left", "center"),
                                s.pitchUI.currentSoundedValue === s.pitchUI.currentDraggedValue
                                    ? this.pitchPrompt.sounding ||
                                      (document.getElementById("pitch-prompt-pitch").classList.add("sounding"),
                                      (this.pitchPrompt.sounding = !0))
                                    : this.pitchPrompt.sounding &&
                                      (document.getElementById("pitch-prompt-pitch").classList.remove("sounding"),
                                      (this.pitchPrompt.sounding = !1));
                        } else
                            this.pitchPrompt.visible &&
                                (this.pitchPrompt.element.classList.remove("visible"), (this.pitchPrompt.visible = !1));
                        if (
                            "Vowel" === this.tutorialState.kind &&
                            this.state === Qe.Main &&
                            null !== this.blobController &&
                            2 ===
                                this.blobs.findIndex(function (e) {
                                    return e.blob === t.blobController.blob;
                                }) &&
                            this.showingPrompts
                        ) {
                            this.vowelPrompt.visible ||
                                (this.vowelPrompt.element.classList.add("visible"), (this.vowelPrompt.visible = !0));
                            (s = this.blobController.blob),
                                (V = c.transformPosition(
                                    [],
                                    [-0.2, s.vowelUI.indicatorY.evaluate(), 0],
                                    s.vowelUI.getModelMatrix()
                                ));
                            var q = Object(_.c)(s.vowelUI.currentDraggedValue);
                            this.vowelPrompt.text !== q &&
                                ((document.getElementById("vowel-prompt-vowel").innerText = Object(_.c)(
                                    s.vowelUI.currentDraggedValue
                                )),
                                (this.vowelPrompt.text = q)),
                                this.positionElementWorld(this.vowelPrompt.element, V, "center", "bottom"),
                                s.vowelUI.currentSoundedValue === s.vowelUI.currentDraggedValue
                                    ? this.vowelPrompt.sounding ||
                                      (document.getElementById("vowel-prompt-vowel").classList.add("sounding"),
                                      (this.vowelPrompt.sounding = !0))
                                    : this.vowelPrompt.sounding &&
                                      (document.getElementById("vowel-prompt-vowel").classList.remove("sounding"),
                                      (this.vowelPrompt.sounding = !1));
                        } else
                            this.vowelPrompt.visible &&
                                (this.vowelPrompt.element.classList.remove("visible"), (this.vowelPrompt.visible = !1));
                        this.state !== Qe.Main ||
                            this.isDraggingBlob() ||
                            (this.cameraPosition.change(this.cameraPositions[this.getUnlockedVoiceIndex()], 1.5),
                            "Finished" !== this.tutorialState.kind &&
                                ("Pitch" === this.tutorialState.kind && this.tutorialState.pitchesChanged >= 4
                                    ? (this.tutorialState = { kind: "Vowel", vowelsChanged: 0, notesSung: 0 })
                                    : "Vowel" === this.tutorialState.kind && this.tutorialState.vowelsChanged >= 3
                                    ? (this.tutorialState = { kind: "Harmonization", notesHarmonized: 0, notesSung: 0 })
                                    : "Harmonization" === this.tutorialState.kind && this.tutorialState.notesSung >= 2
                                    ? (this.tutorialState = { kind: "Mute", notesSung: 0 })
                                    : "Mute" === this.tutorialState.kind &&
                                      this.tutorialState.notesSung > 0 &&
                                      ((this.tutorialState = { kind: "Finished", hasInteracted: !1 }),
                                      this.audio.samplePlayer.play("applause"),
                                      this.onTutorialFinished && this.onTutorialFinished())));
                        for (r = 0; r < this.blobs.length; ++r)
                            this.state === Qe.Main &&
                            ("Pitch" === this.tutorialState.kind ||
                                ("Vowel" === this.tutorialState.kind && r === this.blobs.length - 1))
                                ? this.blobs[r].blob.vowelUI.overrideAlpha.change(0, 0.5, 0.5)
                                : this.blobs[r].blob.vowelUI.overrideAlpha.change(1, 0.5, 0.5),
                                this.state === Qe.Main &&
                                "Vowel" === this.tutorialState.kind &&
                                r !== this.blobs.length - 1
                                    ? (2 === r && this.blobs[r].blob.vowelUI.yOffset.change(2.7, 0),
                                      this.blobs[r].blob.pitchUI.overrideAlpha.change(0, 0.5))
                                    : (r >= 2 && this.blobs[r].blob.vowelUI.yOffset.change(0, 1, 0),
                                      this.blobs[r].blob.pitchUI.overrideAlpha.change(1, 0.5)),
                                this.disableUI &&
                                    (this.blobs[r].blob.vowelUI.overrideAlpha.change(0, 0),
                                    this.blobs[r].blob.pitchUI.overrideAlpha.change(0, 0));
                        this.cameraPosition.evaluate(this.cameraPositionCache),
                            this.renderer.setViewMatrix(
                                c.makeTranslation(
                                    this.viewMatrix,
                                    -this.cameraPositionCache[0],
                                    -this.cameraPositionCache[1],
                                    -this.cameraPositionCache[2]
                                )
                            ),
                            this.festiveEnabled
                                ? this.festiveParticlesSpawnRate.change(600, 1)
                                : this.festiveParticlesSpawnRate.change(0, 1),
                            (this.renderer.festiveParticleSpawnRate = this.festiveParticlesSpawnRate.evaluate()),
                            (this.renderer.festiveParticleTransitionT = this.festiveParticleTransitionT.evaluate()),
                            this.festiveTheme === y.NewYears &&
                                (this.festiveEnabled
                                    ? this.balloonsOffset.change(0, 3)
                                    : this.balloonsOffset.change(1, 3),
                                (this.renderer.balloonsYOffset = this.balloonsOffset.evaluate()));
                        var W = [];
                        for (r = 0; r < this.blobs.length; ++r)
                            W.push(this.blobs[r].blob), null !== this.blobs[r].oldBlob && W.push(this.blobs[r].oldBlob);
                        this.renderer.render(W);
                    }),
                    (e.prototype.addNoteToRecording = function (e, t, n, i, o) {
                        this.isRecording &&
                            this.currentRecording.parts[e].notes.push({
                                timeSeconds: (t - this.recordingStartTime) / 1e3,
                                librettoChunk: i,
                                midiPitch: n,
                                controlled: o,
                            });
                    }),
                    (e.prototype.onGeneratedFrame = function (e, t, n) {
                        if (((this.blobs[e].lastSentF0 = t.getF0()), 1 !== t.getSkip())) {
                            if (!this.blobs[e].silenced)
                                for (o = 0; o < n.length; ++o) {
                                    var i = this.bufferPool.getBuffer(ve.a.getSizeBytes());
                                    Object(d.d)(n[o].buffer, i), this.blobs[e].frameTracker.addFrame(new ve.a(i));
                                }
                            if (!this.blobs[e].silenced && !this.audio.isMuted()) {
                                this.audio.synthRunner.addSpectralFrame(e, t);
                                for (o = 0; o < n.length; ++o) this.audio.synthRunner.addExcitationFrame(e, n[o]);
                            }
                        } else {
                            this.bufferPool.returnBuffer(t.buffer);
                            for (var o = 0; o < n.length; ++o) this.bufferPool.returnBuffer(n[o].buffer);
                        }
                    }),
                    (e.prototype.sendSilence = function (e) {
                        for (
                            var t = this,
                                n = new be.a(this.bufferPool.getBuffer(be.a.getSizeBytes())),
                                i = n.getSpectral(),
                                o = 0;
                            o < 60;
                            ++o
                        )
                            i[o] = -120;
                        var a = function (n) {
                            n.setMuted(!0),
                                n.setF0(t.blobs[e].lastSentF0),
                                n.setMidiNote(Object(d.g)(t.blobs[e].lastSentF0)),
                                n.setPhoneme(_.b.sil),
                                n.setNextPhoneme(_.b.sil),
                                n.setVowel(_.b.sil),
                                n.setSingerIndex(t.blobs[e].blob.config.singerIndex),
                                n.setPreviousPhoneme(_.b.sil),
                                n.setPhonemePosition(0),
                                n.setSkip(0);
                        };
                        a(n), n.setSubsteps(this.substeps[e]), n.setSendTime(Date.now() - this.epoch);
                        var r = [];
                        for (o = 0; o < 1; ++o) {
                            var s = new ve.a(this.bufferPool.getBuffer(ve.a.getSizeBytes()));
                            a(s);
                            for (var l = s.getAperiodic(), u = 0; u < 4; ++u) l[u] = -120;
                            r.push(s);
                        }
                        this.onGeneratedFrame(e, n, r);
                    }),
                    (e.prototype.addStateChangeListener = function (e) {
                        this.stateChangeListeners.push(e);
                    }),
                    (e.prototype.fireStateChangeListeners = function () {
                        for (var e = 0, t = this.stateChangeListeners; e < t.length; e++) {
                            (0, t[e])(this.state);
                        }
                    }),
                    (e.prototype.getUnlockedVoiceIndex = function () {
                        return "Pitch" === this.tutorialState.kind
                            ? 3
                            : "Vowel" === this.tutorialState.kind
                            ? 2
                            : "Harmonization" === this.tutorialState.kind
                            ? 1
                            : "Finished" === this.tutorialState.kind || "Mute" === this.tutorialState.kind
                            ? 0
                            : void 0;
                    }),
                    (e.prototype.setAudioParameters = function (e) {
                        this.audio.synthRunner.setAudioParameters(e), this.voiceNet.setParameters(e);
                    }),
                    (e.prototype.freeze = function () {
                        this.suspended ||
                            (this.audio.suspend(), cancelAnimationFrame(this.requestedFrame), (this.suspended = !0));
                    }),
                    (e.prototype.resume = function () {
                        var e = this;
                        if (this.suspended) {
                            this.audio.resume();
                            var t = !0,
                                n = 0,
                                i = function (o) {
                                    var a = t ? 1e3 / 60 : o - n;
                                    e.update(a), (e.requestedFrame = requestAnimationFrame(i)), (n = o), t && (t = !1);
                                };
                            (this.requestedFrame = requestAnimationFrame(i)), (this.suspended = !1);
                        }
                    }),
                    (e.prototype.completedTutorial = function () {
                        if (localStorage.getItem("blob-tutorial")) {
                            this.skipTutorial();
                        }
                        return "Finished" === this.tutorialState.kind;
                    }),
                    (e.prototype.isDraggingBlob = function () {
                        return null !== this.blobController;
                    }),
                    (e.prototype.exitPlaying = function () {
                        this.stopPlayback();
                    }),
                    (e.prototype.enterMain = function () {
                        if (this.state !== Qe.Main) {
                            this.state === Qe.Playing && this.exitPlaying();
                            for (var e = 0; e < this.getUnlockedVoiceIndex(); ++e)
                                this.blobs[e].blob.startRising(10 * e);
                            (this.state = Qe.Main), this.fireStateChangeListeners();
                        }
                    }),
                    (e.prototype.enterPlaying = function (e) {
                        if (this.state === Qe.Main) {
                            for (var t = 0; t < this.getUnlockedVoiceIndex(); ++t)
                                this.blobs[t].blob.state !== E.Idle && this.blobs[t].blob.startFalling(10 * t);
                            this.cameraPosition.change(this.cameraPositions[0], 1);
                        } else this.state, Qe.Playing;
                        (this.state = Qe.Playing),
                            (this.playingRecording = e),
                            (this.playing = !1),
                            this.startPlayback(0),
                            this.fireStateChangeListeners();
                    }),
                    (e.prototype.startNewRecording = function (e) {
                        (this.isRecording = !0),
                            (this.currentRecording = (function (e, t) {
                                for (var n = [], i = 0; i < e; ++i) n.push({ notes: [], startSuffix: [] });
                                return { theme: y.Normal, location: t, parts: n };
                            })(this.blobs.length, e)),
                            (this.recordingStartTime = this.clock.getTimeMs()),
                            "Finished" === this.tutorialState.kind && (this.tutorialState.hasInteracted = !0);
                    }),
                    (e.prototype.finishRecording = function () {
                        if (!this.isRecording) return null;
                        var e = this.currentRecording;
                        return (
                            (function (e, t) {
                                for (var n = 1 / 0, i = 0, o = e.parts; i < o.length; i++) {
                                    (l = o[i]).notes.length > 0 && (n = Math.min(n, l.notes[0].timeSeconds));
                                }
                                for (var a = t - n, r = 0, s = e.parts; r < s.length; r++)
                                    for (var l, u = 0, c = (l = s[r]).notes; u < c.length; u++) {
                                        c[u].timeSeconds += a;
                                    }
                            })(e, 0.2),
                            (this.isRecording = !1),
                            (this.currentRecording = null),
                            e
                        );
                    }),
                    (e.prototype.togglePlayback = function () {
                        this.state === Qe.Playing && (this.playing ? this.stopPlayback() : this.startPlayback(0));
                    }),
                    (e.prototype.startPlayback = function (e) {
                        if (this.state === Qe.Playing) {
                            (this.playing = !0), (this.playbackStartTime = this.clock.getTimeMs() + 1e3 * e);
                            for (var t = 0, n = this.blobs; t < n.length; t++) {
                                n[t].playbackIndex = 0;
                            }
                        }
                    }),
                    (e.prototype.stopPlayback = function () {
                        if (this.state === Qe.Playing && this.playing) {
                            this.playing = !1;
                            for (var e = this.libretto.getNextChunk(_.b.sil), t = 0; t < this.blobs.length; ++t)
                                this.singers[t].currentMuted ||
                                    this.singers[t].singNote(e, this.singers[t].currentMidiNote, !0, !1, 1);
                        }
                    }),
                    (e.prototype.skipTutorial = function (e) {
                        if ((void 0 === e && (e = 0), this.state === Qe.Main)) {
                            if (!this.config.disableDrop) {
                                for (var t = e, n = this.getUnlockedVoiceIndex() - 1; n >= 0; n -= 1)
                                    this.blobs[n].blob.startFalling(t), (t += 10);
                                for (n = 4; n < this.blobs.length; ++n) this.blobs[n].blob.startFalling(t), (t += 10);
                            }
                            this.tutorialState = { kind: "Finished", hasInteracted: !0 };
                        }
                    }),
                    (e.prototype.setFestiveEnabled = function (e) {
                        if (((this.festiveEnabled = e), this.festiveEnabled))
                            for (var t = 0; t < this.blobs.length; ++t)
                                this.blobs[t].blob.hatOffset.change(0, 0.5, 0.1 * (3 - t));
                        else
                            for (t = 0; t < this.blobs.length; ++t)
                                this.blobs[t].blob.hatOffset.change(1, 0.5, 0.1 * t);
                    }),
                    (e.prototype.setScene = function (e, t) {
                        for (
                            var n = tt(
                                    e.blobs.map(function (e) {
                                        return e.width;
                                    })
                                ),
                                i = 0;
                            i < 4;
                            ++i
                        ) {
                            this.blobs[i].oldBlob && (this.blobs[i].oldBlob.destroy(), (this.blobs[i].oldBlob = null));
                            var o = e.blobs[i],
                                a = e.name === this.config.scenes[0].name ? this.festiveTheme : y.Normal,
                                r = new I(
                                    this.renderer.gl,
                                    this.blobModule,
                                    this.eyeBuffer,
                                    this.eyeBufferIsJSON,
                                    t.blobAssets[i],
                                    this.audio.synthRunner.audioParameters.voiceTypes[
                                        this.audio.synthRunner.audioParameters.singers[o.singerIndex].voiceType
                                    ].scale,
                                    this.qualitySettings.blobSubdivisions,
                                    e.blobs[i],
                                    n[i],
                                    !0,
                                    a
                                );
                            (this.blobs[i].oldBlob = this.blobs[i].blob),
                                (this.blobs[i].blob = r),
                                r.startFalling(10 * i),
                                this.festiveEnabled && r.hatOffset.change(0, 0),
                                this.blobs[i].oldBlob.exitStageLeft();
                        }
                        (this.cameraPositions = nt(n)),
                            this.renderer.changeScene(
                                t.environmentAssets.backgroundImage,
                                t.environmentAssets.backgroundMaskImage,
                                0.2
                            ),
                            e.name === this.config.scenes[0].name
                                ? (this.festiveParticleTransitionT.change(1, 0),
                                  this.festiveParticleTransitionT.change(0, 0.5))
                                : this.festiveParticleTransitionT.change(-1, 0.5);
                    }),
                    (e.prototype.getAudioRTF = function () {
                        return this.audio.synthRunner.getAverageTime();
                    }),
                    (e.prototype.getAudioRTFEnoughSamples = function () {
                        return this.audio.synthRunner.getEnoughSamples();
                    }),
                    (e.prototype.jingleBells = function () {
                        this.audio.samplePlayer.play("bells");
                    }),
                    (e.prototype.popConfetti = function () {
                        this.renderer.popConfetti(), (this.lastConfettiPopTime = Date.now());
                        for (var e = [], t = 0; t < this.blobs.length; ++t)
                            t < this.blobs.length / 2 ? e.push("left") : e.push("right");
                        Object(d.u)(e);
                        for (t = 0; t < this.blobs.length; ++t)
                            (this.blobs[t].overrideLookPosition = [
                                "left" === e[t] ? -20 : 20,
                                Object(d.s)(15, 25),
                                10,
                            ]),
                                this.blobs[t].blob.addImpulse(0, 3, 0);
                        this.audio.samplePlayer.play("party");
                    }),
                    (e.prototype.getGl = function () {
                        return this.renderer.getGl();
                    }),
                    e
                );
            })(),
            dt =
                ((it = "undefined" != typeof document && document.currentScript ? document.currentScript.src : void 0),
                function (e) {
                    var t,
                        n,
                        i = void 0 !== (e = e || {}) ? e : {};
                    i.ready = new Promise(function (e, i) {
                        (t = e), (n = i);
                    });
                    var o,
                        a = {};
                    for (o in i) i.hasOwnProperty(o) && (a[o] = i[o]);
                    var r,
                        s = [],
                        l = "";
                    "undefined" != typeof document && document.currentScript && (l = document.currentScript.src),
                        it && (l = it),
                        (l = 0 !== l.indexOf("blob:") ? l.substr(0, l.lastIndexOf("/") + 1) : "");
                    var u,
                        c,
                        h = i.print || console.log.bind(console),
                        d = i.printErr || console.warn.bind(console);
                    for (o in a) a.hasOwnProperty(o) && (i[o] = a[o]);
                    (a = null),
                        i.arguments && (s = i.arguments),
                        i.thisProgram && i.thisProgram,
                        i.quit && i.quit,
                        i.wasmBinary && (u = i.wasmBinary),
                        i.noExitRuntime && i.noExitRuntime,
                        "object" != typeof WebAssembly && C("no native wasm support detected");
                    var p = !1;
                    function m(e) {
                        var t,
                            n = i["_" + e];
                        return (
                            (t = "Cannot call unknown function " + e + ", make sure it is exported"),
                            n || C("Assertion failed: " + t),
                            n
                        );
                    }
                    function f(e, t, n, i, o) {
                        var a = {
                                string: function (e) {
                                    var t = 0;
                                    if (null != e && 0 !== e) {
                                        var n = 1 + (e.length << 2);
                                        !(function (e, t, n) {
                                            !(function (e, t, n, i) {
                                                if (!(i > 0)) return 0;
                                                for (var o = n + i - 1, a = 0; a < e.length; ++a) {
                                                    var r = e.charCodeAt(a);
                                                    if (r >= 55296 && r <= 57343) {
                                                        var s = e.charCodeAt(++a);
                                                        r = (65536 + ((1023 & r) << 10)) | (1023 & s);
                                                    }
                                                    if (r <= 127) {
                                                        if (n >= o) break;
                                                        t[n++] = r;
                                                    } else if (r <= 2047) {
                                                        if (n + 1 >= o) break;
                                                        (t[n++] = 192 | (r >> 6)), (t[n++] = 128 | (63 & r));
                                                    } else if (r <= 65535) {
                                                        if (n + 2 >= o) break;
                                                        (t[n++] = 224 | (r >> 12)),
                                                            (t[n++] = 128 | ((r >> 6) & 63)),
                                                            (t[n++] = 128 | (63 & r));
                                                    } else {
                                                        if (n + 3 >= o) break;
                                                        (t[n++] = 240 | (r >> 18)),
                                                            (t[n++] = 128 | ((r >> 12) & 63)),
                                                            (t[n++] = 128 | ((r >> 6) & 63)),
                                                            (t[n++] = 128 | (63 & r));
                                                    }
                                                }
                                                t[n] = 0;
                                            })(e, v, t, n);
                                        })(e, (t = $(n)), n);
                                    }
                                    return t;
                                },
                                array: function (e) {
                                    var t = $(e.length);
                                    return (
                                        (function (e, t) {
                                            b.set(e, t);
                                        })(e, t),
                                        t
                                    );
                                },
                            },
                            r = m(e),
                            s = [],
                            l = 0;
                        if (i)
                            for (var u = 0; u < i.length; u++) {
                                var c = a[n[u]];
                                c ? (0 === l && (l = Z()), (s[u] = c(i[u]))) : (s[u] = i[u]);
                            }
                        var h = r.apply(null, s);
                        return (
                            (h = (function (e) {
                                return "string" === t ? _(e) : "boolean" === t ? Boolean(e) : e;
                            })(h)),
                            0 !== l && Q(l),
                            h
                        );
                    }
                    var g,
                        b,
                        v,
                        y,
                        x = "undefined" != typeof TextDecoder ? new TextDecoder("utf8") : void 0;
                    function k(e, t, n) {
                        for (var i = t + n, o = t; e[o] && !(o >= i); ) ++o;
                        if (o - t > 16 && e.subarray && x) return x.decode(e.subarray(t, o));
                        for (var a = ""; t < o; ) {
                            var r = e[t++];
                            if (128 & r) {
                                var s = 63 & e[t++];
                                if (192 != (224 & r)) {
                                    var l = 63 & e[t++];
                                    if (
                                        (r =
                                            224 == (240 & r)
                                                ? ((15 & r) << 12) | (s << 6) | l
                                                : ((7 & r) << 18) | (s << 12) | (l << 6) | (63 & e[t++])) < 65536
                                    )
                                        a += String.fromCharCode(r);
                                    else {
                                        var u = r - 65536;
                                        a += String.fromCharCode(55296 | (u >> 10), 56320 | (1023 & u));
                                    }
                                } else a += String.fromCharCode(((31 & r) << 6) | s);
                            } else a += String.fromCharCode(r);
                        }
                        return a;
                    }
                    function _(e, t) {
                        return e ? k(v, e, t) : "";
                    }
                    function w(e) {
                        (g = e),
                            (i.HEAP8 = b = new Int8Array(e)),
                            (i.HEAP16 = new Int16Array(e)),
                            (i.HEAP32 = y = new Int32Array(e)),
                            (i.HEAPU8 = v = new Uint8Array(e)),
                            (i.HEAPU16 = new Uint16Array(e)),
                            (i.HEAPU32 = new Uint32Array(e)),
                            (i.HEAPF32 = new Float32Array(e)),
                            (i.HEAPF64 = new Float64Array(e));
                    }
                    i.INITIAL_MEMORY;
                    var P,
                        S = [],
                        A = [],
                        T = [],
                        E = [];
                    A.push({
                        func: function () {
                            K();
                        },
                    });
                    var M = 0,
                        R = null,
                        z = null;
                    function C(e) {
                        i.onAbort && i.onAbort(e),
                            d((e += "")),
                            (p = !0),
                            (e = "abort(" + e + "). Build with -s ASSERTIONS=1 for more info.");
                        var t = new WebAssembly.RuntimeError(e);
                        throw (n(t), t);
                    }
                    function B(e) {
                        return (
                            (t = e),
                            (n = "data:application/octet-stream;base64,"),
                            String.prototype.startsWith ? t.startsWith(n) : 0 === t.indexOf(n)
                        );
                        var t, n;
                    }
                    (i.preloadedImages = {}), (i.preloadedAudios = {});
                    var j,
                        F = "blobmodule.wasm";
                    function L(e) {
                        try {
                            if (e == F && u) return new Uint8Array(u);
                            if (r) return r(e);
                            throw "both async and sync fetching of the wasm failed";
                        } catch (e) {
                            C(e);
                        }
                    }
                    function D(e) {
                        for (; e.length > 0; ) {
                            var t = e.shift();
                            if ("function" != typeof t) {
                                var n = t.func;
                                "number" == typeof n
                                    ? void 0 === t.arg
                                        ? P.get(n)()
                                        : P.get(n)(t.arg)
                                    : n(void 0 === t.arg ? null : t.arg);
                            } else t(i);
                        }
                    }
                    B(F) || ((j = F), (F = i.locateFile ? i.locateFile(j, l) : l + j));
                    var O = 0,
                        I = 4,
                        N = 8,
                        G = 12,
                        H = 13,
                        U = 16;
                    function V(e) {
                        (this.excPtr = e),
                            (this.ptr = e - U),
                            (this.set_type = function (e) {
                                y[(this.ptr + N) >> 2] = e;
                            }),
                            (this.get_type = function () {
                                return y[(this.ptr + N) >> 2];
                            }),
                            (this.set_destructor = function (e) {
                                y[(this.ptr + O) >> 2] = e;
                            }),
                            (this.get_destructor = function () {
                                return y[(this.ptr + O) >> 2];
                            }),
                            (this.set_refcount = function (e) {
                                y[(this.ptr + I) >> 2] = e;
                            }),
                            (this.set_caught = function (e) {
                                (e = e ? 1 : 0), (b[(this.ptr + G) >> 0] = e);
                            }),
                            (this.get_caught = function () {
                                return 0 != b[(this.ptr + G) >> 0];
                            }),
                            (this.set_rethrown = function (e) {
                                (e = e ? 1 : 0), (b[(this.ptr + H) >> 0] = e);
                            }),
                            (this.get_rethrown = function () {
                                return 0 != b[(this.ptr + H) >> 0];
                            }),
                            (this.init = function (e, t) {
                                this.set_type(e),
                                    this.set_destructor(t),
                                    this.set_refcount(0),
                                    this.set_caught(!1),
                                    this.set_rethrown(!1);
                            }),
                            (this.add_ref = function () {
                                var e = y[(this.ptr + I) >> 2];
                                y[(this.ptr + I) >> 2] = e + 1;
                            }),
                            (this.release_ref = function () {
                                var e = y[(this.ptr + I) >> 2];
                                return (y[(this.ptr + I) >> 2] = e - 1), 1 === e;
                            });
                    }
                    function Y(e) {
                        try {
                            return c.grow((e - g.byteLength + 65535) >>> 16), w(c.buffer), 1;
                        } catch (e) {}
                    }
                    var q,
                        W = {
                            mappings: {},
                            buffers: [null, [], []],
                            printChar: function (e, t) {
                                var n = W.buffers[e];
                                0 === t || 10 === t ? ((1 === e ? h : d)(k(n, 0)), (n.length = 0)) : n.push(t);
                            },
                            varargs: void 0,
                            get: function () {
                                return (W.varargs += 4), y[(W.varargs - 4) >> 2];
                            },
                            getStr: function (e) {
                                return _(e);
                            },
                            get64: function (e, t) {
                                return e;
                            },
                        },
                        J = {
                            b: function (e) {
                                return X(e + U) + U;
                            },
                            a: function (e, t, n) {
                                throw (new V(e).init(t, n), e);
                            },
                            d: function () {
                                C();
                            },
                            e: function (e, t, n) {
                                v.copyWithin(e, t, t + n);
                            },
                            f: function (e) {
                                e >>>= 0;
                                var t = v.length;
                                if (e > 2147483648) return !1;
                                for (var n, i, o = 1; o <= 4; o *= 2) {
                                    var a = t * (1 + 0.2 / o);
                                    if (
                                        ((a = Math.min(a, e + 100663296)),
                                        Y(
                                            Math.min(
                                                2147483648,
                                                ((n = Math.max(16777216, e, a)) % (i = 65536) > 0 && (n += i - (n % i)),
                                                n)
                                            )
                                        ))
                                    )
                                        return !0;
                                }
                                return !1;
                            },
                            c: function (e, t, n, i) {
                                for (var o = 0, a = 0; a < n; a++) {
                                    for (var r = y[(t + 8 * a) >> 2], s = y[(t + (8 * a + 4)) >> 2], l = 0; l < s; l++)
                                        W.printChar(e, v[r + l]);
                                    o += s;
                                }
                                return (y[i >> 2] = o), 0;
                            },
                        },
                        K =
                            ((function () {
                                var e = { a: J };
                                function t(e, t) {
                                    var n = e.exports;
                                    (i.asm = n),
                                        w((c = i.asm.g).buffer),
                                        (P = i.asm.Ia),
                                        (function (e) {
                                            if (
                                                (M--,
                                                i.monitorRunDependencies && i.monitorRunDependencies(M),
                                                0 == M && (null !== R && (clearInterval(R), (R = null)), z))
                                            ) {
                                                var t = z;
                                                (z = null), t();
                                            }
                                        })();
                                }
                                function o(e) {
                                    t(e.instance);
                                }
                                function a(t) {
                                    return (
                                        u || "function" != typeof fetch
                                            ? Promise.resolve().then(function () {
                                                  return L(F);
                                              })
                                            : fetch(F, { credentials: "same-origin" })
                                                  .then(function (e) {
                                                      if (!e.ok) throw "failed to load wasm binary file at '" + F + "'";
                                                      return e.arrayBuffer();
                                                  })
                                                  .catch(function () {
                                                      return L(F);
                                                  })
                                    )
                                        .then(function (t) {
                                            return WebAssembly.instantiate(t, e);
                                        })
                                        .then(t, function (e) {
                                            d("failed to asynchronously prepare wasm: " + e), C(e);
                                        });
                                }
                                if ((M++, i.monitorRunDependencies && i.monitorRunDependencies(M), i.instantiateWasm))
                                    try {
                                        return i.instantiateWasm(e, t);
                                    } catch (e) {
                                        return d("Module.instantiateWasm callback failed with error: " + e), !1;
                                    }
                                (u ||
                                "function" != typeof WebAssembly.instantiateStreaming ||
                                B(F) ||
                                "function" != typeof fetch
                                    ? a(o)
                                    : fetch(F, { credentials: "same-origin" }).then(function (t) {
                                          return WebAssembly.instantiateStreaming(t, e).then(o, function (e) {
                                              return (
                                                  d("wasm streaming compile failed: " + e),
                                                  d("falling back to ArrayBuffer instantiation"),
                                                  a(o)
                                              );
                                          });
                                      })
                                ).catch(n);
                            })(),
                            (i.___wasm_call_ctors = function () {
                                return (K = i.___wasm_call_ctors = i.asm.h).apply(null, arguments);
                            })),
                        X =
                            ((i._createBlob = function () {
                                return (i._createBlob = i.asm.i).apply(null, arguments);
                            }),
                            (i._deleteBlob = function () {
                                return (i._deleteBlob = i.asm.j).apply(null, arguments);
                            }),
                            (i._blobStep = function () {
                                return (i._blobStep = i.asm.k).apply(null, arguments);
                            }),
                            (i._blobReset = function () {
                                return (i._blobReset = i.asm.l).apply(null, arguments);
                            }),
                            (i._blobAddImpulse = function () {
                                return (i._blobAddImpulse = i.asm.m).apply(null, arguments);
                            }),
                            (i._blobGetRestMouthCentroid = function () {
                                return (i._blobGetRestMouthCentroid = i.asm.n).apply(null, arguments);
                            }),
                            (i._blobGetMouthCentroid = function () {
                                return (i._blobGetMouthCentroid = i.asm.o).apply(null, arguments);
                            }),
                            (i._blobGetTopIndex = function () {
                                return (i._blobGetTopIndex = i.asm.p).apply(null, arguments);
                            }),
                            (i._blobGetVertexCount = function () {
                                return (i._blobGetVertexCount = i.asm.q).apply(null, arguments);
                            }),
                            (i._blobGetPositions = function () {
                                return (i._blobGetPositions = i.asm.r).apply(null, arguments);
                            }),
                            (i._blobGetRestPositions = function () {
                                return (i._blobGetRestPositions = i.asm.s).apply(null, arguments);
                            }),
                            (i._blobGetNormals = function () {
                                return (i._blobGetNormals = i.asm.t).apply(null, arguments);
                            }),
                            (i._blobGetUVs = function () {
                                return (i._blobGetUVs = i.asm.u).apply(null, arguments);
                            }),
                            (i._blobGetIndices = function () {
                                return (i._blobGetIndices = i.asm.v).apply(null, arguments);
                            }),
                            (i._blobGetIndexCount = function () {
                                return (i._blobGetIndexCount = i.asm.w).apply(null, arguments);
                            }),
                            (i._blobGetRenderingVertexCount = function () {
                                return (i._blobGetRenderingVertexCount = i.asm.x).apply(null, arguments);
                            }),
                            (i._blobGetRenderingPositions = function () {
                                return (i._blobGetRenderingPositions = i.asm.y).apply(null, arguments);
                            }),
                            (i._blobGetRenderingNormals = function () {
                                return (i._blobGetRenderingNormals = i.asm.z).apply(null, arguments);
                            }),
                            (i._blobGetRenderingUVs = function () {
                                return (i._blobGetRenderingUVs = i.asm.A).apply(null, arguments);
                            }),
                            (i._blobGetRenderingSpeeds = function () {
                                return (i._blobGetRenderingSpeeds = i.asm.B).apply(null, arguments);
                            }),
                            (i._blobGetRenderingIndices = function () {
                                return (i._blobGetRenderingIndices = i.asm.C).apply(null, arguments);
                            }),
                            (i._blobGetRenderingIndexCount = function () {
                                return (i._blobGetRenderingIndexCount = i.asm.D).apply(null, arguments);
                            }),
                            (i._blobGetMouthTriangleIndexCount = function () {
                                return (i._blobGetMouthTriangleIndexCount = i.asm.E).apply(null, arguments);
                            }),
                            (i._blobGetMouthTriangleIndices = function () {
                                return (i._blobGetMouthTriangleIndices = i.asm.F).apply(null, arguments);
                            }),
                            (i._blobGetMouthPositionCount = function () {
                                return (i._blobGetMouthPositionCount = i.asm.G).apply(null, arguments);
                            }),
                            (i._blobGetMouthPositions = function () {
                                return (i._blobGetMouthPositions = i.asm.H).apply(null, arguments);
                            }),
                            (i._blobGetMouthUVs = function () {
                                return (i._blobGetMouthUVs = i.asm.I).apply(null, arguments);
                            }),
                            (i._blobRayIntersect = function () {
                                return (i._blobRayIntersect = i.asm.J).apply(null, arguments);
                            }),
                            (i._blobSetDamping = function () {
                                return (i._blobSetDamping = i.asm.K).apply(null, arguments);
                            }),
                            (i._blobSetMouthDamping = function () {
                                return (i._blobSetMouthDamping = i.asm.L).apply(null, arguments);
                            }),
                            (i._blobSetMouthScale = function () {
                                return (i._blobSetMouthScale = i.asm.M).apply(null, arguments);
                            }),
                            (i._blobSetMouthBend = function () {
                                return (i._blobSetMouthBend = i.asm.N).apply(null, arguments);
                            }),
                            (i._blobSetMouthRotation = function () {
                                return (i._blobSetMouthRotation = i.asm.O).apply(null, arguments);
                            }),
                            (i._blobSetMouthNoiseScale = function () {
                                return (i._blobSetMouthNoiseScale = i.asm.P).apply(null, arguments);
                            }),
                            (i._blobSetMouthNoiseOffset = function () {
                                return (i._blobSetMouthNoiseOffset = i.asm.Q).apply(null, arguments);
                            }),
                            (i._blobSetMouthNoiseFrequency = function () {
                                return (i._blobSetMouthNoiseFrequency = i.asm.R).apply(null, arguments);
                            }),
                            (i._blobSetIsDragging = function () {
                                return (i._blobSetIsDragging = i.asm.S).apply(null, arguments);
                            }),
                            (i._blobSetNoiseParameters = function () {
                                return (i._blobSetNoiseParameters = i.asm.T).apply(null, arguments);
                            }),
                            (i._blobSetBreathVolumeScale = function () {
                                return (i._blobSetBreathVolumeScale = i.asm.U).apply(null, arguments);
                            }),
                            (i._blobGetIntersectedRestPosition = function () {
                                return (i._blobGetIntersectedRestPosition = i.asm.V).apply(null, arguments);
                            }),
                            (i._blobGetEye = function () {
                                return (i._blobGetEye = i.asm.W).apply(null, arguments);
                            }),
                            (i._blobGetTongue = function () {
                                return (i._blobGetTongue = i.asm.X).apply(null, arguments);
                            }),
                            (i._blobGetMouthProfilePositions = function () {
                                return (i._blobGetMouthProfilePositions = i.asm.Y).apply(null, arguments);
                            }),
                            (i._blobGetMouthProfileNormals = function () {
                                return (i._blobGetMouthProfileNormals = i.asm.Z).apply(null, arguments);
                            }),
                            (i._blobGetMouthProfileUVs = function () {
                                return (i._blobGetMouthProfileUVs = i.asm._).apply(null, arguments);
                            }),
                            (i._blobGetMouthProfileIndices = function () {
                                return (i._blobGetMouthProfileIndices = i.asm.$).apply(null, arguments);
                            }),
                            (i._blobGetMouthProfileIndexCount = function () {
                                return (i._blobGetMouthProfileIndexCount = i.asm.aa).apply(null, arguments);
                            }),
                            (i._blobGetMouthProfileVertexCount = function () {
                                return (i._blobGetMouthProfileVertexCount = i.asm.ba).apply(null, arguments);
                            }),
                            (i._tongueGetPointCount = function () {
                                return (i._tongueGetPointCount = i.asm.ca).apply(null, arguments);
                            }),
                            (i._tongueGetPositions = function () {
                                return (i._tongueGetPositions = i.asm.da).apply(null, arguments);
                            }),
                            (i._tongueGetTangents = function () {
                                return (i._tongueGetTangents = i.asm.ea).apply(null, arguments);
                            }),
                            (i._tongueGetNormals = function () {
                                return (i._tongueGetNormals = i.asm.fa).apply(null, arguments);
                            }),
                            (i._tongueSetWindForce = function () {
                                return (i._tongueSetWindForce = i.asm.ga).apply(null, arguments);
                            }),
                            (i._tongueSetOscillationScale = function () {
                                return (i._tongueSetOscillationScale = i.asm.ha).apply(null, arguments);
                            }),
                            (i._eyeGetVertexCount = function () {
                                return (i._eyeGetVertexCount = i.asm.ia).apply(null, arguments);
                            }),
                            (i._eyeGetPositions = function () {
                                return (i._eyeGetPositions = i.asm.ja).apply(null, arguments);
                            }),
                            (i._eyeGetRestPositions = function () {
                                return (i._eyeGetRestPositions = i.asm.ka).apply(null, arguments);
                            }),
                            (i._eyeGetNormals = function () {
                                return (i._eyeGetNormals = i.asm.la).apply(null, arguments);
                            }),
                            (i._eyeGetUVs = function () {
                                return (i._eyeGetUVs = i.asm.ma).apply(null, arguments);
                            }),
                            (i._eyeGetCenterPosition = function () {
                                return (i._eyeGetCenterPosition = i.asm.na).apply(null, arguments);
                            }),
                            (i._eyeGetAttachPosition = function () {
                                return (i._eyeGetAttachPosition = i.asm.oa).apply(null, arguments);
                            }),
                            (i._eyeGetIndices = function () {
                                return (i._eyeGetIndices = i.asm.pa).apply(null, arguments);
                            }),
                            (i._eyeGetIndexCount = function () {
                                return (i._eyeGetIndexCount = i.asm.qa).apply(null, arguments);
                            }),
                            (i._blobGetHat = function () {
                                return (i._blobGetHat = i.asm.ra).apply(null, arguments);
                            }),
                            (i._hatGetPointCount = function () {
                                return (i._hatGetPointCount = i.asm.sa).apply(null, arguments);
                            }),
                            (i._hatGetPositions = function () {
                                return (i._hatGetPositions = i.asm.ta).apply(null, arguments);
                            }),
                            (i._hatGetTangents = function () {
                                return (i._hatGetTangents = i.asm.ua).apply(null, arguments);
                            }),
                            (i._hatGetNormals = function () {
                                return (i._hatGetNormals = i.asm.va).apply(null, arguments);
                            }),
                            (i._hatGetBrimPositions = function () {
                                return (i._hatGetBrimPositions = i.asm.wa).apply(null, arguments);
                            }),
                            (i._createRigidMesh = function () {
                                return (i._createRigidMesh = i.asm.xa).apply(null, arguments);
                            }),
                            (i._rigidMeshGetVertexCount = function () {
                                return (i._rigidMeshGetVertexCount = i.asm.ya).apply(null, arguments);
                            }),
                            (i._rigidMeshGetPositions = function () {
                                return (i._rigidMeshGetPositions = i.asm.za).apply(null, arguments);
                            }),
                            (i._rigidMeshGetNormals = function () {
                                return (i._rigidMeshGetNormals = i.asm.Aa).apply(null, arguments);
                            }),
                            (i._rigidMeshGetUVs = function () {
                                return (i._rigidMeshGetUVs = i.asm.Ba).apply(null, arguments);
                            }),
                            (i._rigidMeshGetTangents = function () {
                                return (i._rigidMeshGetTangents = i.asm.Ca).apply(null, arguments);
                            }),
                            (i._rigidMeshGetIndices = function () {
                                return (i._rigidMeshGetIndices = i.asm.Da).apply(null, arguments);
                            }),
                            (i._rigidMeshGetIndexCount = function () {
                                return (i._rigidMeshGetIndexCount = i.asm.Ea).apply(null, arguments);
                            }),
                            (i._rigidMeshGetBottomPoint = function () {
                                return (i._rigidMeshGetBottomPoint = i.asm.Fa).apply(null, arguments);
                            }),
                            (i._malloc = function () {
                                return (X = i._malloc = i.asm.Ga).apply(null, arguments);
                            })),
                        Z =
                            ((i._free = function () {
                                return (i._free = i.asm.Ha).apply(null, arguments);
                            }),
                            (i.stackSave = function () {
                                return (Z = i.stackSave = i.asm.Ja).apply(null, arguments);
                            })),
                        Q = (i.stackRestore = function () {
                            return (Q = i.stackRestore = i.asm.Ka).apply(null, arguments);
                        }),
                        $ = (i.stackAlloc = function () {
                            return ($ = i.stackAlloc = i.asm.La).apply(null, arguments);
                        });
                    function ee(e) {
                        function n() {
                            q ||
                                ((q = !0),
                                (i.calledRun = !0),
                                p ||
                                    (D(A),
                                    D(T),
                                    t(i),
                                    i.onRuntimeInitialized && i.onRuntimeInitialized(),
                                    (function () {
                                        if (i.postRun)
                                            for (
                                                "function" == typeof i.postRun && (i.postRun = [i.postRun]);
                                                i.postRun.length;

                                            )
                                                (e = i.postRun.shift()), E.unshift(e);
                                        var e;
                                        D(E);
                                    })()));
                        }
                        (e = e || s),
                            M > 0 ||
                                ((function () {
                                    if (i.preRun)
                                        for (
                                            "function" == typeof i.preRun && (i.preRun = [i.preRun]);
                                            i.preRun.length;

                                        )
                                            (e = i.preRun.shift()), S.unshift(e);
                                    var e;
                                    D(S);
                                })(),
                                M > 0 ||
                                    (i.setStatus
                                        ? (i.setStatus("Running..."),
                                          setTimeout(function () {
                                              setTimeout(function () {
                                                  i.setStatus("");
                                              }, 1),
                                                  n();
                                          }, 1))
                                        : n()));
                    }
                    if (
                        ((i.ccall = f),
                        (i.cwrap = function (e, t, n, i) {
                            var o = (n = n || []).every(function (e) {
                                return "number" === e;
                            });
                            return "string" !== t && o && !i
                                ? m(e)
                                : function () {
                                      return f(e, t, n, arguments);
                                  };
                        }),
                        (z = function e() {
                            q || ee(), q || (z = e);
                        }),
                        (i.run = ee),
                        i.preInit)
                    )
                        for ("function" == typeof i.preInit && (i.preInit = [i.preInit]); i.preInit.length > 0; )
                            i.preInit.pop()();
                    return ee(), e.ready;
                }),
            pt = n(19),
            mt = n(8),
            ft = (function () {
                var e = "undefined" != typeof document && document.currentScript ? document.currentScript.src : void 0;
                return function (t) {
                    var n,
                        i,
                        o = void 0 !== (t = t || {}) ? t : {};
                    o.ready = new Promise(function (e, t) {
                        (n = e), (i = t);
                    });
                    var a,
                        r = {};
                    for (a in o) o.hasOwnProperty(a) && (r[a] = o[a]);
                    var s,
                        l = [],
                        u = "";
                    "undefined" != typeof document && document.currentScript && (u = document.currentScript.src),
                        e && (u = e),
                        (u = 0 !== u.indexOf("blob:") ? u.substr(0, u.lastIndexOf("/") + 1) : "");
                    o.print || console.log.bind(console);
                    var c,
                        h,
                        d = o.printErr || console.warn.bind(console);
                    for (a in r) r.hasOwnProperty(a) && (o[a] = r[a]);
                    (r = null),
                        o.arguments && (l = o.arguments),
                        o.thisProgram && o.thisProgram,
                        o.quit && o.quit,
                        o.wasmBinary && (c = o.wasmBinary),
                        o.noExitRuntime && o.noExitRuntime,
                        "object" != typeof WebAssembly && R("no native wasm support detected");
                    var p = !1;
                    function m(e) {
                        var t,
                            n = o["_" + e];
                        return (
                            (t = "Cannot call unknown function " + e + ", make sure it is exported"),
                            n || R("Assertion failed: " + t),
                            n
                        );
                    }
                    function f(e, t, n, i, o) {
                        var a = {
                            string: function (e) {
                                var t = 0;
                                if (null != e && 0 !== e) {
                                    var n = 1 + (e.length << 2);
                                    (function (e, t, n) {
                                        (function (e, t, n, i) {
                                            if (!(i > 0)) return 0;
                                            for (var o = n, a = n + i - 1, r = 0; r < e.length; ++r) {
                                                var s = e.charCodeAt(r);
                                                if (s >= 55296 && s <= 57343) {
                                                    var l = e.charCodeAt(++r);
                                                    s = (65536 + ((1023 & s) << 10)) | (1023 & l);
                                                }
                                                if (s <= 127) {
                                                    if (n >= a) break;
                                                    t[n++] = s;
                                                } else if (s <= 2047) {
                                                    if (n + 1 >= a) break;
                                                    (t[n++] = 192 | (s >> 6)), (t[n++] = 128 | (63 & s));
                                                } else if (s <= 65535) {
                                                    if (n + 2 >= a) break;
                                                    (t[n++] = 224 | (s >> 12)),
                                                        (t[n++] = 128 | ((s >> 6) & 63)),
                                                        (t[n++] = 128 | (63 & s));
                                                } else {
                                                    if (n + 3 >= a) break;
                                                    (t[n++] = 240 | (s >> 18)),
                                                        (t[n++] = 128 | ((s >> 12) & 63)),
                                                        (t[n++] = 128 | ((s >> 6) & 63)),
                                                        (t[n++] = 128 | (63 & s));
                                                }
                                            }
                                            t[n] = 0;
                                        })(e, v, t, n);
                                    })(e, (t = X(n)), n);
                                }
                                return t;
                            },
                            array: function (e) {
                                var t = X(e.length);
                                return (
                                    (function (e, t) {
                                        b.set(e, t);
                                    })(e, t),
                                    t
                                );
                            },
                        };
                        var r = m(e),
                            s = [],
                            l = 0;
                        if (i)
                            for (var u = 0; u < i.length; u++) {
                                var c = a[n[u]];
                                c ? (0 === l && (l = J()), (s[u] = c(i[u]))) : (s[u] = i[u]);
                            }
                        var h = r.apply(null, s);
                        return (
                            (h = (function (e) {
                                return "string" === t
                                    ? (n = e)
                                        ? (function (e, t, n) {
                                              for (var i = t + n, o = t; e[o] && !(o >= i); ) ++o;
                                              if (o - t > 16 && e.subarray && x) return x.decode(e.subarray(t, o));
                                              for (var a = ""; t < o; ) {
                                                  var r = e[t++];
                                                  if (128 & r) {
                                                      var s = 63 & e[t++];
                                                      if (192 != (224 & r)) {
                                                          var l = 63 & e[t++];
                                                          if (
                                                              (r =
                                                                  224 == (240 & r)
                                                                      ? ((15 & r) << 12) | (s << 6) | l
                                                                      : ((7 & r) << 18) |
                                                                        (s << 12) |
                                                                        (l << 6) |
                                                                        (63 & e[t++])) < 65536
                                                          )
                                                              a += String.fromCharCode(r);
                                                          else {
                                                              var u = r - 65536;
                                                              a += String.fromCharCode(
                                                                  55296 | (u >> 10),
                                                                  56320 | (1023 & u)
                                                              );
                                                          }
                                                      } else a += String.fromCharCode(((31 & r) << 6) | s);
                                                  } else a += String.fromCharCode(r);
                                              }
                                              return a;
                                          })(v, n, i)
                                        : ""
                                    : "boolean" === t
                                    ? Boolean(e)
                                    : e;
                                var n, i;
                            })(h)),
                            0 !== l && K(l),
                            h
                        );
                    }
                    var g,
                        b,
                        v,
                        y,
                        x = "undefined" != typeof TextDecoder ? new TextDecoder("utf8") : void 0;
                    function k(e) {
                        (g = e),
                            (o.HEAP8 = b = new Int8Array(e)),
                            (o.HEAP16 = new Int16Array(e)),
                            (o.HEAP32 = y = new Int32Array(e)),
                            (o.HEAPU8 = v = new Uint8Array(e)),
                            (o.HEAPU16 = new Uint16Array(e)),
                            (o.HEAPU32 = new Uint32Array(e)),
                            (o.HEAPF32 = new Float32Array(e)),
                            (o.HEAPF64 = new Float64Array(e));
                    }
                    o.INITIAL_MEMORY;
                    var _,
                        w = [],
                        P = [],
                        S = [],
                        A = [];
                    P.push({
                        func: function () {
                            q();
                        },
                    });
                    var T = 0,
                        E = null,
                        M = null;
                    function R(e) {
                        o.onAbort && o.onAbort(e),
                            d((e += "")),
                            (p = !0),
                            1,
                            (e = "abort(" + e + "). Build with -s ASSERTIONS=1 for more info.");
                        var t = new WebAssembly.RuntimeError(e);
                        throw (i(t), t);
                    }
                    (o.preloadedImages = {}), (o.preloadedAudios = {});
                    function z(e) {
                        return (
                            (t = e),
                            (n = "data:application/octet-stream;base64,"),
                            String.prototype.startsWith ? t.startsWith(n) : 0 === t.indexOf(n)
                        );
                        var t, n;
                    }
                    var C,
                        B = "synthmodule.wasm";
                    function j(e) {
                        try {
                            if (e == B && c) return new Uint8Array(c);
                            if (s) return s(e);
                            throw "both async and sync fetching of the wasm failed";
                        } catch (e) {
                            R(e);
                        }
                    }
                    function F(e) {
                        for (; e.length > 0; ) {
                            var t = e.shift();
                            if ("function" != typeof t) {
                                var n = t.func;
                                "number" == typeof n
                                    ? void 0 === t.arg
                                        ? _.get(n)()
                                        : _.get(n)(t.arg)
                                    : n(void 0 === t.arg ? null : t.arg);
                            } else t(o);
                        }
                    }
                    z(B) || ((C = B), (B = o.locateFile ? o.locateFile(C, u) : u + C));
                    var L = 0,
                        D = 4,
                        O = 8,
                        I = 12,
                        N = 13,
                        G = 16;
                    function H(e) {
                        (this.excPtr = e),
                            (this.ptr = e - G),
                            (this.set_type = function (e) {
                                y[(this.ptr + O) >> 2] = e;
                            }),
                            (this.get_type = function () {
                                return y[(this.ptr + O) >> 2];
                            }),
                            (this.set_destructor = function (e) {
                                y[(this.ptr + L) >> 2] = e;
                            }),
                            (this.get_destructor = function () {
                                return y[(this.ptr + L) >> 2];
                            }),
                            (this.set_refcount = function (e) {
                                y[(this.ptr + D) >> 2] = e;
                            }),
                            (this.set_caught = function (e) {
                                (e = e ? 1 : 0), (b[(this.ptr + I) >> 0] = e);
                            }),
                            (this.get_caught = function () {
                                return 0 != b[(this.ptr + I) >> 0];
                            }),
                            (this.set_rethrown = function (e) {
                                (e = e ? 1 : 0), (b[(this.ptr + N) >> 0] = e);
                            }),
                            (this.get_rethrown = function () {
                                return 0 != b[(this.ptr + N) >> 0];
                            }),
                            (this.init = function (e, t) {
                                this.set_type(e),
                                    this.set_destructor(t),
                                    this.set_refcount(0),
                                    this.set_caught(!1),
                                    this.set_rethrown(!1);
                            }),
                            (this.add_ref = function () {
                                var e = y[(this.ptr + D) >> 2];
                                y[(this.ptr + D) >> 2] = e + 1;
                            }),
                            (this.release_ref = function () {
                                var e = y[(this.ptr + D) >> 2];
                                return (y[(this.ptr + D) >> 2] = e - 1), 1 === e;
                            });
                    }
                    function U(e) {
                        try {
                            return h.grow((e - g.byteLength + 65535) >>> 16), k(h.buffer), 1;
                        } catch (e) {}
                    }
                    var V,
                        Y = {
                            e: function (e) {
                                return W(e + G) + G;
                            },
                            d: function (e, t, n) {
                                throw (new H(e).init(t, n), e, e);
                            },
                            a: function () {
                                R();
                            },
                            b: function (e, t, n) {
                                v.copyWithin(e, t, t + n);
                            },
                            c: function (e) {
                                e >>>= 0;
                                var t = v.length;
                                if (e > 2147483648) return !1;
                                for (var n, i, o = 1; o <= 4; o *= 2) {
                                    var a = t * (1 + 0.2 / o);
                                    if (
                                        ((a = Math.min(a, e + 100663296)),
                                        U(
                                            Math.min(
                                                2147483648,
                                                ((n = Math.max(16777216, e, a)) % (i = 65536) > 0 && (n += i - (n % i)),
                                                n)
                                            )
                                        ))
                                    )
                                        return !0;
                                }
                                return !1;
                            },
                        },
                        q =
                            ((function () {
                                var e = { a: Y };
                                function t(e, t) {
                                    var n = e.exports;
                                    (o.asm = n),
                                        k((h = o.asm.f).buffer),
                                        (_ = o.asm.F),
                                        (function (e) {
                                            if (
                                                (T--,
                                                o.monitorRunDependencies && o.monitorRunDependencies(T),
                                                0 == T && (null !== E && (clearInterval(E), (E = null)), M))
                                            ) {
                                                var t = M;
                                                (M = null), t();
                                            }
                                        })();
                                }
                                function n(e) {
                                    t(e.instance);
                                }
                                function a(t) {
                                    return (
                                        c || "function" != typeof fetch
                                            ? Promise.resolve().then(function () {
                                                  return j(B);
                                              })
                                            : fetch(B, { credentials: "same-origin" })
                                                  .then(function (e) {
                                                      if (!e.ok) throw "failed to load wasm binary file at '" + B + "'";
                                                      return e.arrayBuffer();
                                                  })
                                                  .catch(function () {
                                                      return j(B);
                                                  })
                                    )
                                        .then(function (t) {
                                            return WebAssembly.instantiate(t, e);
                                        })
                                        .then(t, function (e) {
                                            d("failed to asynchronously prepare wasm: " + e), R(e);
                                        });
                                }
                                if ((T++, o.monitorRunDependencies && o.monitorRunDependencies(T), o.instantiateWasm))
                                    try {
                                        return o.instantiateWasm(e, t);
                                    } catch (e) {
                                        return d("Module.instantiateWasm callback failed with error: " + e), !1;
                                    }
                                (c ||
                                "function" != typeof WebAssembly.instantiateStreaming ||
                                z(B) ||
                                "function" != typeof fetch
                                    ? a(n)
                                    : fetch(B, { credentials: "same-origin" }).then(function (t) {
                                          return WebAssembly.instantiateStreaming(t, e).then(n, function (e) {
                                              return (
                                                  d("wasm streaming compile failed: " + e),
                                                  d("falling back to ArrayBuffer instantiation"),
                                                  a(n)
                                              );
                                          });
                                      })
                                ).catch(i);
                            })(),
                            (o.___wasm_call_ctors = function () {
                                return (q = o.___wasm_call_ctors = o.asm.g).apply(null, arguments);
                            })),
                        W =
                            ((o._createSynth = function () {
                                return (o._createSynth = o.asm.h).apply(null, arguments);
                            }),
                            (o._synthGetBuffer = function () {
                                return (o._synthGetBuffer = o.asm.i).apply(null, arguments);
                            }),
                            (o._synthStep = function () {
                                return (o._synthStep = o.asm.j).apply(null, arguments);
                            }),
                            (o._synthHasEnoughExcitationFrames = function () {
                                return (o._synthHasEnoughExcitationFrames = o.asm.k).apply(null, arguments);
                            }),
                            (o._synthHasEnoughSpectralFrames = function () {
                                return (o._synthHasEnoughSpectralFrames = o.asm.l).apply(null, arguments);
                            }),
                            (o._synthSetOnlyNoise = function () {
                                return (o._synthSetOnlyNoise = o.asm.m).apply(null, arguments);
                            }),
                            (o._synthGetVoice = function () {
                                return (o._synthGetVoice = o.asm.n).apply(null, arguments);
                            }),
                            (o._voiceAddSpectralFrame = function () {
                                return (o._voiceAddSpectralFrame = o.asm.o).apply(null, arguments);
                            }),
                            (o._voiceAddExcitationFrame = function () {
                                return (o._voiceAddExcitationFrame = o.asm.p).apply(null, arguments);
                            }),
                            (o._voiceSetGain = function () {
                                return (o._voiceSetGain = o.asm.q).apply(null, arguments);
                            }),
                            (o._createSpectralFrame = function () {
                                return (o._createSpectralFrame = o.asm.r).apply(null, arguments);
                            }),
                            (o._spectralFrameReset = function () {
                                return (o._spectralFrameReset = o.asm.s).apply(null, arguments);
                            }),
                            (o._spectralFrameGetSpectrogram = function () {
                                return (o._spectralFrameGetSpectrogram = o.asm.t).apply(null, arguments);
                            }),
                            (o._createExcitationFrame = function () {
                                return (o._createExcitationFrame = o.asm.u).apply(null, arguments);
                            }),
                            (o._excitationFrameReset = function () {
                                return (o._excitationFrameReset = o.asm.v).apply(null, arguments);
                            }),
                            (o._excitationFrameGetAperiodic = function () {
                                return (o._excitationFrameGetAperiodic = o.asm.w).apply(null, arguments);
                            }),
                            (o._excitationFrameGetPeriodic = function () {
                                return (o._excitationFrameGetPeriodic = o.asm.x).apply(null, arguments);
                            }),
                            (o._clearBuffer = function () {
                                return (o._clearBuffer = o.asm.y).apply(null, arguments);
                            }),
                            (o._copyBuffer = function () {
                                return (o._copyBuffer = o.asm.z).apply(null, arguments);
                            }),
                            (o._createReverbContext = function () {
                                return (o._createReverbContext = o.asm.A).apply(null, arguments);
                            }),
                            (o._createDCReverbContext = function () {
                                return (o._createDCReverbContext = o.asm.B).apply(null, arguments);
                            }),
                            (o._reverbContextProcess = function () {
                                return (o._reverbContextProcess = o.asm.C).apply(null, arguments);
                            }),
                            (o._heavySendMessage = function () {
                                return (o._heavySendMessage = o.asm.D).apply(null, arguments);
                            }),
                            (o._synthBenchmarkSpectrumGeneration = function () {
                                return (o._synthBenchmarkSpectrumGeneration = o.asm.E).apply(null, arguments);
                            }),
                            (o._malloc = function () {
                                return (W = o._malloc = o.asm.G).apply(null, arguments);
                            })),
                        J =
                            ((o._free = function () {
                                return (o._free = o.asm.H).apply(null, arguments);
                            }),
                            (o.stackSave = function () {
                                return (J = o.stackSave = o.asm.I).apply(null, arguments);
                            })),
                        K = (o.stackRestore = function () {
                            return (K = o.stackRestore = o.asm.J).apply(null, arguments);
                        }),
                        X = (o.stackAlloc = function () {
                            return (X = o.stackAlloc = o.asm.K).apply(null, arguments);
                        });
                    function Z(e) {
                        function t() {
                            V ||
                                ((V = !0),
                                (o.calledRun = !0),
                                p ||
                                    (!0,
                                    F(P),
                                    F(S),
                                    n(o),
                                    o.onRuntimeInitialized && o.onRuntimeInitialized(),
                                    (function () {
                                        if (o.postRun)
                                            for (
                                                "function" == typeof o.postRun && (o.postRun = [o.postRun]);
                                                o.postRun.length;

                                            )
                                                (e = o.postRun.shift()), A.unshift(e);
                                        var e;
                                        F(A);
                                    })()));
                        }
                        (e = e || l),
                            T > 0 ||
                                (!(function () {
                                    if (o.preRun)
                                        for (
                                            "function" == typeof o.preRun && (o.preRun = [o.preRun]);
                                            o.preRun.length;

                                        )
                                            (e = o.preRun.shift()), w.unshift(e);
                                    var e;
                                    F(w);
                                })(),
                                T > 0 ||
                                    (o.setStatus
                                        ? (o.setStatus("Running..."),
                                          setTimeout(function () {
                                              setTimeout(function () {
                                                  o.setStatus("");
                                              }, 1),
                                                  t();
                                          }, 1))
                                        : t()));
                    }
                    if (
                        ((o.ccall = f),
                        (o.cwrap = function (e, t, n, i) {
                            var o = (n = n || []).every(function (e) {
                                return "number" === e;
                            });
                            return "string" !== t && o && !i
                                ? m(e)
                                : function () {
                                      return f(e, t, n, arguments);
                                  };
                        }),
                        (M = function e() {
                            V || Z(), V || (M = e);
                        }),
                        (o.run = Z),
                        o.preInit)
                    )
                        for ("function" == typeof o.preInit && (o.preInit = [o.preInit]); o.preInit.length > 0; )
                            o.preInit.pop()();
                    return !0, Z(), t.ready;
                };
            })(),
            gt = n(4);
        function bt() {
            return (
                null !==
                (null !== navigator.userAgent.match(/Android/i) ||
                    null !== navigator.userAgent.match(/webOS/i) ||
                    null !== navigator.userAgent.match(/iPhone/i) ||
                    null !== navigator.userAgent.match(/iPad/i) ||
                    null !== navigator.userAgent.match(/iPod/i) ||
                    null !== navigator.userAgent.match(/BlackBerry/i) ||
                    navigator.userAgent.match(/Windows Phone/i))
            );
        }
        function vt() {
            return null !== navigator.userAgent.match(/Android/i);
        }
        function yt() {
            return (
                ["iPad Simulator", "iPhone Simulator", "iPod Simulator", "iPad", "iPhone", "iPod"].includes(
                    navigator.platform
                ) ||
                (navigator.userAgent.includes("Mac") && "ontouchend" in document)
            );
        }
        var xt = n(14),
            kt = n(12);
        var _t = (function () {
                function e(e) {
                    (this.sampleCount = e), (this.samples = []);
                }
                return (
                    (e.prototype.add = function (e) {
                        this.samples.length === this.sampleCount && this.samples.splice(0, 1), this.samples.push(e);
                    }),
                    (e.prototype.get = function () {
                        if (0 === this.samples.length) return 0;
                        for (var e = 0, t = 0; t < this.samples.length; ++t) e += this.samples[t];
                        return e / this.samples.length;
                    }),
                    (e.prototype.enoughSamples = function () {
                        return this.samples.length === this.sampleCount;
                    }),
                    e
                );
            })(),
            wt = (function () {
                function e(e, t, n, i, o, a, r, s, l, u) {
                    var c = this;
                    (this.timingEnabled = !0),
                        (this.onFrameUsed = null),
                        (this.audioContext = t),
                        (this.scriptNode = this.audioContext.createScriptProcessor(u, 0, 2)),
                        (this.audioParameters = l),
                        (this.synth = new pt.a(e, n, i, o, a, r, s, l, u)),
                        (this.synth.onFrameUsed = function (e) {
                            c.onFrameUsed && c.onFrameUsed(e);
                        });
                    var h = Math.floor((5 * t.sampleRate) / u);
                    (this.runningAverage = new _t(h)), (this.bufferSize = l.scriptProcessorBufferSize);
                }
                return (
                    (e.prototype.start = function () {
                        var e = this,
                            t = (1e3 * this.bufferSize) / this.synth.sampleRate;
                        (this.scriptNode.onaudioprocess = function (n) {
                            var i = [n.outputBuffer.getChannelData(0), n.outputBuffer.getChannelData(1)],
                                o = performance.now();
                            e.synth.process(i, e.scriptNode.bufferSize);
                            var a = performance.now() - o;
                            e.timingEnabled && e.runningAverage.add(t / Math.max(1, a));
                        }),
                            this.scriptNode.connect(this.audioContext.destination);
                    }),
                    (e.prototype.setTimingEnabled = function (e) {
                        this.timingEnabled = e;
                    }),
                    (e.prototype.getAverageTime = function () {
                        return this.runningAverage.get();
                    }),
                    (e.prototype.getEnoughSamples = function () {
                        return this.runningAverage.enoughSamples();
                    }),
                    (e.prototype.setPans = function (e) {
                        this.synth.setPans(e);
                    }),
                    (e.prototype.addSpectralFrame = function (e, t) {
                        this.synth.addSpectralFrame(e, t);
                    }),
                    (e.prototype.addExcitationFrame = function (e, t) {
                        this.synth.addExcitationFrame(e, t);
                    }),
                    (e.prototype.setOverrideFrequency = function (e, t) {
                        this.synth.setOverrideFrequency(e, t);
                    }),
                    (e.prototype.addOverrideF0 = function (e, t) {
                        this.synth.addOverrideF0(e, t);
                    }),
                    (e.prototype.setAudioParameters = function (e) {
                        this.synth.setAudioParameters(e);
                    }),
                    e
                );
            })();
        var Pt = [32e3, 24e3, 22050];
        function St(e, t, i, o, a) {
            for (var r = 1; Math.floor(e.sampleRate / r) > a; ) r *= 2;
            for (var s = e.sampleRate / r, l = 0, u = 0; u < Pt.length && !((l = Pt[u]) <= s); ++u);
            var c = Object(gt.a)("seeds" + l.toFixed(0) + ".flat"),
                h = null;
            return (
                (h =
                    !(function (e) {
                        return (
                            e.audioWorklet &&
                            e.audioWorklet instanceof AudioWorklet &&
                            "function" == typeof e.audioWorklet.addModule &&
                            window.AudioWorkletNode
                        );
                    })(e) ||
                    (!navigator.userAgent.includes("Chrome/89") && !navigator.userAgent.includes("Chrome/90")) ||
                    yt()
                        ? (function (e, t, n, i, o, a, r) {
                              var s = Object(xt.a)();
                              return Promise.all([
                                  ft({
                                      locateFile: function (e, t) {
                                          return (
                                              (e += Object(kt.a)()),
                                              s ? Object(gt.a)(e.replace(".wasm", "-simd.wasm")) : Object(gt.a)(e)
                                          );
                                      },
                                  }),
                                  Object(mt.a)(n),
                                  Object(mt.a)(i),
                              ]).then(function (n) {
                                  return new wt(
                                      e,
                                      t,
                                      n[0],
                                      new Uint8Array(n[1]),
                                      new Uint8Array(n[2]),
                                      t.sampleRate,
                                      a,
                                      r,
                                      o,
                                      o.scriptProcessorBufferSize
                                  );
                              });
                          })(t, e, c, i, o, s, l)
                        : n
                              .e(4)
                              .then(n.bind(null, 48))
                              .then(function (n) {
                                  return n.createAudioWorkletSynthRunner(t, e, c, i, o, s, l);
                              })),
                Promise.all([h, At(e, "applause", "./files/applause.mp3")]).then(function (t) {
                    return new Mt(e, t[0], new Tt(e, { applause: t[1] }), s);
                })
            );
        }
        function At(e, t, n) {
            return fetch(n)
                .then(function (e) {
                    return e.arrayBuffer();
                })
                .then(function (n) {
                    return new Promise(function (i, o) {
                        e.decodeAudioData(
                            n,
                            function (e) {
                                i({ name: t, audioBuffer: e });
                            },
                            function (e) {
                                i(null);
                            }
                        );
                    });
                });
        }
        var Tt = (function () {
            function e(e, t) {
                (this.samples = {}), (this.audioContext = e), (this.samples = t);
            }
            return (
                (e.prototype.addSample = function (e, t) {
                    this.samples[e] = t;
                }),
                (e.prototype.play = function (e) {
                    var t = this.samples[e];
                    if (t) {
                        var n = this.audioContext.createBufferSource();
                        (n.buffer = t.audioBuffer), (n.loop = !1);
                        var i = this.audioContext.createGain();
                        (i.gain.value = 0.2), n.connect(i), i.connect(this.audioContext.destination), n.start(0);
                        var o = t.audioBuffer.length / t.audioBuffer.sampleRate;
                        window.setTimeout(function () {
                            n.stop(), i.disconnect(), n.disconnect();
                        }, 1e3 * (o + 3));
                    }
                }),
                e
            );
        })();
        function Et(e, t) {
            var n;
            for (n = t; e > 1; e--) n += t;
            return n;
        }
        var Mt = (function () {
            function e(e, t, n, i) {
                (this.hasPlayedTrack = !1),
                    (this.audioContext = e),
                    (this.synthRunner = t),
                    (this.sampleRate = e.sampleRate),
                    (this.samplePlayer = n),
                    (this.processingSampleRate = i),
                    this.audioContext.resume();
            }
            return (
                (e.prototype.start = function () {
                    this.audioContext.resume(), this.synthRunner.start();
                    var e = this.audioContext,
                        t = e.createBuffer(1, 1, e.sampleRate),
                        n = e.createBufferSource();
                    (n.buffer = t), n.connect(e.destination), n.start(0);
                }),
                (e.prototype.tryUnlock = function () {
                    if (yt() && !this.hasPlayedTrack) {
                        var e = document.createElement("div");
                        (e.innerHTML = "<audio x-webkit-airplay='deny'></audio>"),
                            (this.tag = e.children.item(0)),
                            (this.tag.controls = !1),
                            (this.tag.disableRemotePlayback = !0),
                            (this.tag.preload = "auto"),
                            (this.tag.src =
                                "data:audio/mpeg;base64,//uQx" +
                                Et(23, "A") +
                                "WGluZwAAAA8AAAACAAACcQCA" +
                                Et(16, "gICA") +
                                Et(66, "/") +
                                "8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkI" +
                                Et(320, "A") +
                                "//sQxAADgnABGiAAQBCqgCRMAAgEAH" +
                                Et(15, "/") +
                                "7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq" +
                                Et(18, "/") +
                                "9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAw" +
                                Et(97, "V") +
                                "Q=="),
                            (this.tag.loop = !0),
                            this.tag.load();
                        try {
                            this.tag.play();
                        } catch (e) {}
                        this.hasPlayedTrack = !0;
                    }
                    this.audioContext.resume();
                }),
                (e.prototype.isMuted = function () {
                    return "running" !== this.audioContext.state;
                }),
                (e.prototype.suspend = function () {
                    this.audioContext.suspend();
                }),
                (e.prototype.resume = function () {
                    this.audioContext.resume();
                }),
                e
            );
        })();
        var Rt = (function () {
            function e(e) {
                var t = this;
                (this.queuedPromises = []),
                    (this.worker = e),
                    (this.worker.onmessage = function (e) {
                        var n = e.data;
                        "Notes" === n.type && (t.queuedPromises[0](n.notes), t.queuedPromises.splice(0, 1));
                    });
            }
            return (
                (e.prototype.harmonize = function (e) {
                    var t = this;
                    return new Promise(function (n, i) {
                        var o = { note: e };
                        t.queuedPromises.push(n), t.worker.postMessage(o);
                    });
                }),
                e
            );
        })();
        function zt(e, t) {
            for (var n = [], i = 0; i < t; ++i) n.push(new Worker(Object(gt.a)("voicenetworker.js" + Object(kt.a)())));
            return Promise.all([
                Object(mt.a)(Object(gt.a)("spectral.flat")),
                Object(mt.a)(Object(gt.a)("aperiodic.flat")),
            ])
                .then(function (i) {
                    var o = new Uint8Array(i[0]),
                        a = new Uint8Array(i[1]),
                        r = {
                            type: "Init",
                            streamCount: Math.ceil(e / t),
                            spectralParametersBuffer: o,
                            aperiodicParametersBuffer: a,
                        };
                    return Promise.all(
                        n.map(function (e) {
                            return new Promise(function (t, n) {
                                (e.onmessage = function (n) {
                                    var i = n.data;
                                    i instanceof ArrayBuffer || "Loaded" !== i.type || t(e);
                                }),
                                    e.postMessage(r);
                            });
                        })
                    );
                })
                .then(function (n) {
                    return new Ct(e, t, n);
                });
        }
        var Ct = (function () {
                function e(e, t, n) {
                    var i = this;
                    (this.workers = []),
                        (this.listeners = []),
                        (this.framesBeingGenerated = 0),
                        (this.workerCount = t),
                        (this.workers = n);
                    for (var o = 0; o < e; ++o) this.listeners.push([]);
                    for (
                        var a = function (e) {
                                r.workers[e].onmessage = function (t) {
                                    var n = t.data;
                                    if ("Frames" === n.type) {
                                        (i.framesBeingGenerated -= n.excitationFrames.length),
                                            i.framesBeingGenerated < 0 && (i.framesBeingGenerated = 0);
                                        for (
                                            var o = new be.a(n.spectralFrame),
                                                a = o.getId(),
                                                r = e + a * i.workerCount,
                                                s = n.excitationFrames.map(function (e) {
                                                    return new ve.a(e);
                                                }),
                                                l = 0,
                                                u = i.listeners[r];
                                            l < u.length;
                                            l++
                                        ) {
                                            (0, u[l])(o, s);
                                        }
                                    }
                                };
                            },
                            r = this,
                            s = 0;
                        s < this.workers.length;
                        ++s
                    )
                        a(s);
                }
                return (
                    (e.prototype.generate = function (e, t, n) {
                        this.framesBeingGenerated += n.length;
                        var i = e % this.workerCount,
                            o = Math.floor(e / this.workerCount);
                        t.setId(o);
                        for (var a = 0, r = n; a < r.length; a++) {
                            r[a].setId(o);
                        }
                        var s = {
                                type: "Generate",
                                spectralFrame: t.buffer,
                                excitationFrames: n.map(function (e) {
                                    return e.buffer;
                                }),
                            },
                            l = [t.buffer].concat(s.excitationFrames);
                        this.workers[i].postMessage(s, l);
                    }),
                    (e.prototype.addListener = function (e, t) {
                        this.listeners[e].push(t);
                    }),
                    (e.prototype.setParameters = function (e) {
                        for (var t = 0, n = this.workers; t < n.length; t++) {
                            var i = { type: "Parameters", parameters: e };
                            n[t].postMessage(i);
                        }
                    }),
                    e
                );
            })(),
            Bt = n(37);
        window.Bt = Bt; // This is for making the storing custom song available globally for customsong.html
        for (
            var jt = (function () {
                    function e() {}
                    // Function to open IndexedDB
                    function openIndexedDB() {
                        return new Promise(function (resolve, reject) {
                            var request = indexedDB.open("RecordingsDB", 1);
                            request.onupgradeneeded = function (event) {
                                var db = event.target.result;
                                db.createObjectStore("recordings", { keyPath: "id" });
                            };
                            request.onsuccess = function (event) {
                                resolve(event.target.result);
                            };
                            request.onerror = function (event) {
                                reject("Error opening IndexedDB: " + event.target.errorCode);
                            };
                        });
                    }
                    // Generate unique ID for IndexedDB
                    function generateUniqueId() {
                        return Date.now() + "-" + Math.random().toString(36).substring(2, 10);
                    }
                    return (
                        (e.prototype.loadRecording = function (t) {
                            return (function (e) {
                                return e.length && !e.match(/[.$\[\]#\/]/);
                            })(t)
                                ? fetch(e.ROUTE + "/" + t)
                                      .then(function (e) {
                                          if (!e.ok) throw Error(e.statusText);
                                          return e.json();
                                      })
                                      .then(function (e) {
                                          return fetch(e.url);
                                      })
                                      .then(function (e) {
                                          return e.arrayBuffer();
                                      })
                                      .then(function (e) {
                                          return Bt.RecordingMessage.decode(new Uint8Array(e));
                                      })
                                      .catch(function () {
                                          return openIndexedDB().then(function (db) {
                                              return new Promise(function (resolve, reject) {
                                                  var transaction = db.transaction(["recordings"], "readonly");
                                                  var store = transaction.objectStore("recordings");
                                                  var request = store.get(t);
                                                  request.onsuccess = function (event) {
                                                      var result = event.target.result;
                                                      if (result) {
                                                          resolve(
                                                              Bt.RecordingMessage.decode(new Uint8Array(result.data))
                                                          );
                                                      } else {
                                                          reject("Recording not found in IndexedDB");
                                                      }
                                                  };
                                                  request.onerror = function (event) {
                                                      reject(
                                                          "Error retrieving recording from IndexedDB: " +
                                                              event.target.errorCode
                                                      );
                                                  };
                                              });
                                          });
                                      })
                                : Promise.reject("Invalid recording ID");
                        }),
                        (e.prototype.saveRecording = function (t) {
                            console.log(t);
                            var n = Bt.RecordingMessage.encode(t).finish();
                            if (!t.id) {
                                t.id = generateUniqueId(); // Generate a unique ID if it is missing
                            }
                            return openIndexedDB().then(function (db) {
                                return new Promise(function (resolve, reject) {
                                    var transaction = db.transaction(["recordings"], "readwrite");
                                    var store = transaction.objectStore("recordings");
                                    var date = new Date().toISOString();
                                    var request = store.put({ id: t.id, data: n, date: date });
                                    request.onsuccess = function () {
                                        resolve({ id: t.id });
                                    };
                                    request.onerror = function (event) {
                                        reject("Error saving recording to IndexedDB: " + event.target.errorCode);
                                    };
                                });
                            });
                        }),
                        (e.ROUTE = "./files/recording"),
                        e
                    );
                })(),
                Ft =
                    ((function () {
                        function e() {}
                        (e.prototype.loadRecording = function (e) {
                            return new Promise(function (e, t) {});
                        }),
                            (e.prototype.saveRecording = function (e) {
                                return new Promise(function (e, t) {
                                    window.setTimeout(function () {
                                        e({ id: "temp" });
                                    }, 1e3);
                                });
                            });
                    })(),
                    n(39)),
                Lt = {},
                Dt = n.n(Ft).a,
                Ot = Dt[0].slice(1),
                It = 0,
                Nt = Ot;
            It < Nt.length;
            It++
        ) {
            var Gt = Nt[It];
            Lt[Gt] = {};
        }
        for (var Ht = 1; Ht < Dt.length; ++Ht)
            for (var Ut = Dt[Ht], Vt = Ut[0], Yt = 0; Yt < Ot.length; ++Yt) Lt[Ot[Yt]][Vt] = Ut[1 + Yt];
        var qt = (function () {
                var e = function (t, n) {
                    return (e =
                        Object.setPrototypeOf ||
                        ({ __proto__: [] } instanceof Array &&
                            function (e, t) {
                                e.__proto__ = t;
                            }) ||
                        function (e, t) {
                            for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
                        })(t, n);
                };
                return function (t, n) {
                    function i() {
                        this.constructor = t;
                    }
                    e(t, n), (t.prototype = null === n ? Object.create(n) : ((i.prototype = n.prototype), new i()));
                };
            })(),
            Wt = (function () {
                function e() {
                    this.cached = {};
                }
                return (
                    (e.prototype.load = function (e) {
                        var t = this;
                        return e in this.cached
                            ? Promise.resolve(this.cached[e])
                            : this._load(e).then(function (n) {
                                  return (t.cached[e] = n), n;
                              });
                    }),
                    e
                );
            })(),
            Jt = (function (e) {
                function t(t) {
                    var n = e.call(this) || this;
                    return (n.gl = t), n;
                }
                return (
                    qt(t, e),
                    (t.prototype._load = function (e) {
                        var t = this;
                        return Object(mt.b)(e).then(function (e) {
                            var n = t.gl;
                            return s(n, 0, e, n.REPEAT, n.REPEAT, n.LINEAR_MIPMAP_LINEAR, n.LINEAR, !0);
                        });
                    }),
                    t
                );
            })(Wt),
            Kt = (function (e) {
                function t() {
                    return e.call(this) || this;
                }
                return (
                    qt(t, e),
                    (t.prototype._load = function (e) {
                        return Object(mt.a)(e).then(function (e) {
                            return new Uint8Array(e);
                        });
                    }),
                    t
                );
            })(Wt);
        function Xt(e, t) {
            return Promise.all([
                e.load(Object(gt.a)(t.albedoTexturePath)),
                e.load(Object(gt.a)(t.materialTexturePath)),
            ]).then(function (e) {
                return {
                    albedoTexture: e[0],
                    materialMap: e[1],
                    normalScale: void 0 !== t.normalScale ? t.normalScale : 1,
                    hueShift: void 0 !== t.hueShift ? t.hueShift : 0,
                    saturationBoost: void 0 !== t.saturationBoost ? t.saturationBoost : 0,
                    lightnessBoost: void 0 !== t.lightnessBoost ? t.lightnessBoost : 0,
                    f0: void 0 !== t.f0 ? t.f0 : 0.2,
                    roughnessScale: void 0 !== t.roughnessScale ? t.roughnessScale : 1,
                };
            });
        }
        function Zt(e, t, n) {
            return Promise.all([
                Promise.all(
                    n.blobs.map(function (n) {
                        return (function (e, t, n) {
                            var i = n.modelPath.includes("json");
                            return Promise.all([e.load(Object(gt.a)(n.modelPath)), Xt(t, n.body)]).then(function (e) {
                                return {
                                    meshBuffer: e[0],
                                    isJSONMesh: i,
                                    bodyMaterial: e[1],
                                    mouthColor: new Float32Array(
                                        ((t = Object(d.i)(n.mouth.color)), h.a.pow([], t, 2.2))
                                    ),
                                };
                                var t;
                            });
                        })(e, t, n);
                    })
                ),
                Object(mt.b)(Object(gt.a)(n.backgroundImagePath)),
                Object(mt.b)(Object(gt.a)(n.backgroundMaskPath)),
            ]).then(function (e) {
                return { blobAssets: e[0], environmentAssets: { backgroundImage: e[1], backgroundMaskImage: e[2] } };
            });
        }
        function Qt(e, t) {
            for (var n = e.toFixed(0).slice(0, t); n.length < t; ) n = "0" + n;
            return n;
        }
        function $t(e) {
            var t = Math.floor(e / 60),
                n = Math.floor(e % 60),
                i = Math.floor((e % 1) * 100);
            return Qt(t, 2) + ":" + Qt(n, 2) + "." + Qt(i, 2);
        }
        function en(e) {
            e.predicate()
                ? e.hasClass || (e.element.classList.add(e.className), (e.hasClass = !0))
                : e.hasClass && (e.element.classList.remove(e.className), (e.hasClass = !1));
        }
        var tn,
            nn = (function () {
                function e() {
                    this.elements = [];
                }
                return (
                    (e.prototype.add = function (e, t, n) {
                        for (var i = document.querySelectorAll(e), o = 0; o < i.length; ++o)
                            this.elements.push({
                                predicate: n,
                                element: i[o],
                                className: t,
                                hasClass: i[0].classList.contains(t),
                            });
                        return this;
                    }),
                    (e.prototype.update = function () {
                        for (var e = 0, t = this.elements; e < t.length; e++) {
                            en(t[e]);
                        }
                    }),
                    e
                );
            })();
        function on(e) {
            return e === Qe.Main ? "single" : e === Qe.Playing ? "autoplay" : void 0;
        }
        function an(e, t, n, i) {
            var o = document.createElement("li");
            return (
                (o.innerHTML =
                    '\n<div class="list-item-icon">\n    <div class="spinner"></div>\n    <span class="material-icons md-18">' +
                    e +
                    '</span>\n</div>\n<span class="song-name">' +
                    t +
                    '</span>\n<span class="song-description' +
                    ("" == n ? " hidden" : "") +
                    '">' +
                    n +
                    "</span>\n"),
                o.addEventListener("click", i),
                o
            );
        }
        !(function (e) {
            (e[(e.UGC = 0)] = "UGC"), (e[(e.Location = 1)] = "Location"), (e[(e.Festive = 2)] = "Festive");
        })(tn || (tn = {}));
        var rn = (function () {
                function e(e, t, n, i, o, a, r) {
                    var s,
                        l,
                        u = this;
                    (this.controlledElements = new nn()),
                        (this.saveState = { kind: "None" }),
                        (this.locationState = { kind: "None" }),
                        (this.showingInfo = !1),
                        (this.showingFestivePlaylist = !1),
                        (this.showingLocationPlaylist = !1),
                        (this.showingLocationSelector = !1),
                        (this.hasStoppedRecording = !1),
                        (this.hasShownFestivePlaylist = !1),
                        (this.hasShownLocationPlaylist = !1),
                        (this.hasShownLocationSelector = !1),
                        (this.hasShared = !1),
                        (this.hasSharedCarol = !1),
                        (this.hasToggledFestive = !1),
                        (this.hasShownPerformanceWarning = !1),
                        (this.showingPerformanceWarning = !1),
                        (this.config = e),
                        (this.opera = t),
                        this.opera.addStateChangeListener(this.onStateChange.bind(this)),
                        (this.blobCache = a),
                        (this.textureCache = r),
                        (this.environment = n),
                        (this.environment.onLocationChange = this.onLocationChange.bind(this)),
                        (this.language = o),
                        (this.backend = new jt()),
                        (this.festiveConfig =
                            (l = i.festiveTheme) === y.Christmas
                                ? {
                                      kind: y.Christmas,
                                      songs: [
                                          { recordingID: "jinglebells", nameStringID: "song_jingle_bells" },
                                          { recordingID: "silentnight", nameStringID: "song_silent_night" },
                                          { recordingID: "joytotheworld", nameStringID: "song_joy_to_the_world" },
                                          {
                                              recordingID: "harktheheraldangelssing",
                                              nameStringID: "song_hark_the_herald_angels_sing",
                                          },
                                          { recordingID: "awayinamanger", nameStringID: "song_away_in_a_manger" },
                                          {
                                              recordingID: "ocomeallyefaithful",
                                              nameStringID: "song_o_come_all_ye_faithful",
                                          },
                                          { recordingID: "thefirstnoel", nameStringID: "song_the_first_noel" },
                                          {
                                              recordingID: "onceinroyaldavidscity",
                                              nameStringID: "song_once_in_royal_davids_city",
                                          },
                                      ],
                                  }
                                : l === y.NewYears
                                ? {
                                      kind: y.NewYears,
                                      songs: [{ recordingID: "auldlangsyne", nameStringID: "song_auld_lang_syne" }],
                                  }
                                : { kind: y.Normal }),
                        "Recording" === i.kind &&
                            (this.saveState = {
                                kind: "Saved",
                                savedRecordingID: i.recordingID,
                                recordingType: this.getRecordingType(i.recordingID),
                            });
                    var c = document.getElementById("skip"),
                        h = function () {
                            u.opera.skipTutorial(), u.environment.track({ action: "skip-tutorial" });
                            localStorage.setItem("blob-tutorial", "Finished");
                        };
                    c.addEventListener("click", h),
                        c.addEventListener("touchend", h),
                        document.getElementById("record").addEventListener("click", function () {
                            if (u.opera.isRecording) u.endRecording();
                            else {
                                var e = x.BlobperaHouse;
                                "Loaded" === u.locationState.kind &&
                                    (e =
                                        "location_blobpera_house" === (t = u.locationState.locationStringID)
                                            ? x.BlobperaHouse
                                            : "location_london" === t
                                            ? x.London
                                            : "location_new_york" === t
                                            ? x.NewYork
                                            : "location_paris" === t
                                            ? x.Paris
                                            : "location_mexico_city" === t
                                            ? x.MexicoCity
                                            : "location_seoul" === t
                                            ? x.Seoul
                                            : "location_cape_town" === t
                                            ? x.CapeTown
                                            : x.BlobperaHouse),
                                    u.opera.startNewRecording(e),
                                    u.environment.track({ action: "tap-record" });
                            }
                            var t;
                        }),
                        document.getElementById("stop-record").addEventListener("click", function () {
                            u.opera.isRecording && u.endRecording();
                        }),
                        document.getElementById("upload").addEventListener("click", function () {
                            window.location.assign("./customsong.html");
                        }),
                        document.getElementById("save").addEventListener("click", this.saveRecording.bind(this)),
                        document
                            .getElementById("startstop")
                            .addEventListener("click", this.opera.togglePlayback.bind(this.opera)),
                        document.getElementById("play").addEventListener("click", function () {
                            u.opera.enterMain(), u.updateMenus();
                        }),
                        document.getElementById("back").addEventListener("click", function () {
                            u.opera.enterMain(),
                                u.updateMenus(),
                                "Previewing" === u.saveState.kind && u.environment.track({ action: "tap-discard" }),
                                u.environment.track({
                                    action: "tap-back",
                                    label: "Saved" === u.saveState.kind ? u.saveState.savedRecordingID : "",
                                });
                        }),
                        document.getElementById("info").addEventListener("click", function () {
                            u.showingInfo = !u.showingInfo;
                            on(u.opera.state);
                            "Saved" === u.saveState.kind && u.saveState.savedRecordingID,
                                u.environment.track({ action: "tap-question", label: on(u.opera.state) });
                        }),
                        document.getElementById("close-info").addEventListener("click", function () {
                            u.showingInfo = !1;
                        }),
                        document.getElementById("festive-playlist").addEventListener("click", function (e) {
                            e.stopPropagation(),
                                (u.hasShownFestivePlaylist = !0),
                                u.showingFestivePlaylist
                                    ? (u.showingFestivePlaylist = !1)
                                    : ((u.showingFestivePlaylist = !0), (u.hasShownFestivePlaylist = !0)),
                                (u.showingLocationSelector = !1),
                                (u.showingLocationPlaylist = !1);
                        });
                    var d = function (e) {
                            e.stopPropagation(),
                                e.preventDefault(),
                                (u.hasShownLocationPlaylist = !0),
                                (u.showingLocationSelector = !1),
                                (u.showingLocationPlaylist = !u.showingLocationPlaylist),
                                (u.showingFestivePlaylist = !1);
                        },
                        p = function (e) {
                            e.stopPropagation(),
                                e.preventDefault(),
                                (u.hasShownLocationSelector = !0),
                                (u.showingLocationPlaylist = !1),
                                (u.showingLocationSelector = !u.showingLocationSelector),
                                (u.showingFestivePlaylist = !1);
                        };
                    document.getElementById("location-playlist-button").addEventListener("click", d),
                        document.getElementById("location-playlist-button").addEventListener("touchend", d),
                        document.getElementById("location-selector-button").addEventListener("click", p),
                        document.getElementById("location-selector-button").addEventListener("touchend", p);
                    var m = function (e) {
                        e.stopPropagation(),
                            e.preventDefault(),
                            (u.showingFestivePlaylist = !1),
                            (u.showingLocationPlaylist = !1),
                            (u.showingLocationSelector = !1);
                    };
                    t.canvas.addEventListener("click", m),
                        t.canvas.addEventListener("touchend", m),
                        document.getElementById("performance-warning-dismiss").addEventListener("click", function (e) {
                            u.showingPerformanceWarning = !1;
                        });
                    var f = function () {
                            return (
                                (t.state === Qe.Main &&
                                    "Pitch" === t.tutorialState.kind &&
                                    0 === t.tutorialState.notesSung) ||
                                (u.opera.state === Qe.Playing && !t.completedTutorial())
                            );
                        },
                        g = function () {
                            return (
                                u.festiveConfig.kind !== y.Normal &&
                                u.isAtBlobperaHouse() &&
                                ((t.state === Qe.Main && t.completedTutorial() && !t.isRecording) ||
                                    (t.state === Qe.Playing && t.completedTutorial())) &&
                                !u.opera.isDraggingBlob() &&
                                !u.showingInfo
                            );
                        },
                        b = function () {
                            return (
                                g() &&
                                t.festiveEnabled &&
                                ((t.state === Qe.Main && !t.isRecording) ||
                                    (t.state === Qe.Playing &&
                                        ((t.state === Qe.Playing &&
                                            "Saved" === u.saveState.kind &&
                                            u.saveState.recordingType === tn.Festive) ||
                                            ("Loading" === u.saveState.kind &&
                                                u.saveState.recordingType === tn.Festive)))) &&
                                !u.opera.isDraggingBlob()
                            );
                        },
                        v = function () {
                            return (
                                ((t.state === Qe.Main && t.completedTutorial() && !t.isRecording) ||
                                    (t.state === Qe.Playing && t.completedTutorial())) &&
                                !u.opera.isDraggingBlob() &&
                                !u.showingInfo
                            );
                        };
                    this.controlledElements
                        .add("#skip", "visible", function () {
                            return (
                                u.opera.state === Qe.Main &&
                                !(
                                    "Finished" === t.tutorialState.kind ||
                                    ("Pitch" === t.tutorialState.kind && 0 === t.tutorialState.notesSung)
                                ) &&
                                !u.showingInfo
                            );
                        })
                        .add("#info", "visible", function () {
                            return !f() && !u.showingInfo;
                        })
                        .add("#splash", "visible", function () {
                            return f() && !u.showingInfo;
                        })
                        .add("#title-small", "visible", function () {
                            return !f() && !u.showingInfo;
                        })
                        .add("#record-container", "visible", function () {
                            return (
                                u.opera.state === Qe.Main &&
                                t.completedTutorial() &&
                                !t.isRecording &&
                                !t.isDraggingBlob() &&
                                !u.showingInfo
                            );
                        })
                        .add("#upload-container", "visible", function () {
                            return (
                                u.opera.state === Qe.Main &&
                                t.completedTutorial() &&
                                !t.isRecording &&
                                !t.isDraggingBlob() &&
                                !u.showingInfo
                            );
                        })
                        .add("#record-container", "recording", function () {
                            return u.opera.isRecording;
                        })
                        .add("#stop-recording-container", "visible", function () {
                            return u.opera.state === Qe.Main && u.opera.isRecording;
                        })
                        .add("#save-container", "visible", function () {
                            return t.state === Qe.Playing && !u.showingInfo;
                        })
                        .add("#save-container", "saving", function () {
                            return "SaveRequested" === u.saveState.kind;
                        })
                        .add("#discard-container", "visible", function () {
                            return "Previewing" === u.saveState.kind && !u.showingInfo;
                        })
                        .add("#recording-copy-link-container", "visible", function () {
                            return "Saved" === u.saveState.kind && !u.showingInfo;
                        })
                        .add("#startstop-container", "visible", function () {
                            return t.state === Qe.Playing && !u.showingInfo;
                        })
                        .add("#startstop-container", "playing", function () {
                            return t.playing;
                        })
                        .add("#play", "visible", function () {
                            return t.state === Qe.Playing && !t.completedTutorial() && !u.showingInfo;
                        })
                        .add("#back-container", "visible", function () {
                            return t.state === Qe.Playing && t.completedTutorial() && !u.showingInfo;
                        })
                        .add("#muted-container", "visible", function () {
                            return t.state === Qe.Playing && t.audio.isMuted() && !t.suspended;
                        })
                        .add("#festive-switch-container", "visible", function () {
                            return g();
                        })
                        .add("#festive-playlist", "visible", function () {
                            return b();
                        })
                        .add("#info-overlay", "visible", function () {
                            return u.showingInfo;
                        })
                        .add("#share-recording-prompt", "visible", function () {
                            return !(
                                t.state !== Qe.Playing ||
                                "Previewing" !== u.saveState.kind ||
                                u.hasShared ||
                                u.showingInfo ||
                                t.isDraggingBlob() ||
                                u.showingLocationSelector ||
                                u.showingLocationPlaylist ||
                                u.showingFestivePlaylist
                            );
                        })
                        .add("#upload-prompt", "visible", function () {
                            var e = !g();
                            return (e =
                                e &&
                                v() &&
                                !u.hasShownLocationSelector &&
                                !u.showingLocationPlaylist &&
                                !u.showingFestivePlaylist &&
                                u.opera.state === Qe.Main &&
                                t.state !== Qe.Playing
                            );
                        })
                        .add("#festive-prompt", "visible", function () {
                            return g() && !t.festiveEnabled && !u.hasToggledFestive && !u.showingLocationSelector;
                        })
                        .add("#location-selection-prompt", "visible", function () {
                            var e = !g() || !(!t.festiveEnabled && !u.hasToggledFestive);
                            return (e =
                                e &&
                                v() &&
                                !u.hasShownLocationSelector &&
                                !u.showingLocationPlaylist &&
                                !u.showingFestivePlaylist &&
                                u.opera.state === Qe.Main);
                        })
                        .add("#location-playlist-tray", "visible", function () {
                            return v() && "Loaded" === u.locationState.kind && !u.isAtBlobperaHouse();
                        })
                        .add("#location-playlist-button", "visible", function () {
                            return v() && "Loaded" === u.locationState.kind && !u.isAtBlobperaHouse();
                        })
                        .add("#location-playlist-button", "depressed", function () {
                            return u.showingLocationPlaylist && !u.showingInfo;
                        })
                        .add("#location-selector-button", "visible", function () {
                            return v();
                        })
                        .add("#location-selector-button", "depressed", function () {
                            return u.showingLocationSelector && !u.showingInfo;
                        })
                        .add("#location-selector-container", "visible", function () {
                            return u.showingLocationSelector && !u.opera.isDraggingBlob() && !u.showingInfo;
                        })
                        .add("#location-songs-container", "visible", function () {
                            return (
                                u.showingLocationPlaylist &&
                                !u.opera.isDraggingBlob() &&
                                !u.showingInfo &&
                                "Loaded" === u.locationState.kind &&
                                !u.isAtBlobperaHouse()
                            );
                        })
                        .add("#festive-songs-container", "visible", function () {
                            return u.showingFestivePlaylist && !u.opera.isDraggingBlob() && !u.showingInfo;
                        })
                        .add("#festive-playlist", "depressed", function () {
                            return u.showingFestivePlaylist && !u.showingInfo;
                        })
                        .add("#recording-indicator", "visible", function () {
                            return t.isRecording && !u.showingInfo;
                        })
                        .add("#tutorial-prompt-pitch", "visible", function () {
                            return (
                                t.state === Qe.Main &&
                                "Pitch" === t.tutorialState.kind &&
                                t.tutorialState.notesSung > 0 &&
                                !u.showingInfo
                            );
                        })
                        .add("#tutorial-prompt-vowel", "visible", function () {
                            return (
                                t.state === Qe.Main &&
                                "Vowel" === t.tutorialState.kind &&
                                t.tutorialState.notesSung > 0 &&
                                !u.showingInfo
                            );
                        })
                        .add("#tutorial-prompt-harmonization", "visible", function () {
                            return (
                                t.state === Qe.Main &&
                                "Harmonization" === t.tutorialState.kind &&
                                t.tutorialState.notesSung > 0 &&
                                !u.showingInfo
                            );
                        })
                        .add("#tutorial-prompt-mute", "visible", function () {
                            return (
                                t.state === Qe.Main &&
                                "Mute" === t.tutorialState.kind &&
                                t.tutorialState.notesSung > 0 &&
                                !u.showingInfo
                            );
                        })
                        .add("#tutorial-prompt-end", "visible", function () {
                            return (
                                t.state === Qe.Main &&
                                "Finished" === t.tutorialState.kind &&
                                !t.tutorialState.hasInteracted &&
                                !u.showingInfo
                            );
                        })
                        .add("#recording-frame-bottom-left", "visible", function () {
                            return t.state === Qe.Main && "Finished" === t.tutorialState.kind && t.isRecording;
                        })
                        .add("#recording-frame-bottom-right", "visible", function () {
                            return t.state === Qe.Main && "Finished" === t.tutorialState.kind && t.isRecording;
                        })
                        .add("#recording-frame-top-left", "visible", function () {
                            return t.state === Qe.Main && "Finished" === t.tutorialState.kind && t.isRecording;
                        })
                        .add("#recording-frame-top-right", "visible", function () {
                            return t.state === Qe.Main && "Finished" === t.tutorialState.kind && t.isRecording;
                        })
                        .add("#performance-warning", "visible", function () {
                            return u.showingPerformanceWarning;
                        })
                        .add("#disclaimer", "visible", function () {
                            return f() && t.state === Qe.Main && !u.showingInfo;
                        }),
                        this.festiveConfig.kind === y.Christmas
                            ? (document.querySelector("#festive-switch-container").classList.add("christmas"),
                              (document.querySelector("#festive-prompt").innerHTML =
                                  this.localiseString("prompt_festive")))
                            : this.festiveConfig.kind === y.NewYears &&
                              (document.querySelector("#festive-switch-container").classList.add("newyears"),
                              (document.querySelector("#festive-prompt").innerHTML =
                                  this.localiseString("prompt_newyear"))),
                        (this.festiveToggle = document.querySelector("input[name=festive]")),
                        t.festiveEnabled && this.festiveToggle.setAttribute("checked", "true"),
                        this.festiveToggle.addEventListener("change", function (e) {
                            u.festiveToggle.checked
                                ? t.festiveEnabled ||
                                  (u.opera.setFestiveEnabled(!0),
                                  (u.hasToggledFestive = !0),
                                  u.festiveConfig.kind === y.NewYears
                                      ? u.opera.popConfetti()
                                      : u.festiveConfig.kind === y.Christmas && u.opera.jingleBells(),
                                  b() && (u.showingFestivePlaylist = !0))
                                : (t.festiveEnabled && u.opera.setFestiveEnabled(!1), (u.showingFestivePlaylist = !1)),
                                (u.showingLocationSelector = !1),
                                u.environment.track({ action: "tap-christmas-logo", label: on(u.opera.state) });
                        }),
                        this.festiveConfig.kind !== y.Normal &&
                            this.buildPlaylistMenu(
                                document.getElementById("festive-songs"),
                                this.festiveConfig.songs,
                                !1
                            );
                    for (
                        var k = document.getElementById("location-selector"),
                            _ = function (e) {
                                k.appendChild(
                                    an("place", Lt[o][e.locationStringID], "", function (t) {
                                        t.stopPropagation(),
                                            ("None" !== u.locationState.kind &&
                                                e.locationStringID === u.locationState.locationStringID) ||
                                                (u.opera.enterMain(),
                                                u.updateLocationState({
                                                    kind: "Loading",
                                                    locationStringID: e.locationStringID,
                                                }),
                                                (u.showingLocationPlaylist = !0),
                                                Zt(u.blobCache, u.textureCache, e).then(function (t) {
                                                    u.opera.setScene(e, t),
                                                        u.updateLocationState({
                                                            kind: "Loaded",
                                                            locationStringID: e.locationStringID,
                                                        }),
                                                        (u.showingLocationSelector = !1);
                                                }),
                                                u.environment.track({ action: "tap-location" }));
                                    })
                                );
                            },
                            P = 0,
                            S = e.scenes;
                        P < S.length;
                        P++
                    ) {
                        _(S[P]);
                    }
                    var A,
                        T = ["soprano", "mezzo-soprano", "tenor", "bass"];
                    (t.onBlobInteraction = function (e) {
                        u.environment.track({
                            action: "blob-interaction",
                            label:
                                T[e] +
                                "_" +
                                on(u.opera.state) +
                                ("Saved" === u.saveState.kind ? "_" + u.saveState.savedRecordingID : ""),
                        });
                    }),
                        (t.onTutorialFinished = function () {
                            u.environment.track({ action: "finished-tutorial" });
                        }),
                        document.getElementById("credit").addEventListener("click", function (e) {
                            u.environment.openURL("https://david.li");
                        }),
                        document.getElementById("yllst-web").addEventListener("click", function (e) {
                            u.environment.openURL("https://github.com/yell0wsuit");
                        }),
                        document.getElementById("custom-song-link").addEventListener("click", function (e) {
                            //u.environment.openURL("./customsong.html");
                            window.location.assign("./customsong.html");
                        }),
                        null === (s = document.getElementById("info-link")) ||
                            void 0 === s ||
                            s.addEventListener("click", function (e) {
                                u.environment.openURL("https://artsandculture.google.com/project/performing-arts");
                            }),
                        this.updateLocationState({
                            kind: "Loaded",
                            locationStringID:
                                "Recording" === i.kind
                                    ? ((A = i.recording.location),
                                      A === x.BlobperaHouse ? "location_blobpera_house" : "location_" + w(A))
                                    : e.scenes[0].locationStringID,
                        }),
                        this.onStateChange(this.opera.state),
                        document.querySelectorAll(".button-text").forEach(function (e) {
                            e.scrollWidth > e.clientWidth && e.classList.add("button-text-small");
                        });
                    var E = function (e) {
                        u.update(e), requestAnimationFrame(E);
                    };
                    requestAnimationFrame(E);
                }
                return (
                    (e.prototype.localiseString = function (e) {
                        return Lt[this.language][e];
                    }),
                    (e.prototype.findLocationSong = function (e) {
                        for (var t = 0, n = this.config.scenes; t < n.length; t++) {
                            var i = n[t];
                            if (i.songs) {
                                var o = i.songs.find(function (t) {
                                    return t.recordingID === e;
                                });
                                if (void 0 !== o) return o;
                            }
                        }
                        return null;
                    }),
                    (e.prototype.findFestiveSong = function (e) {
                        if (this.festiveConfig.kind !== y.Normal) {
                            var t = this.festiveConfig.songs.find(function (t) {
                                return t.recordingID === e;
                            });
                            if (void 0 !== t) return t;
                        }
                        return null;
                    }),
                    (e.prototype.isFestiveRecording = function (e) {
                        return (
                            this.festiveConfig.kind !== y.Normal &&
                            void 0 !==
                                this.festiveConfig.songs.find(function (t) {
                                    return t.recordingID === e;
                                })
                        );
                    }),
                    (e.prototype.isLocationRecording = function (e) {
                        for (var t = 0, n = this.config.scenes; t < n.length; t++) {
                            var i = n[t];
                            if (
                                i.songs &&
                                void 0 !==
                                    i.songs.find(function (t) {
                                        return t.recordingID === e;
                                    })
                            )
                                return !0;
                        }
                        return !1;
                    }),
                    (e.prototype.getRecordingType = function (e) {
                        return this.isLocationRecording(e)
                            ? tn.Location
                            : this.isFestiveRecording(e)
                            ? tn.Festive
                            : tn.UGC;
                    }),
                    (e.prototype.onLocationChange = function (e) {
                        "Default" === e.kind
                            ? this.opera.enterMain()
                            : "Recording" === e.kind && this.playRecording(e.recordingID);
                    }),
                    (e.prototype.onStateChange = function (e) {
                        e === Qe.Main && (this.saveState = { kind: "None" }),
                            e === Qe.Main && this.environment.changeLocation({ kind: "Default" });
                    }),
                    (e.prototype.endRecording = function () {
                        var e = this.opera.finishRecording();
                        (function (e) {
                            for (var t = 0, n = e.parts; t < n.length; t++) {
                                if (n[t].notes.length > 0) return !1;
                            }
                            return !0;
                        })(e) ||
                            ((this.hasStoppedRecording = !0),
                            (e.theme =
                                this.opera.festiveEnabled && this.isAtBlobperaHouse()
                                    ? this.festiveConfig.kind
                                    : y.Normal),
                            this.opera.enterPlaying(e),
                            (this.saveState = { kind: "Previewing" }));
                    }),
                    (e.prototype.getShareText = function (e) {
                        return "Saved" === e.kind &&
                            e.recordingType === tn.Location &&
                            "Loaded" === this.locationState.kind
                            ? this.localiseString("axl_share_recording_cc")
                                  .replace(
                                      "<song>",
                                      this.localiseString(
                                          this.findLocationSong(e.savedRecordingID).nameStringID + "_name"
                                      )
                                  )
                                  .replace("<city>", this.localiseString(this.locationState.locationStringID))
                            : "Saved" === e.kind && e.recordingType === tn.Festive
                            ? this.localiseString("axl_share_festive_recording_cc").replace(
                                  "<song>",
                                  this.localiseString(this.findFestiveSong(e.savedRecordingID).nameStringID + "_name")
                              )
                            : "Loaded" === this.locationState.kind
                            ? this.localiseString("axl_share_recording_ugc").replace(
                                  "<city>",
                                  this.localiseString(this.locationState.locationStringID)
                              )
                            : "";
                    }),
                    (e.prototype.saveRecording = function () {
                        var e = this,
                            t = this.getShareText(this.saveState);
                        "Previewing" === this.saveState.kind
                            ? ((this.saveState = { kind: "SaveRequested" }),
                              (this.opera.playingRecording.theme =
                                  this.opera.festiveEnabled && this.isAtBlobperaHouse()
                                      ? this.festiveConfig.kind
                                      : y.Normal),
                              (this.hasShared = !0),
                              this.backend
                                  .saveRecording(this.opera.playingRecording)
                                  .then(function (n) {
                                      (e.saveState = { kind: "Saved", savedRecordingID: n.id, recordingType: tn.UGC }),
                                          e.environment.changeLocation({ kind: "Recording", recordingID: n.id }),
                                          e.environment.share(
                                              { kind: "Recording", recordingID: e.saveState.savedRecordingID },
                                              t
                                          ),
                                          e.environment.track({ action: "tap-share", label: n.id });
                                  })
                                  .catch(function (t) {
                                      console.log(t), (e.saveState = { kind: "Previewing" });
                                  }))
                            : "Saved" === this.saveState.kind &&
                              ("Saved" === this.saveState.kind &&
                                  this.saveState.recordingType === tn.Festive &&
                                  (this.hasSharedCarol = !0),
                              this.environment.share(
                                  { kind: "Recording", recordingID: this.saveState.savedRecordingID },
                                  t
                              ),
                              this.environment.track({ action: "tap-share", label: this.saveState.savedRecordingID }));
                    }),
                    (e.prototype.update = function (e) {
                        var t = this.opera;
                        (t.showingPrompts = !this.showingInfo),
                            this.controlledElements.update(),
                            this.opera.festiveEnabled !== this.festiveToggle.checked &&
                                (this.festiveToggle.checked = this.opera.festiveEnabled);
                        var n,
                            i,
                            o,
                            a,
                            r,
                            s = document.getElementById("playback-timecode"),
                            l = document.querySelector(".progress-ring"),
                            u = document.querySelector(".progress-circle");
                        if (t.state === Qe.Playing) {
                            var c = t.playing ? Math.max(0, t.clock.getTimeMs() - t.playbackStartTime) / 1e3 : 0;
                            s.innerText = $t(c);
                            var h = Object(d.b)(
                                c /
                                    (function (e) {
                                        for (var t = 0, n = 0, i = e.parts; n < i.length; n++) {
                                            var o = i[n];
                                            o.notes.length > 0 &&
                                                (t = Math.max(t, o.notes[o.notes.length - 1].timeSeconds));
                                        }
                                        return t;
                                    })(t.playingRecording),
                                0,
                                1
                            );
                            l.setAttribute(
                                "d",
                                ((n = u.cx.baseVal.value),
                                (i = u.cy.baseVal.value),
                                (o = u.r.baseVal.value),
                                (a = h),
                                (r = -2 * Math.PI * a - Math.PI / 2),
                                "M " +
                                    n +
                                    " " +
                                    (i - o) +
                                    " A " +
                                    o +
                                    " " +
                                    o +
                                    (a < 0.5 ? " 0 0 1 " : " 0 1 1 ") +
                                    (n + -Math.cos(r) * o) +
                                    " " +
                                    (i + Math.sin(r) * o))
                            );
                        }
                        var p = document.getElementById("recording-timecode");
                        if (this.opera.isRecording) {
                            c = Math.max(0, (t.clock.getTimeMs() - t.recordingStartTime) / 1e3);
                            p.innerText = $t(c);
                        }
                        t.getAudioRTFEnoughSamples() && t.getAudioRTF().toFixed(1);
                        t.audio.processingSampleRate.toFixed(0),
                            bt() &&
                                t.getAudioRTFEnoughSamples() &&
                                "visible" === document.visibilityState &&
                                !this.hasShownPerformanceWarning &&
                                t.getAudioRTF() < 3 &&
                                (t.onMouseUp(),
                                (this.hasShownPerformanceWarning = !0),
                                (this.showingPerformanceWarning = !0));
                    }),
                    (e.prototype.playPresetSong = function (e) {
                        this.playRecording(e), this.updateMenus();
                    }),
                    (e.prototype.playRecording = function (e) {
                        var t = this;
                        if (
                            this.opera.state !== Qe.Playing ||
                            "Saved" !== this.saveState.kind ||
                            this.saveState.savedRecordingID !== e
                        ) {
                            this.opera.stopPlayback();
                            var n = Object.assign({}, this.saveState);
                            (this.saveState = {
                                kind: "Loading",
                                loadingRecordingID: e,
                                recordingType: this.getRecordingType(e),
                            }),
                                this.backend
                                    .loadRecording(e)
                                    .then(function (n) {
                                        t.opera.enterPlaying(n),
                                            t.isAtBlobperaHouse() &&
                                                ((n.theme === y.Christmas && t.festiveConfig.kind === y.Christmas) ||
                                                (n.theme === y.NewYears && t.festiveConfig.kind === y.NewYears)
                                                    ? t.opera.setFestiveEnabled(!0)
                                                    : t.opera.setFestiveEnabled(!1)),
                                            (t.saveState = {
                                                kind: "Saved",
                                                savedRecordingID: e,
                                                recordingType: t.saveState.recordingType,
                                            }),
                                            (t.showingFestivePlaylist = !1),
                                            (t.showingLocationPlaylist = !1),
                                            t.updateMenus();
                                    })
                                    .catch(function (e) {
                                        (t.saveState = n), t.updateMenus();
                                    });
                        }
                    }),
                    (e.prototype.updateLocationState = function (e) {
                        (this.locationState = e), this.updateMenus();
                    }),
                    (e.prototype.getSelectedScene = function () {
                        if ("None" === this.locationState.kind) return this.config.scenes[0];
                        var e = this.locationState.locationStringID;
                        return this.config.scenes.find(function (t) {
                            return t.locationStringID === e;
                        });
                    }),
                    (e.prototype.isAtBlobperaHouse = function () {
                        return this.getSelectedScene() === this.config.scenes[0];
                    }),
                    (e.prototype.updateMenus = function () {
                        this.rebuildLocationPlaylistMenu(),
                            this.festiveConfig.kind !== y.Normal &&
                                this.updatePlaylistMenuLoadStates("festive-songs", this.festiveConfig.songs),
                            this.updatePlaylistMenuLoadStates("location-songs", this.getSelectedScene().songs || []),
                            this.updateLocationMenuLoadStates();
                    }),
                    (e.prototype.rebuildLocationPlaylistMenu = function () {
                        for (
                            var e = document.getElementById("location-songs"), t = 0, n = [].slice.apply(e.childNodes);
                            t < n.length;
                            t++
                        ) {
                            n[t].remove();
                        }
                        this.buildPlaylistMenu(e, this.getSelectedScene().songs || [], !0);
                    }),
                    (e.prototype.buildPlaylistMenu = function (e, t, n) {
                        for (
                            var i = this,
                                o = function (t) {
                                    var o = a.localiseString(t.nameStringID + "_name"),
                                        r = n ? a.localiseString(t.nameStringID + "_description") : "";
                                    e.appendChild(
                                        an("play_circle_outline", o, r, function (e) {
                                            e.stopPropagation(),
                                                i.playPresetSong(t.recordingID),
                                                i.environment.track({
                                                    action: "tap-song",
                                                    label: on(i.opera.state) + "_" + t.recordingID,
                                                });
                                        })
                                    );
                                },
                                a = this,
                                r = 0,
                                s = t;
                            r < s.length;
                            r++
                        ) {
                            o(s[r]);
                        }
                    }),
                    (e.prototype.updatePlaylistMenuLoadStates = function (e, t) {
                        for (var n = document.getElementById(e).querySelectorAll("li"), i = 0; i < t.length; ++i) {
                            var o = t[i];
                            (
                                "Loading" === this.saveState.kind
                                    ? this.saveState.loadingRecordingID === o.recordingID
                                    : this.opera.state === Qe.Playing &&
                                      "Saved" === this.saveState.kind &&
                                      this.saveState.savedRecordingID === o.recordingID
                            )
                                ? (n[i].classList.add("playing"),
                                  (n[i].querySelector(".material-icons").innerHTML = "volume_up"),
                                  "Loading" === this.saveState.kind &&
                                  this.saveState.loadingRecordingID === o.recordingID
                                      ? n[i].classList.add("loading")
                                      : n[i].classList.remove("loading"))
                                : (n[i].classList.remove("playing"),
                                  (n[i].querySelector(".material-icons").innerHTML = "play_circle_outline"),
                                  n[i].classList.remove("loading"));
                        }
                    }),
                    (e.prototype.updateLocationMenuLoadStates = function () {
                        for (
                            var e = document.getElementById("location-selector").querySelectorAll("li"), t = 0;
                            t < this.config.scenes.length;
                            ++t
                        ) {
                            var n = this.config.scenes[t];
                            "Loading" === this.locationState.kind &&
                            this.locationState.locationStringID === n.locationStringID
                                ? e[t].classList.add("loading")
                                : e[t].classList.remove("loading"),
                                "Loaded" === this.locationState.kind &&
                                this.locationState.locationStringID === n.locationStringID
                                    ? e[t].classList.add("loaded")
                                    : e[t].classList.remove("loaded");
                        }
                        var i = document.getElementById("location-label");
                        "None" !== this.locationState.kind
                            ? ((i.innerText = Lt[this.language][this.locationState.locationStringID]),
                              (i.style.visibility = "visible"))
                            : (i.style.visibility = "hidden");
                    }),
                    e
                );
            })(),
            sn = n(40),
            ln = n.n(sn),
            un = n(38),
            cn = { insert: "head", singleton: !1 };
        ln()(un.a, cn), un.a.locals;
        function hn(e) {
            var t = e.hash;
            return "" === t
                ? { kind: "Default" }
                : "#/r/" === t.substr(0, "#/r/".length)
                ? { kind: "Recording", recordingID: e.hash.slice("#/r/".length) }
                : { kind: "Default" };
        }
        var dn =
            window.location.protocol +
            "//" +
            window.location.hostname +
            (window.location.port ? ":" + window.location.port : "") +
            window.location.pathname +
            (window.location.search ? window.location.search : "");
        function pn(e) {
            return "Default" === e.kind ? "#/" : "Recording" === e.kind ? "#/r/" + e.recordingID : void 0;
        }
        function mn(e) {
            navigator.clipboard
                ? navigator.clipboard.writeText(e).then(
                      function () {},
                      function (e) {}
                  )
                : (function (e) {
                      var t = document.createElement("textarea");
                      (t.value = e),
                          (t.style.top = "0"),
                          (t.style.left = "0"),
                          (t.style.position = "fixed"),
                          document.body.appendChild(t),
                          t.focus(),
                          t.select();
                      try {
                          document.execCommand("copy");
                      } catch (e) {}
                      document.body.removeChild(t);
                  })(e);
        }
        var fn = (function () {
            function e() {
                (this.onResume = null),
                    (this.onFreeze = null),
                    (this.onLocationChange = null),
                    (this.location = hn(window.location)),
                    window.addEventListener("hashchange", this.onHashChange.bind(this));
            }
            return (
                (e.prototype.track = function (e) {}),
                (e.prototype.onHashChange = function (e) {
                    (this.location = hn(window.location)),
                        this.onLocationChange && this.onLocationChange(this.location);
                }),
                (e.prototype.changeLocation = function (e) {
                    (this.location = e),
                        (window.location.hash = pn(e)),
                        this.onLocationChange && this.onLocationChange(e);
                }),
                (e.prototype.share = function (e, t) {
                    mn(
                        (function (e) {
                            return dn + pn(e);
                        })(e)
                    );
                }),
                (e.prototype.openURL = function (e) {
                    if (isElectron()) {
                        window.electron.openExternal(e);
                    } else {
                        window.open(e, "_blank");
                    }
                }),
                e
            );
        })();
        function gn() {
            return n
                .e(0)
                .then(n.bind(null, 49))
                .then(function (e) {
                    return new Promise(function (t, n) {
                        var i = e.default,
                            o = new i(),
                            a = o.handshake().then(function (e) {
                                return (function (e) {
                                    return "r" in e
                                        ? { kind: "Recording", recordingID: e.r }
                                        : "nye" in e
                                        ? (alert("NYE"), { kind: "Recording", recordingID: "jinglebells" })
                                        : { kind: "Default" };
                                })(e);
                            }),
                            r = new Promise(function (e, t) {
                                var n = !1;
                                o.registerMessageCallback(i.HostToChild.RESUME, function () {
                                    n || (e(), (n = !0));
                                });
                            }),
                            s = (function () {
                                function e(e, t) {
                                    var n = this;
                                    (this.onLocationChange = null),
                                        (this.onResume = null),
                                        (this.onFreeze = null),
                                        (this.axl = e),
                                        (this.location = t),
                                        e.registerMessageCallback(i.HostToChild.RESUME, function () {
                                            n.onResume && n.onResume();
                                        }),
                                        e.registerMessageCallback(i.HostToChild.FREEZE, function () {
                                            n.onFreeze && n.onFreeze();
                                        });
                                }
                                return (
                                    (e.prototype.track = function (e) {
                                        o.sendMessage(i.ChildToHost.TRACK, e);
                                    }),
                                    (e.prototype.changeLocation = function (e) {
                                        (this.location = e),
                                            o.sendMessage(
                                                i.ChildToHost.SET_URL_PARAMS,
                                                (function (e) {
                                                    return "Recording" === e.kind
                                                        ? { r: e.recordingID }
                                                        : "Default" === e.kind
                                                        ? {}
                                                        : void 0;
                                                })(e)
                                            );
                                    }),
                                    (e.prototype.share = function (e, t) {
                                        this.changeLocation(e),
                                            "Recording" === e.kind && o.sendMessage(i.ChildToHost.SHARE, { title: t });
                                    }),
                                    (e.prototype.openURL = function (e) {
                                        o.sendMessage(i.ChildToHost.NAVIGATE, e);
                                    }),
                                    e
                                );
                            })();
                        return Promise.all([a, r]).then(function (e) {
                            t(new s(o, e[0]));
                        });
                    });
                });
        }
        function bn(e) {
            var t = e.match(/\*[^*]+?\*/);
            if (t)
                for (var n = 0, i = t; n < i.length; n++) {
                    var o = i[n];
                    e = e.replace(o, "<span>" + o.replace(/\*/g, "") + "</span>");
                }
            return t && (e = bn(e)), e;
        }
        function vn(e) {
            var t = e.split("\n");
            if (t.length > 1) {
                for (var n = "", i = 0, o = t; i < o.length; i++) {
                    n += "<p>" + o[i] + "</p>";
                }
                return n;
            }
            return e;
        }
        function yn(e) {
            var t = e.match(/\<davidli\>/);
            if (t)
                for (var n = 0, i = t; n < i.length; n++) {
                    var o = i[n];
                    e = e.replace(o, '<span id="credit">David&nbsp;Li</span>');
                }
            return t && (e = bn(e)), e;
        }
        function yllst(e) {
            var abc = e.match(/\<yell0wsuit\>/);
            if (abc)
                for (var n = 0, i = abc; n < i.length; n++) {
                    var o = i[n];
                    e = e.replace(o, '<span id="yllst-web">yell0wsuit</span>');
                }
            return abc && (e = bn(e)), e;
        }
        function customSongLink(e, t) {
            var def = e.match(/\<visit here\>/);
            if (def)
                for (var n = 0, i = def; n < i.length; n++) {
                    var o = i[n];
                    e = e.replace(o, '<span id="custom-song-link">' + "visit here" + "</span>");
                }
            return def && (e = bn(e)), e;
        }
        function xn(e, t) {
            var n = e.match(/\<performing_arts_link\>/);
            if (n)
                for (var i = 0, o = n; i < o.length; i++) {
                    var a = o[i];
                    e = e.replace(a, '<span id="info-link">' + t.info_performing_arts_link + "</span>");
                }
            return n && (e = bn(e)), e;
        }
        function kn(e, t) {
            var n = e.match(/{{(\w+)}}/g);
            if (n)
                for (var i = 0, o = n; i < o.length; i++) {
                    var a = o[i],
                        r = t[a.replace("{{", "").replace("}}", "")];
                    (r = (r = xn((r = yn((r = yllst((r = customSongLink((r = bn((r = vn(r)))))))))), t)).replace(
                        "-",
                        "-"
                    )),
                        (e = e.replace(a, r));
                }
            return e;
        }
        var _n = n(10);
        var wn = {
                cameraFOVDegrees: 22.5,
                positioningMode: "relative",
                scenes: [
                    {
                        locationStringID: "location_blobpera_house",
                        name: "default",
                        startCameraPosition: [2.3382685902179845, 3.25, 12.65],
                        endCameraPosition: [0, 4.25, 19.5],
                        blobs: [
                            {
                                position: [0, 0, 0],
                                modelPath: "assets/004.flat",
                                scale: 1,
                                parameters: {
                                    leftEyeScale: [0.12, 0.14, 0.12],
                                    rightEyeScale: [0.12, 0.14, 0.12],
                                    rightEyeX: -0.2,
                                    rightEyeZ: 0.21,
                                    leftEyeX: 0.2,
                                    leftEyeZ: 0.21,
                                    hatY: 2.1,
                                },
                                stretch: 1.25,
                                rotationDegrees: 45,
                                singerIndex: 0,
                                subsurfaceColor: "#bbbbbb",
                                mouthRotation: 0.3,
                                inflation: 1,
                                lipScale: 1.33,
                                pitchScale: 0.5,
                                width: 1.8,
                                mouthYScale: 0.9,
                                festiveHatBrimRadius: 0.3,
                                partyHatBrimRadius: 0.25,
                                partyHatHue: 0.75,
                                body: {
                                    albedoTexturePath: "assets/004_albedo.jpg",
                                    materialTexturePath: "assets/004_material.png",
                                    saturationBoost: 0.5,
                                    lightnessBoost: 0.8,
                                    hueShift: -0.03,
                                    roughnessScale: 0.65,
                                    f0: 0.3,
                                },
                                mouth: { color: "#ffdf74" },
                            },
                            {
                                position: [0, 0, 0.2],
                                modelPath: "assets/003.flat",
                                scale: 1,
                                parameters: {
                                    leftEyeScale: [0.1, 0.1, 0.1],
                                    rightEyeScale: [0.1, 0.1, 0.1],
                                    rightEyeX: -0.13,
                                    rightEyeZ: -0.1,
                                    leftEyeX: 0.13,
                                    leftEyeZ: -0.1,
                                    eyeAttachOffset: 0.05,
                                    hatY: 2.45,
                                },
                                stretch: 0.95,
                                rotationDegrees: 45,
                                singerIndex: 1,
                                subsurfaceColor: "#bbbbbb",
                                mouthRotation: 0,
                                inflation: 1.2,
                                lipScale: 1.3,
                                pitchScale: 0.5,
                                width: 1.3,
                                partyHatHue: 0.25,
                                festiveHatBrimRadius: 0.15,
                                partyHatBrimRadius: 0.15,
                                body: {
                                    albedoTexturePath: "assets/003_albedo.jpg",
                                    materialTexturePath: "assets/003_material.png",
                                    saturationBoost: 0.3,
                                    lightnessBoost: 0,
                                },
                                mouth: { color: "#9abfe6" },
                            },
                            {
                                position: [0, 0, 0],
                                modelPath: "assets/002.flat",
                                scale: 0.85,
                                parameters: {
                                    leftEyeScale: [0.15, 0.17, 0.15],
                                    rightEyeScale: [0.15, 0.17, 0.15],
                                    rightEyeX: -0.184637,
                                    rightEyeZ: 0.234132,
                                    leftEyeX: 0.184637,
                                    leftEyeZ: 0.234132,
                                    hatY: 2.5,
                                },
                                stretch: 1,
                                rotationDegrees: 45,
                                subsurfaceColor: "#bbbbbb",
                                singerIndex: 2,
                                mouthRotation: 0,
                                inflation: 1,
                                lipScale: 1.4,
                                pitchScale: 0.5,
                                width: 1.7,
                                partyHatHue: 0.5,
                                festiveHatBrimRadius: 0.32,
                                partyHatBrimRadius: 0.25,
                                body: {
                                    albedoTexturePath: "assets/002_albedo.jpg",
                                    materialTexturePath: "assets/002_material.png",
                                    normalScale: 1,
                                    saturationBoost: 0.5,
                                    lightnessBoost: 0,
                                },
                                mouth: { color: "#a9ed87" },
                            },
                            {
                                position: [0, 0, -0.3],
                                scale: 1,
                                parameters: {
                                    leftEyeScale: [0.18, 0.18, 0.18],
                                    rightEyeScale: [0.18, 0.18, 0.18],
                                    rightEyeX: 0.3,
                                    rightEyeZ: 0.3,
                                    leftEyeX: -0.3,
                                    leftEyeZ: 0.3,
                                    hatY: 2.5,
                                },
                                stretch: 1,
                                modelPath: "assets/001.flat",
                                rotationDegrees: 45,
                                subsurfaceColor: "#bbbbbb",
                                singerIndex: 3,
                                mouthRotation: 0.2,
                                inflation: 1,
                                lipScale: 1.3,
                                pitchScale: 0.5,
                                width: 1.7,
                                partyHatHue: 0,
                                festiveHatBrimRadius: 0.32,
                                partyHatBrimRadius: 0.27,
                                body: {
                                    albedoTexturePath: "assets/001_albedo.jpg",
                                    materialTexturePath: "assets/001_material.png",
                                    normalScale: 1,
                                    saturationBoost: 0.5,
                                    lightnessBoost: 0.3,
                                },
                                mouth: { color: "#f09cf9" },
                            },
                        ],
                        backgroundImagePath: "backgrounds/default.jpeg",
                        backgroundMaskPath: "backgrounds/default_mask.jpeg",
                    },
                    {
                        locationStringID: "location_london",
                        name: "london",
                        startCameraPosition: [2.3382685902179845, 3.25, 12.65],
                        endCameraPosition: [0, 4.25, 19.5],
                        blobs: [
                            {
                                position: [0, 0, 0.2],
                                modelPath: "assets/003.flat",
                                scale: 1,
                                parameters: {
                                    leftEyeScale: [0.08, 0.08, 0.08],
                                    rightEyeScale: [0.08, 0.08, 0.08],
                                    rightEyeX: -0.15,
                                    rightEyeZ: -0.1,
                                    leftEyeX: 0.15,
                                    leftEyeZ: -0.1,
                                    eyeAttachOffset: 0.05,
                                },
                                stretch: 1,
                                rotationDegrees: 45,
                                singerIndex: 0,
                                subsurfaceColor: "#bbbbbb",
                                mouthRotation: 0,
                                inflation: 1,
                                lipScale: 1.3,
                                pitchScale: 0.5,
                                width: 1.3,
                                body: {
                                    albedoTexturePath: "assets/003_albedo.jpg",
                                    materialTexturePath: "assets/003_material.png",
                                    hueShift: 0.75,
                                    saturationBoost: 0.1,
                                    lightnessBoost: 0.5,
                                },
                                mouth: { color: "#6dfff3" },
                            },
                            {
                                position: [0, 0, 0],
                                modelPath: "assets/004.flat",
                                scale: 1,
                                parameters: {
                                    leftEyeScale: [0.12, 0.14, 0.12],
                                    rightEyeScale: [0.12, 0.14, 0.12],
                                    rightEyeX: -0.2,
                                    rightEyeZ: 0.21,
                                    leftEyeX: 0.2,
                                    leftEyeZ: 0.21,
                                },
                                stretch: 1.25,
                                rotationDegrees: 45,
                                singerIndex: 1,
                                subsurfaceColor: "#bbbbbb",
                                mouthRotation: 0.4,
                                inflation: 1,
                                lipScale: 1.33,
                                pitchScale: 0.5,
                                width: 1.8,
                                mouthYScale: 0.9,
                                body: {
                                    albedoTexturePath: "assets/004_albedo.jpg",
                                    materialTexturePath: "assets/004_material.png",
                                    hueShift: 0.8,
                                    saturationBoost: 0.3,
                                    lightnessBoost: 0.5,
                                    roughnessScale: 0.65,
                                    f0: 0.3,
                                },
                                mouth: { color: "#ee96f6" },
                            },
                            {
                                position: [0, 0, 0],
                                scale: 1,
                                parameters: {
                                    leftEyeScale: [0.16, 0.16, 0.16],
                                    rightEyeScale: [0.16, 0.16, 0.16],
                                    rightEyeX: 0.4,
                                    rightEyeZ: 0.3,
                                    leftEyeX: -0.4,
                                    leftEyeZ: 0.3,
                                },
                                stretch: 1,
                                modelPath: "assets/001.flat",
                                rotationDegrees: 45,
                                subsurfaceColor: "#bbbbbb",
                                singerIndex: 2,
                                mouthRotation: 0.2,
                                inflation: 0.5,
                                lipScale: 1.3,
                                pitchScale: 0.5,
                                width: 1.7,
                                body: {
                                    albedoTexturePath: "assets/001_albedo.jpg",
                                    materialTexturePath: "assets/001_material.png",
                                    normalScale: 1,
                                    hueShift: 0.8,
                                    saturationBoost: 0.3,
                                    lightnessBoost: 0.5,
                                },
                                mouth: { color: "#a7d3fb" },
                            },
                            {
                                position: [0, 0, 0],
                                modelPath: "assets/002.flat",
                                scale: 0.85,
                                parameters: {
                                    leftEyeScale: [0.15, 0.17, 0.15],
                                    rightEyeScale: [0.15, 0.17, 0.15],
                                    rightEyeX: -0.184637,
                                    rightEyeZ: 0.234132,
                                    leftEyeX: 0.184637,
                                    leftEyeZ: 0.234132,
                                },
                                stretch: 1,
                                rotationDegrees: 45,
                                subsurfaceColor: "#bbbbbb",
                                singerIndex: 3,
                                mouthRotation: 0,
                                inflation: 1,
                                lipScale: 1.4,
                                pitchScale: 0.5,
                                width: 1.7,
                                body: {
                                    albedoTexturePath: "assets/002_albedo.jpg",
                                    materialTexturePath: "assets/002_material.png",
                                    normalScale: 1,
                                    hueShift: 0.7,
                                    saturationBoost: 0.3,
                                    lightnessBoost: 0.5,
                                },
                                mouth: { color: "#fffed2" },
                            },
                        ],
                        backgroundImagePath: "backgrounds/london.jpg",
                        backgroundMaskPath: "backgrounds/london_mask.jpeg",
                        songs: [
                            { nameStringID: "song_hallelujah_chorus", recordingID: "hallelujahchorus5" },
                            { nameStringID: "song_londonderry_air", recordingID: "londonderryair1" },
                            { nameStringID: "song_wellerman", recordingID: "wellerman3" },
                            { nameStringID: "song_ar_hyd_y_nos", recordingID: "ArHydYNos2" },
                            { nameStringID: "song_loch_lomond", recordingID: "LochLomond2" },
                        ],
                    },
                    {
                        locationStringID: "location_new_york",
                        name: "new_york",
                        startCameraPosition: [2.3382685902179845, 3.25, 12.65],
                        endCameraPosition: [0, 4.25, 19.5],
                        blobs: [
                            {
                                position: [0, 0, 0],
                                modelPath: "assets/002.flat",
                                scale: 0.85,
                                parameters: {
                                    leftEyeScale: [0.1, 0.1, 0.1],
                                    rightEyeScale: [0.1, 0.1, 0.1],
                                    rightEyeX: -0.184637,
                                    rightEyeZ: 0.234132,
                                    leftEyeX: 0.184637,
                                    leftEyeZ: 0.234132,
                                },
                                stretch: 1,
                                rotationDegrees: 45,
                                subsurfaceColor: "#bbbbbb",
                                singerIndex: 0,
                                mouthRotation: 0,
                                inflation: 1,
                                lipScale: 1.4,
                                pitchScale: 0.5,
                                width: 1.7,
                                body: {
                                    albedoTexturePath: "assets/002_albedo.jpg",
                                    materialTexturePath: "assets/002_material.png",
                                    normalScale: 1,
                                    saturationBoost: 0.3,
                                    lightnessBoost: 0.5,
                                    hueShift: 0.4,
                                },
                                mouth: { color: "#f2b8fa" },
                            },
                            {
                                position: [0, 0, 0.2],
                                modelPath: "assets/003.flat",
                                scale: 1,
                                parameters: {
                                    leftEyeScale: [0.11, 0.11, 0.11],
                                    rightEyeScale: [0.11, 0.11, 0.11],
                                    rightEyeX: -0.13,
                                    rightEyeZ: -0.1,
                                    leftEyeX: 0.13,
                                    leftEyeZ: -0.1,
                                    eyeAttachOffset: 0.05,
                                },
                                stretch: 1,
                                rotationDegrees: 45,
                                singerIndex: 1,
                                subsurfaceColor: "#bbbbbb",
                                mouthRotation: 0,
                                inflation: 1.2,
                                lipScale: 1.3,
                                pitchScale: 0.5,
                                width: 1.3,
                                body: {
                                    albedoTexturePath: "assets/003_albedo.jpg",
                                    materialTexturePath: "assets/003_material.png",
                                    hueShift: 0.8,
                                    saturationBoost: 0.3,
                                    lightnessBoost: 0.5,
                                },
                                mouth: { color: "#6dfff3" },
                            },
                            {
                                position: [0, 0, 0],
                                scale: 1,
                                parameters: {
                                    leftEyeScale: [0.15, 0.165, 0.15],
                                    rightEyeScale: [0.15, 0.165, 0.15],
                                    rightEyeX: 0.3,
                                    rightEyeZ: 0.1,
                                    leftEyeX: -0.3,
                                    leftEyeZ: 0.1,
                                },
                                stretch: 1,
                                modelPath: "assets/001.flat",
                                rotationDegrees: 45,
                                subsurfaceColor: "#bbbbbb",
                                singerIndex: 2,
                                mouthRotation: 0.2,
                                inflation: 0.8,
                                lipScale: 1.3,
                                pitchScale: 0.5,
                                width: 1.944,
                                body: {
                                    albedoTexturePath: "assets/001_albedo.jpg",
                                    materialTexturePath: "assets/001_material.png",
                                    normalScale: 4,
                                    saturationBoost: 0.5,
                                    lightnessBoost: 0.5,
                                    hueShift: 0.2,
                                },
                                mouth: { color: "#aa33b8" },
                            },
                            {
                                position: [0, 0, 0],
                                modelPath: "assets/004.flat",
                                scale: 1,
                                parameters: {
                                    leftEyeScale: [0.2, 0.2, 0.2],
                                    rightEyeScale: [0.2, 0.2, 0.2],
                                    rightEyeX: -0.3,
                                    rightEyeZ: 0.21,
                                    leftEyeX: 0.3,
                                    leftEyeZ: 0.21,
                                },
                                stretch: 1.25,
                                rotationDegrees: 45,
                                singerIndex: 3,
                                subsurfaceColor: "#bbbbbb",
                                mouthRotation: 0,
                                inflation: 1.8,
                                lipScale: 1.33,
                                pitchScale: 0.5,
                                width: 1.8,
                                mouthYScale: 0.9,
                                body: {
                                    albedoTexturePath: "assets/004_albedo.jpg",
                                    materialTexturePath: "assets/004_material.png",
                                    saturationBoost: 0.3,
                                    lightnessBoost: 0.5,
                                    hueShift: 0.5,
                                },
                                mouth: { color: "#ffffff" },
                            },
                        ],
                        backgroundImagePath: "backgrounds/newyork.jpg",
                        backgroundMaskPath: "backgrounds/newyork_mask.jpeg",
                        songs: [
                            { nameStringID: "song_new_world_symphony", recordingID: "dvorak1" },
                            { nameStringID: "song_down_to_the_river", recordingID: "downtotheriver1" },
                            { nameStringID: "song_when_the_saints", recordingID: "whenthesaints4" },
                            { nameStringID: "song_summertime", recordingID: "summertime3" },
                            { nameStringID: "song_country_club", recordingID: "countryclub1" },
                        ],
                    },
                    {
                        locationStringID: "location_mexico_city",
                        name: "mexico_city",
                        startCameraPosition: [2.3382685902179845, 3.25, 12.65],
                        endCameraPosition: [0, 4.25, 19.5],
                        blobs: [
                            {
                                position: [0, 0, 0],
                                modelPath: "assets/004.flat",
                                scale: 1,
                                parameters: {
                                    leftEyeScale: [0.12, 0.14, 0.12],
                                    rightEyeScale: [0.12, 0.14, 0.12],
                                    rightEyeX: -0.2,
                                    rightEyeZ: 0.21,
                                    leftEyeX: 0.2,
                                    leftEyeZ: 0.21,
                                },
                                stretch: 1.35,
                                rotationDegrees: 45,
                                singerIndex: 0,
                                subsurfaceColor: "#bbbbbb",
                                mouthRotation: 0.4,
                                inflation: 0.9,
                                lipScale: 1.33,
                                pitchScale: 0.5,
                                width: 1.7,
                                mouthYScale: 0.9,
                                body: {
                                    albedoTexturePath: "assets/004_albedo.jpg",
                                    materialTexturePath: "assets/004_material.png",
                                    saturationBoost: 0.5,
                                    lightnessBoost: 0.5,
                                    hueShift: 0.2,
                                    roughnessScale: 0.65,
                                    f0: 0.3,
                                },
                                mouth: { color: "#c9f7a2" },
                            },
                            {
                                position: [0, 0, 0],
                                modelPath: "assets/003.flat",
                                scale: 1,
                                parameters: {
                                    leftEyeScale: [0.08, 0.08, 0.08],
                                    rightEyeScale: [0.08, 0.08, 0.08],
                                    rightEyeX: -0.1,
                                    rightEyeZ: -0.1,
                                    leftEyeX: 0.1,
                                    leftEyeZ: -0.1,
                                    eyeAttachOffset: 0.05,
                                },
                                stretch: 1,
                                rotationDegrees: 45,
                                singerIndex: 1,
                                subsurfaceColor: "#bbbbbb",
                                mouthRotation: 0,
                                inflation: 1.2,
                                lipScale: 1.3,
                                pitchScale: 0.5,
                                width: 1.3,
                                body: {
                                    albedoTexturePath: "assets/003_albedo.jpg",
                                    materialTexturePath: "assets/003_material.png",
                                    saturationBoost: 0.3,
                                    lightnessBoost: 0.5,
                                    hueShift: 0.2,
                                },
                                mouth: { color: "#f6c7fe" },
                            },
                            {
                                position: [0, 0, 0],
                                scale: 1,
                                parameters: {
                                    leftEyeScale: [0.11, 0.11, 0.11],
                                    rightEyeScale: [0.11, 0.11, 0.11],
                                    rightEyeX: 0.2,
                                    rightEyeZ: -0.01,
                                    leftEyeX: -0.2,
                                    leftEyeZ: -0.01,
                                },
                                stretch: 1,
                                modelPath: "assets/005.flat",
                                rotationDegrees: 45,
                                subsurfaceColor: "#bbbbbb",
                                singerIndex: 2,
                                mouthRotation: 0.2,
                                inflation: 1.4,
                                lipScale: 1.3,
                                pitchScale: 0.5,
                                width: 1.7,
                                body: {
                                    albedoTexturePath: "assets/005_albedo.jpg",
                                    materialTexturePath: "assets/005_material.png",
                                    normalScale: 1,
                                    hueShift: 0.25,
                                    saturationBoost: 0.4,
                                    lightnessBoost: 0.6,
                                },
                                mouth: { color: "#f8d89f" },
                            },
                            {
                                position: [0, 0, -0.8],
                                scale: 1,
                                parameters: {
                                    leftEyeScale: [0.13, 0.13, 0.13],
                                    rightEyeScale: [0.13, 0.13, 0.13],
                                    rightEyeX: 0.3,
                                    rightEyeZ: 0.3,
                                    leftEyeX: -0.3,
                                    leftEyeZ: 0.3,
                                },
                                stretch: 1,
                                modelPath: "assets/001.flat",
                                rotationDegrees: 45,
                                subsurfaceColor: "#bbbbbb",
                                singerIndex: 3,
                                mouthRotation: 0.2,
                                inflation: 1,
                                lipScale: 1.3,
                                pitchScale: 0.5,
                                width: 1.3,
                                body: {
                                    albedoTexturePath: "assets/001_albedo.jpg",
                                    materialTexturePath: "assets/001_material.png",
                                    normalScale: 1,
                                    saturationBoost: 0.5,
                                    lightnessBoost: 0.5,
                                    hueShift: 0.8,
                                },
                                mouth: { color: "#c3f3fd" },
                            },
                        ],
                        backgroundImagePath: "backgrounds/mexicocity.jpg",
                        backgroundMaskPath: "backgrounds/mexicocity_mask.jpeg",
                        songs: [
                            { nameStringID: "song_dios_nunca_muera", recordingID: "diosnuncamuere2" },
                            { nameStringID: "song_la_bamba", recordingID: "labamba2" },
                            { nameStringID: "song_la_llorona", recordingID: "lallorona2" },
                        ],
                    },
                    {
                        locationStringID: "location_seoul",
                        name: "seoul",
                        startCameraPosition: [2.3382685902179845, 3.25, 12.65],
                        endCameraPosition: [0, 4.25, 19.5],
                        blobs: [
                            {
                                position: [0, 0, 0],
                                modelPath: "assets/002.flat",
                                scale: 0.85,
                                parameters: {
                                    leftEyeScale: [0.15, 0.17, 0.15],
                                    rightEyeScale: [0.15, 0.17, 0.15],
                                    rightEyeX: -0.184637,
                                    rightEyeZ: 0.234132,
                                    leftEyeX: 0.184637,
                                    leftEyeZ: 0.234132,
                                },
                                stretch: 1,
                                rotationDegrees: 45,
                                subsurfaceColor: "#bbbbbb",
                                singerIndex: 0,
                                mouthRotation: 0,
                                inflation: 1,
                                lipScale: 1.4,
                                pitchScale: 0.5,
                                width: 2,
                                body: {
                                    albedoTexturePath: "assets/002_albedo.jpg",
                                    materialTexturePath: "assets/002_material.png",
                                    normalScale: 1,
                                    hueShift: 0.7,
                                    saturationBoost: 0.3,
                                    lightnessBoost: 0.5,
                                },
                                mouth: { color: "#fcea83" },
                            },
                            {
                                position: [0, 0, 0],
                                scale: 1,
                                parameters: {
                                    leftEyeScale: [0.11, 0.11, 0.11],
                                    rightEyeScale: [0.11, 0.11, 0.11],
                                    rightEyeX: 0.2,
                                    rightEyeZ: -0.01,
                                    leftEyeX: -0.2,
                                    leftEyeZ: -0.01,
                                },
                                stretch: 1,
                                modelPath: "assets/005.flat",
                                rotationDegrees: 45,
                                subsurfaceColor: "#bbbbbb",
                                singerIndex: 1,
                                mouthRotation: 0.2,
                                inflation: 1.4,
                                lipScale: 1.3,
                                pitchScale: 0.5,
                                width: 1.7,
                                body: {
                                    albedoTexturePath: "assets/005_albedo.jpg",
                                    materialTexturePath: "assets/005_material.png",
                                    normalScale: 1,
                                    hueShift: 0.8,
                                    saturationBoost: 0.3,
                                    lightnessBoost: 0.5,
                                },
                                mouth: { color: "#addaf7" },
                            },
                            {
                                position: [0, 0, -0.3],
                                scale: 1,
                                parameters: {
                                    leftEyeScale: [0.16, 0.16, 0.16],
                                    rightEyeScale: [0.16, 0.16, 0.16],
                                    rightEyeX: 0.4,
                                    rightEyeZ: 0.3,
                                    leftEyeX: -0.4,
                                    leftEyeZ: 0.3,
                                },
                                stretch: 1,
                                modelPath: "assets/001.flat",
                                rotationDegrees: 45,
                                subsurfaceColor: "#bbbbbb",
                                singerIndex: 2,
                                mouthRotation: 0.2,
                                inflation: 0.8,
                                lipScale: 1.3,
                                pitchScale: 0.5,
                                width: 1.4,
                                body: {
                                    albedoTexturePath: "assets/001_albedo.jpg",
                                    materialTexturePath: "assets/001_material.png",
                                    normalScale: 1,
                                    hueShift: 0.5,
                                    saturationBoost: 0.3,
                                    lightnessBoost: 0.5,
                                },
                                mouth: { color: "#e4fcc4" },
                            },
                            {
                                position: [0, 0, -0.5],
                                modelPath: "assets/004.flat",
                                scale: 1,
                                parameters: {
                                    leftEyeScale: [0.12, 0.14, 0.12],
                                    rightEyeScale: [0.12, 0.14, 0.12],
                                    rightEyeX: -0.3,
                                    rightEyeZ: 0.21,
                                    leftEyeX: 0.3,
                                    leftEyeZ: 0.21,
                                },
                                stretch: 1.25,
                                rotationDegrees: 45,
                                singerIndex: 3,
                                subsurfaceColor: "#bbbbbb",
                                mouthRotation: 0,
                                inflation: 1.8,
                                lipScale: 1.33,
                                pitchScale: 0.5,
                                width: 3,
                                mouthYScale: 0.9,
                                body: {
                                    albedoTexturePath: "assets/004_albedo.jpg",
                                    materialTexturePath: "assets/004_material.png",
                                    saturationBoost: 0.3,
                                    lightnessBoost: 0.5,
                                    hueShift: 0.7,
                                },
                                mouth: { color: "#ffffff" },
                            },
                        ],
                        backgroundImagePath: "backgrounds/seoul.jpg",
                        backgroundMaskPath: "backgrounds/seoul_mask.jpeg",
                        songs: [
                            { nameStringID: "song_arirang", recordingID: "arirang2" },
                            { nameStringID: "song_han_river", recordingID: "hanriver1" },
                            { nameStringID: "song_doraji", recordingID: "doraji1" },
                        ],
                    },
                    {
                        locationStringID: "location_cape_town",
                        name: "cape_town",
                        startCameraPosition: [2.3382685902179845, 3.25, 12.65],
                        endCameraPosition: [0, 4.25, 19.5],
                        blobs: [
                            {
                                position: [0, 0, 0],
                                modelPath: "assets/004.flat",
                                scale: 1,
                                parameters: {
                                    leftEyeScale: [0.08, 0.08, 0.08],
                                    rightEyeScale: [0.08, 0.08, 0.08],
                                    rightEyeX: -0.2,
                                    rightEyeZ: 0.21,
                                    leftEyeX: 0.2,
                                    leftEyeZ: 0.21,
                                },
                                stretch: 1.25,
                                rotationDegrees: 45,
                                singerIndex: 0,
                                subsurfaceColor: "#bbbbbb",
                                mouthRotation: 0.4,
                                inflation: 1,
                                lipScale: 1.33,
                                pitchScale: 0.5,
                                width: 1.8,
                                mouthYScale: 0.9,
                                body: {
                                    albedoTexturePath: "assets/004_albedo.jpg",
                                    materialTexturePath: "assets/004_material.png",
                                    saturationBoost: 0.1,
                                    lightnessBoost: 0.6,
                                    hueShift: 0.6,
                                    roughnessScale: 0.65,
                                    f0: 0.3,
                                },
                                mouth: { color: "#ffffff" },
                            },
                            {
                                position: [0, 0, 0.2],
                                modelPath: "assets/003.flat",
                                scale: 1.1,
                                parameters: {
                                    leftEyeScale: [0.1, 0.11, 0.1],
                                    rightEyeScale: [0.1, 0.11, 0.1],
                                    rightEyeX: 0.2,
                                    rightEyeZ: 0,
                                    leftEyeX: -0.2,
                                    leftEyeZ: 0,
                                },
                                stretch: 0.9,
                                rotationDegrees: 45,
                                singerIndex: 1,
                                subsurfaceColor: "#bbbbbb",
                                mouthRotation: 0,
                                inflation: 1,
                                lipScale: 1.3,
                                pitchScale: 0.5,
                                width: 1.3,
                                body: {
                                    albedoTexturePath: "assets/003_albedo.jpg",
                                    materialTexturePath: "assets/003_material.png",
                                    saturationBoost: 0.3,
                                    lightnessBoost: 0.7,
                                    hueShift: 0.5,
                                },
                                mouth: { color: "#f7efac" },
                            },
                            {
                                position: [0, 0, -0.2],
                                scale: 1,
                                parameters: {
                                    leftEyeScale: [0.12, 0.12, 0.12],
                                    rightEyeScale: [0.12, 0.12, 0.12],
                                    rightEyeX: 0.3,
                                    rightEyeZ: 0.3,
                                    leftEyeX: -0.3,
                                    leftEyeZ: 0.3,
                                },
                                stretch: 1,
                                modelPath: "assets/001.flat",
                                rotationDegrees: 45,
                                subsurfaceColor: "#bbbbbb",
                                singerIndex: 2,
                                mouthRotation: 0.2,
                                inflation: 0.8,
                                lipScale: 1.3,
                                pitchScale: 0.5,
                                width: 1.944,
                                body: {
                                    albedoTexturePath: "assets/001_albedo.jpg",
                                    materialTexturePath: "assets/001_material.png",
                                    normalScale: 1,
                                    saturationBoost: 0.5,
                                    lightnessBoost: 0.5,
                                    hueShift: 0.6,
                                },
                                mouth: { color: "#b5f4c1" },
                            },
                            {
                                position: [0, 0, 0],
                                modelPath: "assets/002.flat",
                                scale: 0.85,
                                parameters: {
                                    leftEyeScale: [0.15, 0.17, 0.15],
                                    rightEyeScale: [0.15, 0.17, 0.15],
                                    rightEyeX: -0.184637,
                                    rightEyeZ: 0.234132,
                                    leftEyeX: 0.184637,
                                    leftEyeZ: 0.234132,
                                },
                                stretch: 1,
                                rotationDegrees: 45,
                                subsurfaceColor: "#bbbbbb",
                                singerIndex: 3,
                                mouthRotation: 0,
                                inflation: 1,
                                lipScale: 1.3,
                                pitchScale: 0.5,
                                width: 1.7,
                                body: {
                                    albedoTexturePath: "assets/002_albedo.jpg",
                                    materialTexturePath: "assets/002_material.png",
                                    normalScale: 1,
                                    saturationBoost: 0.5,
                                    lightnessBoost: 0.5,
                                    hueShift: 0.35,
                                },
                                mouth: { color: "#eebafb" },
                            },
                        ],
                        backgroundImagePath: "backgrounds/capetown.jpg",
                        backgroundMaskPath: "backgrounds/capetown_mask.jpeg",
                        songs: [
                            { nameStringID: "song_shosholoza", recordingID: "Shosholoza2" },
                            { nameStringID: "song_thula_baba", recordingID: "thulababa2" },
                            { nameStringID: "song_nkosi", recordingID: "nkosi2" },
                        ],
                    },
                    {
                        locationStringID: "location_paris",
                        name: "paris",
                        startCameraPosition: [2.3382685902179845, 3.25, 12.65],
                        endCameraPosition: [0, 4.25, 19.5],
                        blobs: [
                            {
                                position: [0, 0, 0],
                                modelPath: "assets/002.flat",
                                scale: 0.85,
                                parameters: {
                                    leftEyeScale: [0.15, 0.17, 0.15],
                                    rightEyeScale: [0.15, 0.17, 0.15],
                                    rightEyeX: -0.184637,
                                    rightEyeZ: 0.234132,
                                    leftEyeX: 0.184637,
                                    leftEyeZ: 0.234132,
                                },
                                stretch: 1,
                                rotationDegrees: 45,
                                subsurfaceColor: "#bbbbbb",
                                singerIndex: 0,
                                mouthRotation: 0,
                                inflation: 1,
                                lipScale: 1.4,
                                pitchScale: 0.5,
                                width: 1.7,
                                body: {
                                    albedoTexturePath: "assets/002_albedo.jpg",
                                    materialTexturePath: "assets/002_material.png",
                                    normalScale: 1,
                                    saturationBoost: 0.5,
                                    lightnessBoost: 0.5,
                                    hueShift: 0.65,
                                },
                                mouth: { color: "#ffdbae" },
                            },
                            {
                                position: [0, 0, 0],
                                modelPath: "assets/004.flat",
                                scale: 1,
                                parameters: {
                                    leftEyeScale: [0.12, 0.14, 0.12],
                                    rightEyeScale: [0.12, 0.14, 0.12],
                                    rightEyeX: -0.2,
                                    rightEyeZ: 0.19,
                                    leftEyeX: 0.2,
                                    leftEyeZ: 0.19,
                                },
                                stretch: 1.25,
                                rotationDegrees: 45,
                                singerIndex: 1,
                                subsurfaceColor: "#bbbbbb",
                                mouthRotation: 0.4,
                                inflation: 1,
                                lipScale: 1.33,
                                pitchScale: 0.5,
                                width: 1.8,
                                mouthYScale: 0.9,
                                body: {
                                    albedoTexturePath: "assets/004_albedo.jpg",
                                    materialTexturePath: "assets/004_material.png",
                                    saturationBoost: 0.1,
                                    lightnessBoost: 0.8,
                                    hueShift: 0.7,
                                    roughnessScale: 0.65,
                                    f0: 0.3,
                                },
                                mouth: { color: "#ffffff" },
                            },
                            {
                                position: [0, 0, 0],
                                modelPath: "assets/003.flat",
                                scale: 1.1,
                                parameters: {
                                    leftEyeScale: [0.1, 0.11, 0.1],
                                    rightEyeScale: [0.1, 0.11, 0.1],
                                    rightEyeX: 0.2,
                                    rightEyeZ: 0,
                                    leftEyeX: -0.2,
                                    leftEyeZ: 0,
                                    eyeAttachOffset: 0.05,
                                },
                                stretch: 0.9,
                                rotationDegrees: 45,
                                singerIndex: 2,
                                subsurfaceColor: "#bbbbbb",
                                mouthRotation: 0,
                                inflation: 1.3,
                                lipScale: 1.3,
                                pitchScale: 0.5,
                                width: 1.3,
                                body: {
                                    albedoTexturePath: "assets/003_albedo.jpg",
                                    materialTexturePath: "assets/003_material.png",
                                    saturationBoost: 0.5,
                                    lightnessBoost: 0.5,
                                    hueShift: 0.8,
                                },
                                mouth: { color: "#6dfff3" },
                            },
                            {
                                position: [0, 0, -0.4],
                                scale: 1,
                                parameters: {
                                    leftEyeScale: [0.15, 0.165, 0.15],
                                    rightEyeScale: [0.15, 0.165, 0.15],
                                    rightEyeX: 0.3,
                                    rightEyeZ: 0,
                                    leftEyeX: -0.3,
                                    leftEyeZ: 0,
                                },
                                stretch: 1,
                                modelPath: "assets/001.flat",
                                rotationDegrees: 45,
                                subsurfaceColor: "#bbbbbb",
                                singerIndex: 3,
                                mouthRotation: 0.2,
                                inflation: 0.8,
                                lipScale: 1.3,
                                pitchScale: 0.5,
                                width: 1.944,
                                body: {
                                    albedoTexturePath: "assets/001_albedo.jpg",
                                    materialTexturePath: "assets/001_material.png",
                                    normalScale: 1,
                                    saturationBoost: 0.5,
                                    lightnessBoost: 0.5,
                                    hueShift: 0.9,
                                },
                                mouth: { color: "#aa33b8" },
                            },
                        ],
                        backgroundImagePath: "backgrounds/paris.jpg",
                        backgroundMaskPath: "backgrounds/paris_mask.jpeg",
                        songs: [
                            { nameStringID: "song_gymnopedie", recordingID: "gymnopedie6" },
                            { nameStringID: "song_frere_jacques", recordingID: "frerejacques4" },
                            { nameStringID: "song_habanera", recordingID: "habanera2" },
                        ],
                    },
                ],
                midiMappingMode: "keyboard",
                skipTutorial: !1,
                disableDrop: !1,
                disableUI: !1,
            },
            Pn =
                ("undefined" != typeof globalThis && globalThis) ||
                ("undefined" != typeof self && self) ||
                (void 0 !== Pn && Pn),
            Sn = "URLSearchParams" in Pn,
            An = "Symbol" in Pn && "iterator" in Symbol,
            Tn =
                "FileReader" in Pn &&
                "Blob" in Pn &&
                (function () {
                    try {
                        return new Blob(), !0;
                    } catch (e) {
                        return !1;
                    }
                })(),
            En = "FormData" in Pn,
            Mn = "ArrayBuffer" in Pn;
        if (Mn)
            var Rn = [
                    "[object Int8Array]",
                    "[object Uint8Array]",
                    "[object Uint8ClampedArray]",
                    "[object Int16Array]",
                    "[object Uint16Array]",
                    "[object Int32Array]",
                    "[object Uint32Array]",
                    "[object Float32Array]",
                    "[object Float64Array]",
                ],
                zn =
                    ArrayBuffer.isView ||
                    function (e) {
                        return e && Rn.indexOf(Object.prototype.toString.call(e)) > -1;
                    };
        function Cn(e) {
            if (("string" != typeof e && (e = String(e)), /[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e) || "" === e))
                throw new TypeError("Invalid character in header field name");
            return e.toLowerCase();
        }
        function Bn(e) {
            return "string" != typeof e && (e = String(e)), e;
        }
        function jn(e) {
            var t = {
                next: function () {
                    var t = e.shift();
                    return { done: void 0 === t, value: t };
                },
            };
            return (
                An &&
                    (t[Symbol.iterator] = function () {
                        return t;
                    }),
                t
            );
        }
        function Fn(e) {
            (this.map = {}),
                e instanceof Fn
                    ? e.forEach(function (e, t) {
                          this.append(t, e);
                      }, this)
                    : Array.isArray(e)
                    ? e.forEach(function (e) {
                          this.append(e[0], e[1]);
                      }, this)
                    : e &&
                      Object.getOwnPropertyNames(e).forEach(function (t) {
                          this.append(t, e[t]);
                      }, this);
        }
        function Ln(e) {
            if (e.bodyUsed) return Promise.reject(new TypeError("Already read"));
            e.bodyUsed = !0;
        }
        function Dn(e) {
            return new Promise(function (t, n) {
                (e.onload = function () {
                    t(e.result);
                }),
                    (e.onerror = function () {
                        n(e.error);
                    });
            });
        }
        function On(e) {
            var t = new FileReader(),
                n = Dn(t);
            return t.readAsArrayBuffer(e), n;
        }
        function In(e) {
            if (e.slice) return e.slice(0);
            var t = new Uint8Array(e.byteLength);
            return t.set(new Uint8Array(e)), t.buffer;
        }
        function Nn() {
            return (
                (this.bodyUsed = !1),
                (this._initBody = function (e) {
                    var t;
                    (this.bodyUsed = this.bodyUsed),
                        (this._bodyInit = e),
                        e
                            ? "string" == typeof e
                                ? (this._bodyText = e)
                                : Tn && Blob.prototype.isPrototypeOf(e)
                                ? (this._bodyBlob = e)
                                : En && FormData.prototype.isPrototypeOf(e)
                                ? (this._bodyFormData = e)
                                : Sn && URLSearchParams.prototype.isPrototypeOf(e)
                                ? (this._bodyText = e.toString())
                                : Mn && Tn && (t = e) && DataView.prototype.isPrototypeOf(t)
                                ? ((this._bodyArrayBuffer = In(e.buffer)),
                                  (this._bodyInit = new Blob([this._bodyArrayBuffer])))
                                : Mn && (ArrayBuffer.prototype.isPrototypeOf(e) || zn(e))
                                ? (this._bodyArrayBuffer = In(e))
                                : (this._bodyText = e = Object.prototype.toString.call(e))
                            : (this._bodyText = ""),
                        this.headers.get("content-type") ||
                            ("string" == typeof e
                                ? this.headers.set("content-type", "text/plain;charset=UTF-8")
                                : this._bodyBlob && this._bodyBlob.type
                                ? this.headers.set("content-type", this._bodyBlob.type)
                                : Sn &&
                                  URLSearchParams.prototype.isPrototypeOf(e) &&
                                  this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"));
                }),
                Tn &&
                    ((this.blob = function () {
                        var e = Ln(this);
                        if (e) return e;
                        if (this._bodyBlob) return Promise.resolve(this._bodyBlob);
                        if (this._bodyArrayBuffer) return Promise.resolve(new Blob([this._bodyArrayBuffer]));
                        if (this._bodyFormData) throw new Error("could not read FormData body as blob");
                        return Promise.resolve(new Blob([this._bodyText]));
                    }),
                    (this.arrayBuffer = function () {
                        if (this._bodyArrayBuffer) {
                            var e = Ln(this);
                            return (
                                e ||
                                (ArrayBuffer.isView(this._bodyArrayBuffer)
                                    ? Promise.resolve(
                                          this._bodyArrayBuffer.buffer.slice(
                                              this._bodyArrayBuffer.byteOffset,
                                              this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength
                                          )
                                      )
                                    : Promise.resolve(this._bodyArrayBuffer))
                            );
                        }
                        return this.blob().then(On);
                    })),
                (this.text = function () {
                    var e,
                        t,
                        n,
                        i = Ln(this);
                    if (i) return i;
                    if (this._bodyBlob)
                        return (e = this._bodyBlob), (t = new FileReader()), (n = Dn(t)), t.readAsText(e), n;
                    if (this._bodyArrayBuffer)
                        return Promise.resolve(
                            (function (e) {
                                for (var t = new Uint8Array(e), n = new Array(t.length), i = 0; i < t.length; i++)
                                    n[i] = String.fromCharCode(t[i]);
                                return n.join("");
                            })(this._bodyArrayBuffer)
                        );
                    if (this._bodyFormData) throw new Error("could not read FormData body as text");
                    return Promise.resolve(this._bodyText);
                }),
                En &&
                    (this.formData = function () {
                        return this.text().then(Un);
                    }),
                (this.json = function () {
                    return this.text().then(JSON.parse);
                }),
                this
            );
        }
        (Fn.prototype.append = function (e, t) {
            (e = Cn(e)), (t = Bn(t));
            var n = this.map[e];
            this.map[e] = n ? n + ", " + t : t;
        }),
            (Fn.prototype.delete = function (e) {
                delete this.map[Cn(e)];
            }),
            (Fn.prototype.get = function (e) {
                return (e = Cn(e)), this.has(e) ? this.map[e] : null;
            }),
            (Fn.prototype.has = function (e) {
                return this.map.hasOwnProperty(Cn(e));
            }),
            (Fn.prototype.set = function (e, t) {
                this.map[Cn(e)] = Bn(t);
            }),
            (Fn.prototype.forEach = function (e, t) {
                for (var n in this.map) this.map.hasOwnProperty(n) && e.call(t, this.map[n], n, this);
            }),
            (Fn.prototype.keys = function () {
                var e = [];
                return (
                    this.forEach(function (t, n) {
                        e.push(n);
                    }),
                    jn(e)
                );
            }),
            (Fn.prototype.values = function () {
                var e = [];
                return (
                    this.forEach(function (t) {
                        e.push(t);
                    }),
                    jn(e)
                );
            }),
            (Fn.prototype.entries = function () {
                var e = [];
                return (
                    this.forEach(function (t, n) {
                        e.push([n, t]);
                    }),
                    jn(e)
                );
            }),
            An && (Fn.prototype[Symbol.iterator] = Fn.prototype.entries);
        var Gn = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];
        function Hn(e, t) {
            if (!(this instanceof Hn))
                throw new TypeError(
                    'Please use the "new" operator, this DOM object constructor cannot be called as a function.'
                );
            var n,
                i,
                o = (t = t || {}).body;
            if (e instanceof Hn) {
                if (e.bodyUsed) throw new TypeError("Already read");
                (this.url = e.url),
                    (this.credentials = e.credentials),
                    t.headers || (this.headers = new Fn(e.headers)),
                    (this.method = e.method),
                    (this.mode = e.mode),
                    (this.signal = e.signal),
                    o || null == e._bodyInit || ((o = e._bodyInit), (e.bodyUsed = !0));
            } else this.url = String(e);
            if (
                ((this.credentials = t.credentials || this.credentials || "same-origin"),
                (!t.headers && this.headers) || (this.headers = new Fn(t.headers)),
                (this.method =
                    ((n = t.method || this.method || "GET"), (i = n.toUpperCase()), Gn.indexOf(i) > -1 ? i : n)),
                (this.mode = t.mode || this.mode || null),
                (this.signal = t.signal || this.signal),
                (this.referrer = null),
                ("GET" === this.method || "HEAD" === this.method) && o)
            )
                throw new TypeError("Body not allowed for GET or HEAD requests");
            if (
                (this._initBody(o),
                !(
                    ("GET" !== this.method && "HEAD" !== this.method) ||
                    ("no-store" !== t.cache && "no-cache" !== t.cache)
                ))
            ) {
                var a = /([?&])_=[^&]*/;
                if (a.test(this.url)) this.url = this.url.replace(a, "$1_=" + new Date().getTime());
                else {
                    this.url += (/\?/.test(this.url) ? "&" : "?") + "_=" + new Date().getTime();
                }
            }
        }
        function Un(e) {
            var t = new FormData();
            return (
                e
                    .trim()
                    .split("&")
                    .forEach(function (e) {
                        if (e) {
                            var n = e.split("="),
                                i = n.shift().replace(/\+/g, " "),
                                o = n.join("=").replace(/\+/g, " ");
                            t.append(decodeURIComponent(i), decodeURIComponent(o));
                        }
                    }),
                t
            );
        }
        function Vn(e, t) {
            if (!(this instanceof Vn))
                throw new TypeError(
                    'Please use the "new" operator, this DOM object constructor cannot be called as a function.'
                );
            t || (t = {}),
                (this.type = "default"),
                (this.status = void 0 === t.status ? 200 : t.status),
                (this.ok = this.status >= 200 && this.status < 300),
                (this.statusText = "statusText" in t ? t.statusText : ""),
                (this.headers = new Fn(t.headers)),
                (this.url = t.url || ""),
                this._initBody(e);
        }
        (Hn.prototype.clone = function () {
            return new Hn(this, { body: this._bodyInit });
        }),
            Nn.call(Hn.prototype),
            Nn.call(Vn.prototype),
            (Vn.prototype.clone = function () {
                return new Vn(this._bodyInit, {
                    status: this.status,
                    statusText: this.statusText,
                    headers: new Fn(this.headers),
                    url: this.url,
                });
            }),
            (Vn.error = function () {
                var e = new Vn(null, { status: 0, statusText: "" });
                return (e.type = "error"), e;
            });
        var Yn = [301, 302, 303, 307, 308];
        Vn.redirect = function (e, t) {
            if (-1 === Yn.indexOf(t)) throw new RangeError("Invalid status code");
            return new Vn(null, { status: t, headers: { location: e } });
        };
        var qn = Pn.DOMException;
        try {
            new qn();
        } catch (e) {
            ((qn = function (e, t) {
                (this.message = e), (this.name = t);
                var n = Error(e);
                this.stack = n.stack;
            }).prototype = Object.create(Error.prototype)),
                (qn.prototype.constructor = qn);
        }
        function Wn(e, t) {
            return new Promise(function (n, i) {
                var o = new Hn(e, t);
                if (o.signal && o.signal.aborted) return i(new qn("Aborted", "AbortError"));
                var a = new XMLHttpRequest();
                function r() {
                    a.abort();
                }
                (a.onload = function () {
                    var e,
                        t,
                        i = {
                            status: a.status,
                            statusText: a.statusText,
                            headers:
                                ((e = a.getAllResponseHeaders() || ""),
                                (t = new Fn()),
                                e
                                    .replace(/\r?\n[\t ]+/g, " ")
                                    .split("\r")
                                    .map(function (e) {
                                        return 0 === e.indexOf("\n") ? e.substr(1, e.length) : e;
                                    })
                                    .forEach(function (e) {
                                        var n = e.split(":"),
                                            i = n.shift().trim();
                                        if (i) {
                                            var o = n.join(":").trim();
                                            t.append(i, o);
                                        }
                                    }),
                                t),
                        };
                    i.url = "responseURL" in a ? a.responseURL : i.headers.get("X-Request-URL");
                    var o = "response" in a ? a.response : a.responseText;
                    setTimeout(function () {
                        n(new Vn(o, i));
                    }, 0);
                }),
                    (a.onerror = function () {
                        setTimeout(function () {
                            i(new TypeError("Network request failed"));
                        }, 0);
                    }),
                    (a.ontimeout = function () {
                        setTimeout(function () {
                            i(new TypeError("Network request failed"));
                        }, 0);
                    }),
                    (a.onabort = function () {
                        setTimeout(function () {
                            i(new qn("Aborted", "AbortError"));
                        }, 0);
                    }),
                    a.open(
                        o.method,
                        (function (e) {
                            try {
                                return "" === e && Pn.location.href ? Pn.location.href : e;
                            } catch (t) {
                                return e;
                            }
                        })(o.url),
                        !0
                    ),
                    "include" === o.credentials
                        ? (a.withCredentials = !0)
                        : "omit" === o.credentials && (a.withCredentials = !1),
                    "responseType" in a &&
                        (Tn
                            ? (a.responseType = "blob")
                            : Mn &&
                              o.headers.get("Content-Type") &&
                              -1 !== o.headers.get("Content-Type").indexOf("application/octet-stream") &&
                              (a.responseType = "arraybuffer")),
                    !t || "object" != typeof t.headers || t.headers instanceof Fn
                        ? o.headers.forEach(function (e, t) {
                              a.setRequestHeader(t, e);
                          })
                        : Object.getOwnPropertyNames(t.headers).forEach(function (e) {
                              a.setRequestHeader(e, Bn(t.headers[e]));
                          }),
                    o.signal &&
                        (o.signal.addEventListener("abort", r),
                        (a.onreadystatechange = function () {
                            4 === a.readyState && o.signal.removeEventListener("abort", r);
                        })),
                    a.send(void 0 === o._bodyInit ? null : o._bodyInit);
            });
        }
        (Wn.polyfill = !0), Pn.fetch || ((Pn.fetch = Wn), (Pn.Headers = Fn), (Pn.Request = Hn), (Pn.Response = Vn));
        n(42);
        function Jn(e) {
            return e.split("-")[0];
        }
        function Kn() {
            return Promise.resolve(wn);
        }
        function Xn() {
            var e,
                t = new URLSearchParams(window.location.search);
            return t.has("notheme")
                ? y.Normal
                : t.has("christmas")
                ? y.Christmas
                : t.has("newyears")
                ? y.NewYears
                : ((e = new Date()), Object(d.m)(e) ? y.NewYears : Object(d.l)(e) ? y.Christmas : y.Normal);
        }
        function Zn() {
            return (
                "1" === new URLSearchParams(window.location.search).get("axl") ? gn() : Promise.resolve(new fn())
            ).then(function (e) {
                var t,
                    n = e.location;
                return ((t = n),
                "Recording" === t.kind
                    ? new jt()
                          .loadRecording(t.recordingID)
                          .then(function (e) {
                              return {
                                  kind: "Recording",
                                  recording: e,
                                  recordingID: t.recordingID,
                                  festiveTheme: e.theme === y.Normal ? Xn() : e.theme,
                              };
                          })
                          .catch(function (e) {
                              return { kind: "Default", festiveTheme: Xn() };
                          })
                    : Promise.resolve({ kind: "Default", festiveTheme: Xn() })).then(function (t) {
                    return [e, t];
                });
            });
        }
        function Qn(e, t, n, i) {
            return Zn().then(function (o) {
                var a = o[0],
                    r = o[1],
                    s = "default";
                "Recording" === r.kind && (s = w(r.recording.location));
                var l = (function (e, t) {
                    return e.scenes.find(function (e) {
                        return e.name === t;
                    });
                })(e, s);
                return r.festiveTheme === y.NewYears
                    ? Promise.all([Zt(oi, n, l), $n(t), At(i, "party", Object(gt.a)("party.mp3"))]).then(function (e) {
                          return {
                              environment: a,
                              initOptions: r,
                              sceneConfig: l,
                              sceneAssets: e[0],
                              balloonAssets: e[1],
                              additionalSamples: [e[2]],
                          };
                      })
                    : r.festiveTheme === y.Christmas
                    ? Promise.all([Zt(oi, n, l), At(i, "bells", Object(gt.a)("bells.mp3"))]).then(function (e) {
                          return {
                              environment: a,
                              initOptions: r,
                              sceneConfig: l,
                              sceneAssets: e[0],
                              additionalSamples: [e[1]],
                          };
                      })
                    : Zt(oi, n, l).then(function (e) {
                          return { environment: a, initOptions: r, sceneConfig: l, sceneAssets: e };
                      });
            });
        }
        function $n(e) {
            var t = Object(d.h)(new Date()),
                n = new URLSearchParams(window.location.search);
            n.has("year") && (t = n.get("year"));
            for (
                var i = {},
                    o = [],
                    a = function (e) {
                        var n = t.charAt(e);
                        i[n] ||
                            ((i[n] = !0),
                            o.push(
                                Object(mt.a)(Object(gt.a)("assets/balloon_" + n + ".flat")).then(function (e) {
                                    return { digit: n, buffer: new Uint8Array(e) };
                                })
                            ));
                    },
                    r = 0;
                r < t.length;
                ++r
            )
                a(r);
            return Promise.all([
                Promise.all(o),
                Object(mt.b)(Object(gt.a)("assets/balloon_normals.png")),
                Object(mt.b)(Object(gt.a)("assets/balloon_environment.jpg")),
            ]).then(function (n) {
                for (var i = {}, o = 0, a = n[0]; o < a.length; o++) {
                    var r = a[o];
                    i[r.digit] = r.buffer;
                }
                return {
                    year: t,
                    rigidMeshData: i,
                    normalMap: s(e, 0, n[1], e.REPEAT, e.REPEAT, e.LINEAR, e.LINEAR, !1),
                    environmentMap: s(e, 0, n[2], e.REPEAT, e.REPEAT, e.LINEAR, e.LINEAR, !0),
                };
            });
        }
        function ei(e) {
            var t = document.createElement("div");
            document.body.appendChild(t), (t.outerHTML = e);
        }
        var ti = document.createElement("canvas");
        (ti.style.zIndex = "-1"),
            (ti.style.position = "fixed"),
            (ti.style.width = "100%"),
            (ti.style.height = "100%"),
            (ti.style.display = "block");
        var ni = (function () {
                var e = (function (e) {
                    return "in" === e ? "id" : e;
                })(new URLSearchParams(window.location.search).get("lang"));
                if (null !== e) {
                    if (e in Lt) return e;
                    for (var t in Lt) if (Jn(e) === Jn(t)) return t;
                }
                return "en-US";
            })(),
            ii = ti.getContext("webgl", { alpha: !1 }),
            oi = new Kt(),
            ai = new Jt(ii),
            ri = null;
        if (
            ((ri = new (window.AudioContext || window.webkitAudioContext)()),
            null !== ii &&
                (window.AudioContext || window.webkitAudioContext) &&
                window.Worker &&
                "object" == typeof WebAssembly)
        ) {
            ei(
                kn(
                    '<div id="splash" class="hideable-unclickable visible"> <div id="intro">{{splash_intro}}</div> <div id="title" class="title"><img id="title-image" src="./files/logo-2x.png"></div> <div id="tagline">{{splash_description}}</div> <div id="tagline">{{yell0wsuit_credit}}</div> <div id="loading" class="loading-visible"> <div id="loading-bar"> <div id="loading-fill"><div id="loading-play">{{button_begin}}</div></div> </div> <div id="audio-prompt">{{splash_sound_hint}}</div> <div id="silent-hint"><span class="material-icons" style="vertical-align:middle">notifications</span>{{splash_silent_hint}}</div> </div> </div> <div id="disclaimer" class="hideable-unclickable visible"> {{disclaimer}} </div> <div id="landscape-warning-overlay"> <div> <div id="landscape-warning-desktop"> <div class="landscape-warning-icon"><span class="material-icons">fullscreen</span></div> <div class="landscape-warning-text">{{landscape_warning_desktop}}</div> </div> <div id="landscape-warning-mobile"> <div class="landscape-warning-icon"><span class="material-icons">screen_rotation</span></div> <div class="landscape-warning-text">{{landscape_warning_mobile}}</div> </div> </div> </div>',
                    Lt[ni]
                )
            ),
                yt() && document.getElementById("silent-hint").classList.add("silent-hint-show");
            var si = function () {
                    window.innerHeight < 400
                        ? (bt()
                              ? ((document.getElementById("landscape-warning-desktop").style.display = "none"),
                                (document.getElementById("landscape-warning-mobile").style.display = "block"))
                              : ((document.getElementById("landscape-warning-mobile").style.display = "none"),
                                (document.getElementById("landscape-warning-desktop").style.display = "block")),
                          (document.getElementById("landscape-warning-overlay").style.display = "flex"))
                        : ((document.getElementById("landscape-warning-overlay").style.display = "none"),
                          window.scrollTo(0, 1));
                },
                li = vt() ? "eyelow.flat" : "eye.flat",
                ui = li.includes("json");
            window.addEventListener("resize", si),
                si(),
                Kn().then(function (e) {
                    var t, n, i;
                    (function (e, t) {
                        for (var n = e.length, i = 0, o = 0, a = e; o < a.length; o++) {
                            a[o].then(function () {
                                t((i += 1) / n);
                            });
                        }
                        return Promise.all(e);
                    })(
                        [
                            dt({
                                locateFile: function (e, t) {
                                    return (
                                        (e += Object(kt.a)()),
                                        Object(xt.a)()
                                            ? Object(gt.a)(e.replace(".wasm", "-simd.wasm"))
                                            : Object(gt.a)(e)
                                    );
                                },
                            }),
                            ((t = ri),
                            (n = 4),
                            (i = Object(gt.a)("jittertemplates.proto")),
                            Promise.resolve(_n.a).then(function (e) {
                                vt() && (e.scriptProcessorBufferSize = 8192);
                                var o = bt() ? 24e3 : 32e3;
                                return St(t, n, i, e, o);
                            })),
                            new Promise(function (e, t) {
                                var n = new Worker(Object(gt.a)("harmonizerworker.js" + Object(kt.a)()));
                                n.onmessage = function (t) {
                                    "Loaded" === t.data.type && e(new Rt(n));
                                };
                            }),
                            zt(4, vt() ? 1 : 4),
                            Object(mt.a)(Object(gt.a)("recordedlibrettos.proto")),
                            Object(mt.a)(Object(gt.a)(li)),
                            Qn(e, ii, ai, ri),
                        ],
                        function (e) {
                            document.getElementById("loading-fill").style.width = Math.round(100 * e).toFixed(0) + "%";
                        }
                    ).then(function (t) {
                        var n = t[6],
                            i = n.environment,
                            o = n.initOptions,
                            a = n.sceneConfig,
                            r = n.sceneAssets,
                            s = !1,
                            l = function () {
                                if (!s) {
                                    (s = !0),
                                        document.body.appendChild(ti),
                                        ei(
                                            kn(
                                                '<div id="skip" class="hideable-clickable"> {{label_skip_tutorial}} &gt; </div> <div id="title-small" class="title hideable-unclickable"><img id="title-small-image" src="./files/logo-1x.png"></div> <div id="soprano-prompt" class="voice-prompt prompt prompt-right-arrow hideable-unclickable">{{prompt_soprano}}</div> <div id="alto-prompt" class="voice-prompt prompt prompt-right-arrow hideable-unclickable">{{prompt_mezzo}}</div> <div id="tenor-prompt" class="voice-prompt prompt prompt-right-arrow hideable-unclickable">{{prompt_tenor}}</div> <div id="bass-prompt" class="voice-prompt prompt prompt-right-arrow hideable-unclickable">{{prompt_bass}}</div> <div id="pitch-prompt" class="prompt prompt-left-arrow hideable-unclickable">{{prompt_pitch}}&nbsp;<span id="pitch-prompt-pitch"></span></div> <div id="vowel-prompt" class="prompt prompt-bottom-arrow hideable-unclickable">{{prompt_vowel}}&nbsp;<span id="vowel-prompt-vowel"></span></div> <svg style="width:0;height:0;position:absolute;z-index:-1"> <defs> <g id="silence-line"> <line x1="10" y1="10" x2="40" y2="40"></line> </g> <g id="silence-icon"> <path d="\n                M 10 20\n                L 10 30\n                L 19 30\n                L 30 40\n                L 30 10\n                L 19 20\n                Z\n            " fill="white" stroke="white" stroke-width="1" stroke-linecap="butt" stroke-linejoin="round"/> <path d="\n            M 33 20\n            A 10 10 0 0 1 33 30\n\n            M 35 15\n            A 15 15 0 0 1 35 35\n            " fill="transparent" stroke="white" stroke-width="1.5"></path> </g> </defs> </svg> <div id="record-container" class="button-container hideable-clickable"> <div id="record"> <div id="record-start"></div> </div> <div id="record-text" class="button-text">{{label_record}}</div> </div> <div id="upload-container" class="button-container hideable-clickable"><div id="upload" class="button material-icons">upload</div><div id="upload-text" class="button-text">Upload</div></div> <div id="stop-recording-container" class="button-container hideable-clickable recording"> <div id="recording-timecode" class="timecode"></div> <div id="stop-record"> <div id="record-start"></div> </div> <div id="finish-text" class="button-text">{{label_finish}}</div> </div> <div id="stop-recording-prompt" class="prompt prompt-left-arrow hideable-unclickable">{{prompt_stop_recording}}</div> <div id="share-recording-prompt" class="prompt prompt-bottom-arrow share-prompt hideable-unclickable">{{prompt_save}}</div> <div id="share-carol-prompt" class="prompt prompt-bottom-arrow share-prompt hideable-unclickable">{{prompt_save_carol}}</div> <div id="festive-prompt" class="prompt prompt-bottom-arrow hideable-unclickable"></div> <div id="location-selection-prompt" class="prompt prompt-bottom-arrow hideable-unclickable">{{prompt_locations}}</div> <div id="location-songs-prompt" class="prompt prompt-bottom-arrow hideable-unclickable">{{prompt_location_songs}}</div> <div id="upload-prompt" class="prompt prompt-bottom-arrow hideable-unclickable">{{prompt_upload}}</div> <div id="save-container" class="button-container hideable-clickable"> <div id="save" class="button material-icons">save</div> <div id="save-text" class="button-text">{{label_save}}</div> <div id="saving-text" class="button-text">{{label_saving}}</div> </div> <div id="startstop-container" class="button-container hideable-clickable"> <div id="playback-timecode" class="timecode"></div> <svg id="startstop-ring" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 58 58"> <circle class="progress-circle" r="26" cx="29" cy="29" stroke-width="6" stroke="rgba(255, 255, 255, 0.2)" fill="transparent"/> <path class="progress-ring" d="" stroke-width="6" stroke="white" fill="transparent"/> </svg> <div id="startstop" class=""> <div id="startstop-play"></div> <div id="startstop-stop"></div> </div> <div id="play-text" class="button-text">{{label_play}}</div> <div id="stop-text" class="button-text">{{label_stop}}</div> </div> <div id="back-container" class="button-container hideable-clickable"> <div class="button-text">{{label_back}}</div> <div id="back" class="button material-icons">arrow_back</div> </div> <div id="festive-switch-container" class="hideable-clickable"> <label class="switch" id="festive-switch"> <input type="checkbox" name="festive"> <span class="slider round"></span> </label> </div> <div id="festive-playlist" class="festive-button material-icons hideable-clickable">queue_music</div> <div id="location-playlist-tray" class="hideable-clickable"> <div id="location-playlist-button" class="playlist-button material-icons hideable-clickable">queue_music</div> <div id="location-label"></div> </div> <div id="location-selector-button" class="location-button material-icons hideable-clickable">public</div> <div id="play" class="hideable-clickable">{{prompt_in_playback_shared}}</div> <div id="muted-container" class="hideable-unclickable"> <svg width="100%" height="100%" viewBox="-10 -10 70 70" xmlns="http://www.w3.org/2000/svg"> <mask id="line-mask" width="200%"> <rect x="-10" y="-10" width="160" height="100" fill="white"></rect> <line x1="10" y1="10" x2="40" y2="40" stroke="black" stroke-width="4"></line> </mask> <path d="\n            M 10 20\n            L 10 30\n            L 19 30\n            L 30 40\n            L 30 10\n            L 19 20\n            Z\n        " mask="url(#line-mask)" fill="white" stroke="white" stroke-width="1" stroke-linecap="butt" stroke-linejoin="round"/> <line x1="10" y1="10" x2="40" y2="40" stroke="white" stroke-width="2"></line> <path d="\n        M 33 20\n        A 10 10 0 0 1 33 30\n\n        M 35 15\n        A 15 15 0 0 1 35 35\n        " mask="url(#line-mask)" fill="transparent" stroke="white" stroke-width="1.5"></path> </svg> <div id="muted-text">{{prompt_unmute}}</div> </div> <div id="info" class="hideable-clickable">?</div> <div id="info-overlay" class="hideable-clickable"> <div id="info-container"> <div id="info-title" class="title"><img id="title-small-image" src="./files/logo-1x.png"></div> <p> {{info_body}} </p> <div id="close-info" class="button material-icons">close</div> </div> </div> <div id="festive-songs-container" class="menu-container hideable-clickable prompt-bottom-arrow"> <ul id="festive-songs" class="menu-items"></ul> </div> <div id="location-selector-container" class="menu-container hideable-clickable prompt-bottom-arrow"> <ul id="location-selector" class="menu-items"></ul> </div> <div id="location-songs-container" class="menu-container hideable-clickable prompt-bottom-arrow"> <ul id="location-songs" class="menu-items"></ul> </div> <svg id="recording-frame-top-left" viewbox="0 0 1 1" class="recording-frame-corner hideable-unclickable"> <path d="M 1 0 L 0 0 L 0 1" fill="transparent"></path> </svg> <svg id="recording-frame-top-right" viewbox="0 0 1 1" class="recording-frame-corner hideable-unclickable"> <path d="M 0 0 L 1 0 L 1 1" fill="transparent"></path> </svg> <svg id="recording-frame-bottom-left" viewbox="0 0 1 1" class="recording-frame-corner hideable-unclickable"> <path d="M 1 1 L 0 1 L 0 0" fill="transparent"></path> </svg> <svg id="recording-frame-bottom-right" viewbox="0 0 1 1" class="recording-frame-corner hideable-unclickable"> <path d="M 1 0 L 1 1 L 0 1" fill="transparent"></path> </svg> <div id="recording-indicator" class="hideable-unclickable"> <div id="recording-icon"></div>RECORDING </div> <div id="tutorial-prompt-pitch" class="hideable-unclickable tutorial-prompt">{{tutorial_pitch}}</div> <div id="tutorial-prompt-vowel" class="hideable-unclickable tutorial-prompt">{{tutorial_vowel}}</div> <div id="tutorial-prompt-harmonization" class="hideable-unclickable tutorial-prompt">{{tutorial_harmonization}}</div> <div id="tutorial-prompt-mute" class="hideable-unclickable tutorial-prompt">{{tutorial_mute}}</div> <div id="tutorial-prompt-end" class="hideable-unclickable tutorial-prompt">{{tutorial_end}}</div> <div id="timer"></div> <div id="performance-warning" class="hideable-clickable"> <div id="performance-warning-content"> <div id="performance-warning-icon" class="material-icons">warning</div> <div id="performance-warning-text">{{performance_warning}}</div> <div id="performance-warning-dismiss">{{performance_warning_dismiss}}</div> </div> </div>',
                                                Lt[ni]
                                            )
                                        );
                                    var l = t[0],
                                        u = t[1];
                                    if (n.additionalSamples)
                                        for (var c = 0, h = n.additionalSamples; c < h.length; c++) {
                                            var d = h[c];
                                            u.samplePlayer.addSample(d.name, d);
                                        }
                                    var p = vt() ? 3 : 0,
                                        m = new ht(
                                            e,
                                            ti,
                                            ii,
                                            l,
                                            t[2],
                                            t[3],
                                            u,
                                            new Uint8Array(t[4]),
                                            r,
                                            o,
                                            u.synthRunner.audioParameters.frameHopSeconds,
                                            vt() ? { blobSubdivisions: 0 } : { blobSubdivisions: 1 },
                                            p,
                                            a,
                                            new Uint8Array(t[5]),
                                            ui,
                                            n.balloonAssets
                                        );
                                    if (e.disableUI)
                                        document.getElementById("splash").classList.remove("visible"),
                                            document.getElementById("disclaimer").classList.remove("visible");
                                    else new rn(e, m, i, o, ni, oi, ai);
                                    var f = document.getElementById("loading");
                                    (f.className = "loading-hidden"),
                                        window.setTimeout(function () {
                                            f.parentNode.removeChild(f);
                                        }, 300),
                                        (i.onFreeze = function () {
                                            m.freeze();
                                        }),
                                        (i.onResume = function () {
                                            m.resume();
                                        });
                                    var g = function () {
                                        m.state === Qe.Playing && m.stopPlayback(),
                                            m.audio.synthRunner.setTimingEnabled(!1);
                                    };
                                    document.addEventListener("visibilitychange", function (e) {
                                        "hidden" === document.visibilityState
                                            ? g()
                                            : "visible" === document.visibilityState &&
                                              m.audio.synthRunner.setTimingEnabled(!0);
                                    }),
                                        window.addEventListener("pagehide", g),
                                        window.addEventListener("pageshow", function () {
                                            m.audio.synthRunner.setTimingEnabled(!0);
                                        }),
                                        i.track({ action: "launch-experiment" });
                                }
                            },
                            u = function () {
                                t[1].tryUnlock(), l();
                            };
                        vt() || yt()
                            ? ((document.getElementById("loading-bar").className = "loading-button"),
                              document.getElementById("loading-bar").addEventListener("touchstart", function (e) {
                                  e.preventDefault();
                              }),
                              document.getElementById("loading-bar").addEventListener("touchend", u),
                              document.getElementById("loading-bar").addEventListener("click", u))
                            : l();
                    });
                });
        } else
            ei(
                kn(
                    '<div id="error">Your browser doesn\'t support the required features. Try another browser and/or device!</div>',
                    Lt[ni]
                )
            );
    },
]);
